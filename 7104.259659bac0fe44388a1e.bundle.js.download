"use strict";(self.webpackChunkpmw=self.webpackChunkpmw||[]).push([[7104,4367],{54367:(e,t,o)=>{o.d(t,{L:()=>G});var s=o(67294),a=o(45697),l=o.n(a);function r(e,t,o){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,o)}function i(e,t){var o=function(e,t,o){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,o)}var n=new WeakMap,p=new WeakMap;class d extends s.Component{constructor(...e){super(...e),r(this,n,{writable:!0,value:()=>this.props.currentIndex===this.props.totalItems-1?"show-more":""}),r(this,p,{writable:!0,value:()=>this.props.isLink?s.createElement("a",{className:"dropdown-anchor",href:this.props.href},this.props.label,s.createElement("span",{className:"dropdown-notification "+(!this.props.showNotification||this.props.isSelected?"hidden":"")})):this.props.label})}render(){return s.createElement("li",{className:`${this.props.dropdownItemClasses} dropdown-item ${this.props.isSelected?"js-selected selected":""} ${this.props.disabled?"-disabled":""} ${this.props.isLink?"-has-link":""} ${this.props.enableShowMore?i(this,n).call(this):""} `,onClick:this.props.onDropdownItemClick,"data-value":this.props.dataValue,title:this.props.title},i(this,p).call(this))}}d.propTypes={dataValue:l().any.isRequired,label:l().oneOfType([l().string,l().object]),isSelected:l().bool.isRequired,onDropdownItemClick:l().func.isRequired,dropdownItemClasses:l().string,isLink:l().bool,href:l().string,disabled:l().bool,title:l().string,showNotification:l().bool},d.defaultProps={isSelected:!1,dropdownItemClasses:"",dataValue:"",label:"",isLink:!1,href:"",disabled:!1,title:"",showNotification:!1,enableShowMore:!1};const h=d;var c=o(73935),u=o(88974),w=o(40340),m=o(93384);function f(e,t,o){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,o)}function b(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function v(e,t){var o=function(e,t,o){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,o)}var g=new WeakMap,C=new WeakMap,y=new WeakMap,M=new WeakMap,k=new WeakMap,S=new WeakMap,W=new WeakMap,D=new WeakMap,E=new WeakMap,I=new WeakMap,N=new WeakMap,R=new WeakMap,T=new WeakMap,x=new WeakMap,O=new WeakMap,V=new WeakMap,L=new WeakMap,P=new WeakMap,q=new WeakMap,j=new WeakMap,A=new WeakMap,H=new WeakMap,B=new WeakMap,_=new WeakMap,z=new WeakMap;class F extends s.Component{constructor(e){super(e),f(this,g,{writable:!0,value:(e,t,o)=>o-e<=t}),f(this,C,{writable:!0,value:(e,t)=>{const o=e.querySelector(".shadowed-wrapper-after"),s=e.querySelector(".js-show-more-button-a");t?(o.classList.add("hidden"),s.classList.add("hidden")):(o.classList.remove("hidden"),s.classList.remove("hidden"))}}),f(this,y,{writable:!0,value:e=>{const t=e.target.closest(".dropdown-content"),o=t.querySelector(".overlayWrapper").scrollTop,s=t.querySelector(".overlayWrapper").clientHeight,a=t.querySelector(".overlayWrapper").scrollHeight,l=v(this,g).call(this,o,s,a);v(this,C).call(this,t,l),0===o&&t.querySelector(".shadowed-wrapper-before").classList.add("hidden"),o>0&&t.querySelector(".shadowed-wrapper-before").classList.remove("hidden")}}),f(this,M,{writable:!0,value:e=>this.props.defaultDataValue!==e.defaultDataValue&&this.props.defaultDataValue!==this.state.dataValue}),f(this,k,{writable:!0,value:()=>{let e=this.props.dropdownItems.find((e=>e.dataValue===this.state.dataValue));return e?e.label:"&nbsp;"}}),f(this,S,{writable:!0,value:e=>this.props.showMore?s.createElement("div",{className:"dropdown-content dropdown-wrapper-not-scrollable -without-top-offset "+(this.props.toggleShowMore?"-spec":"")},s.createElement("div",{className:"overlayWrapper",onScroll:e=>{v(this,y).call(this,e)}},s.createElement("div",{className:"shadowed-wrapper-before hidden"}),s.createElement("ul",{className:`js-dropdown-content  ${this.props.dropdownContentAlignment} ${this.props.dropdownContentClasses} -show-more-enabled`,style:v(this,z).call(this)?v(this,D).call(this):null},v(this,q).call(this,e)),s.createElement("div",{className:"shadowed-wrapper-after"})),s.createElement(m.zx,{text:i18next.t("pmwjs_show_more"),customClasses:"btn-show-more-button radius-round js-show-more-button-a",type:m.wD.SECONDARY,size:m.NO.SMALL,icon:"icon-arrow-bottom"})):s.createElement("ul",{className:`dropdown-content js-dropdown-content ${this.props.toggleShowMore?"-spec dropdown-wrapper-not-scrollable":""} ${this.props.dropdownContentAlignment} ${this.props.dropdownContentClasses}`,style:v(this,z).call(this)?v(this,D).call(this):null},v(this,q).call(this,e))}),f(this,W,{writable:!0,value:e=>{const t=document.getElementById(this.portalDomId),o=v(this,S).call(this,e);return v(this,_).call(this)?s.createElement(u.p,{title:this.title,closeOnBodyClick:!0,afterCloseCleanup:v(this,L),extraClasses:"js-dropdown-modal"},o):t?c.createPortal(o,t):o}}),f(this,D,{writable:!0,value:()=>{const e=this.dropdownRef?this.dropdownRef.current.getBoundingClientRect():null;return e?{top:e.top+e.height+F.DROPDOWN_TOP_MARGIN,left:e.left,width:e.width,maxHeight:Math.round(window.innerHeight-e.bottom)-F.DROPDOWN_BOTTOM_MARGIN}:{}}}),f(this,E,{writable:!0,value:()=>{if(!v(this,H).call(this))return;const e=v(this,B).call(this).querySelector(".js-dropdown-content"),t=e.querySelector(".js-selected"),o=t.getBoundingClientRect().y-e.getBoundingClientRect().y;v(this,I).call(this,null==e?void 0:e.offsetHeight,t,o)&&(e.scrollTop=o-F.DROPDOWN_TOP_MARGIN)}}),f(this,I,{writable:!0,value:(e,t,o)=>void 0!==e&&e<o+t.offsetHeight/2}),f(this,N,{writable:!0,value:(e,t)=>!(e-t<this.scrollOffset)}),f(this,R,{writable:!0,value:e=>{const t=e.querySelector(".overlayWrapper").scrollTop,o=e.querySelector(".overlayWrapper").clientHeight,s=t+this.scrollOffset;v(this,N).call(this,o,s)&&v(this,C).call(this,e,!0),0==t&&e.querySelector(".shadowed-wrapper-before").classList.remove("hidden"),e.querySelector(".overlayWrapper").scrollBy({top:e.querySelector(".overlayWrapper").scrollTop+this.scrollOffset,behavior:"smooth"})}}),f(this,T,{writable:!0,value:()=>{const e=document.getElementsByClassName("pmw-dropdown-v2");let t=null,o=null;const s=[];for(const a of e)if(t=a.querySelector(".dropdown-content"),t){o=a,s.push(o),s.push(t);break}return s}}),f(this,x,{writable:!0,value:e=>{const t=document.getElementsByClassName("dropdown-content");let o=null;for(let s=0;s<t.length;s+=1)if(t[s].contains(e)){o=t[s];break}return o}}),f(this,O,{writable:!0,value:e=>{!this.dropdownRef.current.contains(e.target)&&this.props.toggleShowMore&&this.props.toggleShowMore(!1);const t=document.getElementsByClassName("js-show-more-button-a"),o=v(this,T).call(this);let s=null;o.length>0&&(s=o[1],s.scrollHeight>500&&this.props.toggleShowMore&&this.props.toggleShowMore(!0)),t[0]&&t[0].contains(e.target)?v(this,R).call(this,v(this,x).call(this,e.target)):this.dropdownRef.current.contains(e.target)||v(this,L).call(this)}}),f(this,V,{writable:!0,value:()=>{this.setState((e=>({showDropdown:!e.showDropdown})))}}),f(this,L,{writable:!0,value:()=>{this.setState({showDropdown:!1})}}),f(this,P,{writable:!0,value:(e,t)=>{e.stopPropagation(),t.disabled||this.setState({dropdownLabel:t.label,dataValue:t.dataValue,showDropdown:!1},this.props.clickHandler.bind(null,t.dataValue))}}),f(this,q,{writable:!0,value:e=>{const t=e.length;return e.map(((e,o)=>s.createElement(h,{key:`dropdown-item-${e.dataValue}`,dataValue:e.dataValue,label:this.props.renderCustomLabel?this.props.renderCustomLabel(e.label,this.state.dataValue===e.dataValue,t,o):e.label,isSelected:this.state.dataValue===e.dataValue,onDropdownItemClick:t=>v(this,P).call(this,t,e),isLink:e.isLink,href:e.href,disabled:e.disabled,dropdownItemClasses:v(this,j).call(this,this.state.dataValue===e.dataValue,o),title:e.showTitle?e.label:"",showNotification:e.showNotification})))}}),f(this,j,{writable:!0,value:(e,t)=>{let o="";return this.props.toggleShowMore&&(o="-large-dropdown-item "),this.props.toggleShowMore&&e&&(o+="body-xs-bold"),`${this.props.dropdownItemClasses} ${this.props.dropdownItemVariant} ${o}`}}),f(this,A,{writable:!0,value:()=>{let e=null;return void 0!==this.props.labelPrefixIconClass&&(e=s.createElement("i",{className:"icon "+this.props.labelPrefixIconClass})),void 0!==this.props.labelPrefix?s.createElement("span",{className:"label-prefix flex-row-align-center"},e,this.props.labelPrefix):null}}),f(this,H,{writable:!0,value:()=>this.state.showDropdown&&this.props.scrollToSelectedItem&&null!==this.dropdownRef.current}),f(this,B,{writable:!0,value:()=>v(this,_).call(this)?document.querySelector(".js-dropdown-modal"):this.props.portalDomId?document.getElementById(this.props.portalDomId):this.dropdownRef.current}),f(this,_,{writable:!0,value:()=>PMW.isMobileScreenWidth()&&this.showDropdownAsModalForMobile}),f(this,z,{writable:!0,value:()=>this.props.portalDomId&&!v(this,_).call(this)}),this.state={showDropdown:!1,dataValue:this.props.defaultDataValue,showMore:this.props.showMore,isShowMoreHandled:!1},this.dropdownRef=s.createRef(),this.portalDomId=this.props.portalDomId,this.title=this.props.title,this.showDropdownAsModalForMobile=this.props.showDropdownAsModalForMobile,this.scrollOffset=70}componentDidMount(){document.addEventListener("click",v(this,O))}componentWillUnmount(){document.removeEventListener("click",v(this,O))}componentDidUpdate(e,t,o){(0,w.cO)(this.props.dropdownItems,e.dropdownItems)&&!v(this,M).call(this,e)||this.setState({dataValue:this.props.defaultDataValue}),v(this,E).call(this)}render(){const{dropdownItems:e,dropdownClasses:t,dropdownTypographyClasses:o}=this.props,a=this.state.showDropdown;return this.dropdownItems=e,s.createElement("div",{className:`pmw-dropdown-v2 ${t} ${o}`,ref:this.dropdownRef},s.createElement("label",{className:`dropdown-label flexbox header-label ${this.props.dropdownLabelClasses}`,onClick:v(this,V)},v(this,A).call(this),s.createElement("span",{className:"label-text"},v(this,k).call(this)),s.createElement("i",{className:"dropdown-icon "+(this.state.showDropdown?"icon-caret-up":"icon-caret-down")})),a&&v(this,W).call(this,e))}}b(F,"DROPDOWN_TOP_MARGIN",4),b(F,"DROPDOWN_BOTTOM_MARGIN",24),F.propTypes={defaultDataValue:l().any.isRequired,dropdownItems:l().array.isRequired,dropdownClasses:l().string,dropdownContentClasses:l().string,dropdownTypographyClasses:l().string,leadingLabelText:l().string,dropdownItemClasses:l().string,dropdownItemVariant:l().string,dropdownLabelClasses:l().string,dropdownContentAlignment:l().string,clickHandler:l().func,title:l().string,portalDomId:l().string,showDropdownAsModalForMobile:l().bool,labelPrefix:l().string,labelPrefixIconClass:l().string,scrollToSelectedItem:l().bool,renderCustomLabel:l().func},F.defaultProps={portalDomId:null,title:"",showDropdownAsModalForMobile:!1,dropdownClasses:"",dropdownContentClasses:"",dropdownTypographyClasses:"body-xs",dropdownItemClasses:"",dropdownItemVariant:"",dropdownLabelClasses:"",dropdownContentAlignment:"",leadingLabelText:"",clickHandler:$.noop,scrollToSelectedItem:!0,renderCustomLabel:null};const G=F},88974:(e,t,o)=>{o.d(t,{p:()=>g});var s=o(67294),a=o(73935),l=o(70008),r=o(50533),i=o(45697),n=o.n(i);function p(e,t,o){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,o)}function d(e,t){var o=function(e,t,o){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,o)}var h=new WeakMap,c=new WeakMap,u=new WeakMap,w=new WeakMap,m=new WeakMap,f=new WeakMap,b=new WeakMap;class v extends s.Component{constructor(e){var t,o,a;super(e),t=this,a=()=>{this.setState({animationClass:"animate-modal-dialog-close"})},(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(o="setCloseAnimation"))in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,p(this,h,{writable:!0,value:e=>{e.preventDefault(),e.stopPropagation(),this.setCloseAnimation()}}),p(this,c,{writable:!0,value:()=>{"animate-modal-dialog-close"===this.state.animationClass&&(this.state.bodyElement.removeClass("-open-modal"),this.props.closeModal(),"function"==typeof this.props.afterCloseCleanup&&this.props.afterCloseCleanup())}}),p(this,u,{writable:!0,value:e=>{d(this,b).call(this,e)&&this.setCloseAnimation()}}),p(this,w,{writable:!0,value:e=>this.modalRef&&(this.modalRef.current===e.target||this.modalRef.current.contains(e.target))}),p(this,m,{writable:!0,value:e=>this.modalHeaderRef&&(this.modalHeaderRef.current===e.target||this.modalHeaderRef.current.contains(e.target))}),p(this,f,{writable:!0,value:e=>{const t=$(e.target);return t.is(".popup-modal-cta")||t.parents(".popup-modal-cta").length}}),p(this,b,{writable:!0,value:e=>{const t=d(this,w).call(this,e),o=d(this,m).call(this,e);return d(this,f).call(this,e)||this.props.closeOnBodyClick&&!o||!t}}),this.state={animationClass:"animate-modal-dialog-open",bodyElement:$("body")},this.modalHeaderRef=s.createRef(),this.modalRef=s.createRef()}componentDidMount(){this.state.bodyElement.addClass("-open-modal")}render(){return a.createPortal(s.createElement("div",{className:`popup modal-popup open ${this.props.extraClasses}`,style:{zIndex:1e5},onClick:d(this,u)},s.createElement("div",{className:"popup-modal-content "+this.state.animationClass,onAnimationEnd:d(this,c),ref:this.modalRef},s.createElement("div",{className:"popup-modal-header",ref:this.modalHeaderRef},s.createElement("h2",{className:"title"},this.props.title),s.createElement("div",{className:"close-popup-modal flex-center",onClick:d(this,h)},s.createElement("i",{className:"icon icon-close"}))),s.createElement("div",{className:"content"},this.props.children))),document.body)}}v.propTypes={title:n().string.isRequired,children:n().element.isRequired,extraClasses:n().string,closeModal:n().func,afterCloseCleanup:n().func},v.defaultProps={extraClasses:""};const g=(0,r.$j)(null,(e=>({closeModal:()=>e((0,l.Mr)())})))(v)}}]);
//# sourceMappingURL=7104.259659bac0fe44388a1e.bundle.js.map
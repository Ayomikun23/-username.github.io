"use strict";(self.webpackChunkpmw=self.webpackChunkpmw||[]).push([[3091,4793],{51481:(e,t,i)=>{i.d(t,{BZ:()=>h,Dz:()=>f,G7:()=>p,G9:()=>b,IW:()=>w,Wk:()=>c,c5:()=>l,qY:()=>d,yW:()=>m});var s=i(97168),o=i(71422),n=i(33753);const r={pmwFontsVersion:null,pmwFonts:null,userFonts:null,fancyTextFonts:null,languageScripts:null,areFontsLoading:!0,selectedFont:{idfont:null,fontFamily:"",isInternalFont:!0,fontItemSelectedState:i(68736).et.NOT_SELECTED}},a=(0,s.oM)({name:"fontSelectorReact",initialState:r,reducers:{...n.F},extraReducers:{...o.Q}}),{selectFontWithoutLoading:l,setPublicFonts:d,setUserFonts:c,setLanguageScripts:h,setPmwFonts:u,removeUserFont:p,addUserFont:g,addUploadedFontToUserFonts:m,setDefaultFontAsSelectedFont:f,setFontsLoading:b,setPMWFontsVersion:O}=a.actions,w=a.reducer},42464:(e,t,i)=>{i.d(t,{EY:()=>o,JY:()=>a,NO:()=>r,gf:()=>n});var s=i(97168);const o=(0,s.hg)("getPMWFontsVersion",(async()=>await PMW.readLocal("font/getPMWFontsVersion"))),n=(0,s.hg)("getUserFonts",(async()=>await PMW.readLocal("font/getUserFontsForUser"))),r=(0,s.hg)("getUserFacingFonts",(async()=>await PMW.readLocal("font/getUserFacingFonts"))),a=(0,s.hg)("fetchLanguageScripts",(async()=>await PMW.readLocal("font/getFontLanguageScripts")))},90871:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(67294),o=i(45697),n=i.n(o),r=i(93384);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},a.apply(this,arguments)}class l extends s.Component{constructor(...e){var t,i,o;super(...e),t=this,o=()=>s.createElement(r.zx,a({},this.props,{type:this.props.type,text:this.props.text,shortText:this.props.shortText})),(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="render"))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o}}l.propTypes={customClasses:n().string,disabled:n().bool,text:n().string,shortText:n().any,onClick:n().func,type:n().string},l.defaultProps={disabled:!1,type:r.wD.PRIMARY,customClasses:""}},80174:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(67294);const o=(e,t,i=null,o=null)=>{const n="function"!=typeof o||o();(0,s.useEffect)((()=>{if(!n)return;const s=s=>{(t=>!!e.current&&!e.current.contains(t.target)&&!(e=>null!==i&&i.contains(e.target))(t))(s)&&"function"==typeof t&&t(s)};return document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}}),[t,i,n])}},13572:(e,t,i)=>{i.d(t,{F:()=>r,Z:()=>a});var s,o=i(26729),n=i.n(o);const r={OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",USER_MEDIA_UPLOAD_START:"USER_MEDIA_UPLOAD_START",USER_MEDIA_UPLOAD_SUCCESS:"USER_MEDIA_UPLOAD_SUCCESS",USER_MEDIA_UPLOAD_FAIL:"USER_MEDIA_UPLOAD_FAIL",USER_LOGGED_IN:"USER_LOGGED_IN",BRAND_LOGO_UPLOAD_START:"ADD_BRAND_ASSET_START",BRAND_LOGO_UPLOAD_FAIL:"ADD_BRAND_ASSET_FAIL",BRAND_LOGO_UPLOAD_SUCCESS:"ADD_BRAND_ASSET_END",FONT_UPLOAD_START:"FONT_UPLOAD_START",FONTS_UPLOAD_END:"FONTS_UPLOAD_END"};if(null===(s=PMW)||void 0===s||null===(s=s.react)||void 0===s||!s.Emitter){const e=new(n());PMW.mergePMW(PMW,{react:{Emitter:{on:(t,i)=>e.on(t,i),once:(t,i)=>e.once(t,i),off:(t,i)=>e.off(t,i),emit:(t,i)=>e.emit(t,i)}}})}const a=PMW.react.Emitter},17310:(e,t,i)=>{i.d(t,{F0:()=>o,K2:()=>a,N:()=>s,Rp:()=>r,dO:()=>n,o7:()=>l});const s="leftmenu",o="colorpicker",n="myphotosdialog",r=e=>{const t=new URL(e);return t.searchParams.set("ts",(new Date).getTime().toString()),t.href},a=e=>/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/{2}=]*)/.test(e),l=e=>e.split("/").pop()},83640:()=>{},95921:()=>{},72765:()=>{},40119:(e,t,i)=>{i.d(t,{P:()=>s.P,X:()=>s.X});var s=i(16337)},70836:(e,t,i)=>{i.d(t,{e:()=>c});var s,o=i(67294),n=i(91171),r=i(58615),a=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};!function(e){e.SOLID="SOLID",e.RADIAL="RADIAL",e.LINEAR="LINEAR"}(s||(s={}));const l=50,d=30;function c(e){var{id:t="",className:i="",height:c=d,width:h=l,hasFocus:u=!0,onClick:p=(()=>{}),colorFillPropertyType:g=s.SOLID,isDisabled:m=!1}=e,f=a(e,["id","className","height","width","hasFocus","onClick","colorFillPropertyType","isDisabled"]);const b=()=>Array.isArray(f.color),O=()=>{if(m)return n.He.NEUTRAL_11;switch(g){case s.SOLID:return"string"==typeof f.color?f.color:"";case s.LINEAR:return b()?`linear-gradient(${f.color[1]}, ${f.color[0]})`:"";case s.RADIAL:return b()?`radial-gradient(${f.color[1]}, ${f.color[0]})`:"";default:return""}};return o.createElement("span",{onClick:()=>{m||p(t)},id:t,style:{background:O(),backgroundImage:O(),width:h,height:c},className:`${i} ${r.Z.container} ${m?r.Z.disabled:""} ${u&&!m?"":r.Z.noFocus}`})}},73686:(e,t,i)=>{i.d(t,{m:()=>s.m});var s=i(47813)},56014:(e,t,i)=>{i.d(t,{p:()=>s.p});var s=i(27580)},94820:(e,t,i)=>{i.d(t,{G:()=>s.G});var s=i(38248)},94893:(e,t,i)=>{i(67294),i(93384),i(99111)},19013:(e,t,i)=>{i(67294),i(99111)},66525:(e,t,i)=>{i(67294),i(86867),i(70836)},23966:(e,t,i)=>{i(67294),i(86867),i(70793),i(57790),i(12092)},93752:(e,t,i)=>{var s;i(67294),i(86867),i(83427),function(e){e.MENU="MENU",e.SCHEDULE="SCHEDULE"}(s||(s={}))},77402:(e,t,i)=>{i(93752)},83427:(e,t,i)=>{i(67294),i(77402)},48034:(e,t,i)=>{i.d(t,{L:()=>s.L});var s=i(16883)},19567:(e,t,i)=>{i.d(t,{O:()=>s,U:()=>l});var s,o=i(57790),n=i(76568),r=i(67294),a=i(12092);!function(e){e.TEXT="text",e.HIDDEN="hidden",e.NUMBER="number",e.PASSWORD="password",e.EMAIL="email"}(s||(s={}));const l=r.forwardRef(((e,t)=>{var{type:i=s.TEXT,maxLength:l=200,onInputBlur:d=$.noop,onInputFocus:c=$.noop,onInputChange:h=$.noop,onInputSubmit:u=$.noop,submitOnEnter:p=!0,value:g="",name:m="",inputClassName:f="",containerClassName:b="",showInputIcon:O=!0,isMultiLine:w=!1,multiLineRows:v=2,selectTextOnFocus:S=!1,inputIconExtraClass:T="",inputIconSize:y=a.ZG.SIZE_ICON_16,onInputIconClick:E=$.noop,inputIconName:I="",handleSpecificBlur:C=!1,inputIconType:x=a.e1.TRANSPARENT,inputIconShape:A=a.q0.SQUARE}=e,D=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["type","maxLength","onInputBlur","onInputFocus","onInputChange","onInputSubmit","submitOnEnter","value","name","inputClassName","containerClassName","showInputIcon","isMultiLine","multiLineRows","selectTextOnFocus","inputIconExtraClass","inputIconSize","onInputIconClick","inputIconName","handleSpecificBlur","inputIconType","inputIconShape"]);const F=()=>""!==I?I:i===s.PASSWORD?"icon-eye-off":"icon-close",P=()=>{if(void 0!==D.placeholder)return D.placeholder;switch(i){case s.NUMBER:return window.i18next.t("pmwjs_enter_number");case s.PASSWORD:return window.i18next.t("pmwjs_password");case s.EMAIL:return window.i18next.t("pmwjs_email_address");case s.TEXT:return window.i18next.t("pmwjs_add_text");default:return""}},[j,L]=(0,r.useState)(g),[M,k]=(0,r.useState)(P()),[_,N]=(0,r.useState)(F()),R=e=>{let t=e;void 0!==D.max&&e>D.max?t=D.max.toString():void 0!==D.min&&e<D.min&&(t=D.min.toString()),L(t),h(t)};(0,r.useEffect)((()=>{L(g)}),[g]),(0,r.useEffect)((()=>{N(F())}),[i]),(0,r.useEffect)((()=>{N(F())}),[I]),(0,r.useEffect)((()=>{k(P())}),[i]);const U=e=>{S&&e.select()},H=w?"textarea":"input";return r.createElement("div",{className:`${n.Z.container} ${b}`},D.label,r.createElement("div",{id:D.id,className:`input-field ${D.className}${i===s.HIDDEN?" _hidden":""}`},r.createElement(H,Object.assign({},(()=>{let e={};return i===s.EMAIL&&(e=Object.assign(Object.assign({},e),{autoCapitalize:"off",autoCorrect:"off",autoComplete:"email"})),e=Object.assign(Object.assign(Object.assign({},e),D),{ref:t}),w&&(e=Object.assign(Object.assign({},e),{rows:v})),e})(),{maxLength:l,type:i===s.PASSWORD&&"icon-eye"===_?s.TEXT:i,name:m,value:j,className:`input-field-txt ${f}`,onBlur:e=>d(C?e:e.target.value),onFocus:e=>{return t=e.target,U(t),void c(t.value);var t},onPointerUp:e=>U(e.target),onChange:e=>R(e.target.value),onKeyUp:e=>{p&&"Enter"===e.key&&u(),"Escape"===e.key&&document.activeElement&&document.activeElement.blur()},"aria-placeholder":M})),O&&_&&("icon-close"!=_||j)?r.createElement("div",{onClick:e=>{e.stopPropagation(),E!==$.noop?E(e):"icon-close"===_?R(""):"icon-eye"===_?N("icon-eye-off"):"icon-eye-off"===_&&N("icon-eye")}},r.createElement(o.J,{icon:_,size:y,className:`${T} ${n.Z.icon} `,type:x,shape:A})):null))}))},4491:(e,t,i)=>{i.d(t,{O:()=>c});var s=i(67294),o=i(57790),n=i(12092);const r={mediaControls:"XAXE0SEwcfB1oX4mZi6E",skipForward:"t2sEAxIL1cc9oKs0hjIY",mediaControlButton:"xWmhlYk7vn5OQr8GZATD"};var a=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};function l(e){var{iconSize:t=n.ZG.SIZE_ICON_20}=e,i=a(e,["iconSize"]);return s.createElement(s.Fragment,null,i.isPlaying&&s.createElement(o.J,{onClick:e=>{i.onPause(e)},icon:"icon-pause",size:t,type:n.e1.TRANSPARENT,shape:n.q0.SQUARE}),!i.isPlaying&&s.createElement(o.J,{onClick:e=>{i.onPlay(e)},icon:"icon-play-video",size:t,type:n.e1.TRANSPARENT,shape:n.q0.SQUARE}))}var d=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};function c(e){var{className:t="",iconSize:i=n.ZG.SIZE_ICON_20,onSkipForward:a=(()=>{}),showSkipForwardButton:c=!1}=e,h=d(e,["className","iconSize","onSkipForward","showSkipForwardButton"]);return s.createElement("div",{className:`${t} ${r.mediaControls}`},s.createElement(o.J,{icon:"icon-skip-back",onClick:h.onStop,size:i,type:n.e1.GHOST,shape:n.q0.SQUARE}),s.createElement(l,{isPlaying:h.isPlaying,onPlay:e=>{h.onPlay(e)},onPause:e=>{h.onPause(e)},iconSize:i}),c?s.createElement(o.J,{onClick:a,icon:"icon-skip-back",ariaLabel:window.i18next.t("pmwjs_next_page"),size:i,type:n.e1.GHOST,shape:n.q0.SQUARE}):null)}},45893:(e,t,i)=>{i.d(t,{oA:()=>o.o,rP:()=>n.rP,rY:()=>s.r});var s=i(60028),o=i(30263),n=i(5517)},5517:(e,t,i)=>{i.d(t,{RT:()=>l,rP:()=>c});var s=i(97168),o=i(28721),n=i(30263);const r={text:"",show:!1,interval:0,type:n.o.SUCCESS,key:""},a=(0,s.oM)({name:"messageGrowl",initialState:r,reducers:{updateMessageGrowl:(e,t)=>{var i,s,r;e.text=t.payload.text,e.key=null!==(i=t.payload.key)&&void 0!==i?i:(0,o.Z)(),e.interval=null!==(s=t.payload.interval)&&void 0!==s?s:n.H,e.type=null!==(r=t.payload.type)&&void 0!==r?r:n.o.SUCCESS,e.show=!0},hideMessageGrowl:(e,t)=>{t.payload===e.key&&(e.show=!1)}}}),{updateMessageGrowl:l,hideMessageGrowl:d}=a.actions,c=a.reducer},60028:(e,t,i)=>{i.d(t,{r:()=>o}),i(67294),i(57790),i(99111);var s=i(5517);i(12092),i(30263),i(36131);const o=e=>{window.PMW.redux.store.dispatch((0,s.RT)({key:e.key,text:e.text,type:e.type,interval:e.interval}))}},12377:(e,t,i)=>{i.d(t,{Q:()=>n});var s=i(17570),o=i(13780);i(89929),i(40148),i(67294);const n=()=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.CHANGE_PLAN_MODAL,panelProps:{}}))}},73880:(e,t,i)=>{i.d(t,{R:()=>n}),i(67294),i(89929);var s=i(13780),o=i(17570);i(40148),i(50533),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,o.Np)({modalId:s.Fp.CROPPER_MODAL,panelProps:e}))}},5149:(e,t,i)=>{i.d(t,{y:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148),i(36131);const n=(e={})=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.ERROR_MODAL,panelProps:e}))}},2324:(e,t,i)=>{i.d(t,{x:()=>n}),i(67294),i(89929);var s=i(13780),o=i(17570);i(40148),i(50533),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,o.Np)({modalId:s.Fp.MASKING_MODAL,panelProps:e}))}},21913:(e,t,i)=>{i.d(t,{C:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148),i(36131);const n=(e={})=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.POSTER_IN_GENERATION_MODAL,panelProps:e}))}},49742:(e,t,i)=>{i.d(t,{b:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148);const n=()=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.REPLACE_MEDIA_MODAL,panelProps:{}}))}},22927:(e,t,i)=>{i.d(t,{R:()=>n});var s=i(13780),o=(i(50533),i(89929),i(40148),i(17570));i(67294),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,o.Np)({modalId:s.Fp.RESIZE_MODAL,panelProps:e}))}},36052:(e,t,i)=>{i.d(t,{A:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.SAVE_CONFLICT_MODAL,panelProps:e}))}},77689:(e,t,i)=>{i.d(t,{B:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148),i(50533),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.TRIM_AUDIO_MODAL,panelProps:e}))}},80649:(e,t,i)=>{i.d(t,{U:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(50533),i(40148),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.TRIM_VIDEO_MODAL,panelProps:e}))}},12543:(e,t,i)=>{i.d(t,{j:()=>n}),i(67294),i(89929);var s=i(17570),o=(i(460),i(20765),i(94275),i(13780));i(40148),i(50533),i(13572),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.USER_MENU_MODAL,panelProps:e}))}},43022:(e,t,i)=>{i.d(t,{C:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.USER_SCHEDULE_MODAL,panelProps:e}))}},19200:(e,t,i)=>{i.d(t,{p:()=>s.p});var s=i(31438)},31438:(e,t,i)=>{i.d(t,{p:()=>n}),i(67294),i(89929);var s=i(17570),o=i(13780);i(40148),i(48022),i(36131);const n=e=>{window.PMW.redux.store.dispatch((0,s.Np)({modalId:o.Fp.USER_TABLE_MODAL,panelProps:e}))}},98488:(e,t,i)=>{i.d(t,{$M:()=>c,Au:()=>p,c4:()=>r,fB:()=>u,k2:()=>f,kC:()=>a,m7:()=>n,t:()=>O,u6:()=>m});var s=i(97168),o=i(94018);const n="31",r="Big Apple NF",a=[[217,43,68],[0,73,92],[249,254,247]],l={selection:{selectedEffectId:n,selectedFontFamily:r},data:{fancyTextEffectHashmap:{}},properties:{text:"add your text",arePropertiesChanging:!1,colors:[[217,43,68],[0,73,92],[249,254,247]],morphType:o.G.NONE,morphAmount:60}},d=(0,s.oM)({name:"fancyText",initialState:l,reducers:{setFancyTextEffectHashamp:(e,t)=>{e.data.fancyTextEffectHashmap=t.payload},setFancyTextSelectedState:(e,t)=>{e.selection={selectedEffectId:t.payload.effectId,selectedFontFamily:t.payload.fontFamily}},setFancyTextSelectedStateFromId:(e,t)=>{e.data.fancyTextEffectHashmap[t.payload]&&(e.selection={selectedEffectId:t.payload,selectedFontFamily:e.data.fancyTextEffectHashmap[t.payload].defaultFamilyName})},setSelectedFont:(e,t)=>{e.selection.selectedFontFamily=t.payload},setSelectedFontFromId:(e,t)=>{e.data.fancyTextEffectHashmap[t.payload]&&(e.selection.selectedFontFamily=e.data.fancyTextEffectHashmap[t.payload].defaultFamilyName)},setSelectedFancytextEffect:(e,t)=>{e.selection.selectedEffectId=t.payload},togglePropertiesChaningState:e=>{e.properties.arePropertiesChanging=!e.properties.arePropertiesChanging},updateFancyTextProperties:(e,t)=>{e.properties=Object.assign(Object.assign({},e.properties),t.payload)}}}),{setFancyTextEffectHashamp:c,setFancyTextSelectedStateFromId:h,setFancyTextSelectedState:u,setSelectedFont:p,setSelectedFancytextEffect:g,togglePropertiesChaningState:m,updateFancyTextProperties:f,setSelectedFontFromId:b}=d.actions,O=d.reducer},54600:(e,t,i)=>{i.d(t,{L:()=>n,O:()=>o});const s=(0,i(97168).oM)({name:"ImageItemPopUpMenu",initialState:{openPopup:!1,beforeOpen:!1,target:null},reducers:{updateImagePopUpState:(e,t)=>{e.openPopup=t.payload.openPopup,e.beforeOpen=t.payload.beforeOpen,e.target=t.payload.target}}}),{updateImagePopUpState:o}=s.actions,n=s.reducer},51134:(e,t,i)=>{var s;i.d(t,{p:()=>s}),i(67294),i(17690),i(99111),i(121),i(36131),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.STRIKE_THROUGH="strike_through"}(s||(s={}))},58466:(e,t,i)=>{i.d(t,{p:()=>s.p});var s=i(51134)},13561:(e,t,i)=>{var s;i(67294),i(98577),i(55461),i(66525),i(70836),i(91171),i(68402),i(67055),i(98810),i(23966),i(5425),i(36131),i(71011),function(e){e.SOLID="solid",e.GRADIENT="gradient",e.TRANSPARENT="transparent",e.MY_BACKGROUNDS="my_backgrounds",e.STOCK_IMAGE="stock_image"}(s||(s={}))},78937:(e,t,i)=>{var s,o;!function(e){e.EDIT="edit",e.POSITION="position"}(s||(s={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary"}(o||(o={})),o.PRIMARY,o.SECONDARY,o.TERTIARY},75654:(e,t,i)=>{i(67294),i(12092),i(73916),i(93384),i(57790),i(90417)},4600:(e,t,i)=>{var s;i(67294),i(79649),i(72765),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(s||(s={}))},73916:(e,t,i)=>{var s,o,n,r,a,l,d;i.d(t,{iH:()=>o}),i(67294),i(57790),i(12092),i(93384),i(98810),i(55461),i(4600),i(11811),i(85444),i(50746),i(10106),i(53188),i(36131),function(e){e.DOWNLOAD="downlaod",e.COLLABORATE="collaborate",e.PUBLISH="publish",e.RESIZE="resize"}(s||(s={})),i(75654),i(94275),i(1483),(d=o||(o={})).DOWNLOAD="download",d.PUBLISH="publish",function(e){e.PUBLISH_SHARE_LINK="hosted-link",e.PUBLISH_EMBED="embed",e.PUBLISH_SOCIAL_MEDIA="social-media"}(n||(n={})),(l=r||(r={})).BUTTON="button",l.ICON="icon",l.HIDDEN="hidden",function(e){e.SAVE="save",e.SAVED="saved"}(a||(a={}))},58579:(e,t,i)=>{i(67294),i(49155)},46739:(e,t,i)=>{i.d(t,{lz:()=>s.lz});var s=i(6962)},27885:(e,t,i)=>{i.d(t,{hf:()=>r,pL:()=>n});var s=i(94275),o=(i(78116),i(46739),i(2220),function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))});const n=()=>o(void 0,void 0,void 0,(function*(){var e,t;(0,s.zP)()?(yield null===(t=null===(e=window.posterEditor)||void 0===e?void 0:e.whiteboard)||void 0===t?void 0:t.savePoster.save(),window.location.href=window.PMW.util.site_url("posters/mine#/brands")):window.PMW.showPremiumOnlyFeatureDialog(window.PMW.PREMIUM_PLUS_ONLY_FEATURE_NAME_BRANDS)})),r=()=>{var e,t,i;return null!==(i=null===(t=null===(e=window.posterEditor)||void 0===e?void 0:e.whiteboard)||void 0===t?void 0:t.getCurrentPage().getColorsOnPage())&&void 0!==i?i:[]}},98810:(e,t,i)=>{i.d(t,{$J:()=>L,KQ:()=>P,UD:()=>N,W$:()=>U,bY:()=>M,fZ:()=>_,mY:()=>W,mp:()=>R,o:()=>B,rp:()=>k,tT:()=>H,tk:()=>j,w7:()=>G});var s=i(46842),o=i(94275),n=(i(26338),i(55950),i(1483)),r=i(85518),a=i(17996),l=i(19200),d=(i(68483),i(60660)),c=i(43022),h=(i(89597),i(1477),i(12543)),u=i(45630),p=(i(12033),i(176)),g=i(55296),m=i(80843),f=(i(25154),i(54),i(36247),i(73916)),b=(i(87753),i(14370)),O=i(27885),w=i(21555),v=i(25628),S=i(80267),T=(i(95980),i(49927),i(98577),i(67055),i(91171),i(37785)),y=i(20656),E=(i(6730),i(93901)),I=i(88555),C=i(2220),x=i(86300),A=i(79095),D=i(78710),F=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const P=e=>{var t,i;const s=null===(i=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===i?void 0:i.getCurrentPage();s&&s.items.addItems.addNewItems(e)},j=e=>{var t,i;const s=null===(i=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===i?void 0:i.getCurrentPage();null==s||s.items.addItems.onAddMediaSlideshow(e)},L=()=>{(0,n.ve)({title:window.i18next.t("pmwjs_video_limit"),text:window.i18next.t("pmwjs_video_limit_message",{num:E.NF})})},M=()=>{(0,n.ve)({title:window.i18next.t("pmwjs_getty_limit"),text:window.i18next.t("pmwjs_getty_limit_message",{limit:y.bY.IMAGES})})},k=()=>{var e;const t=null===(e=window.posterEditor)||void 0===e?void 0:e.whiteboard;t&&(0,a.R)({allowSaveCustomSize:(0,o.Pc)(),allowMultiSelect:!r.tq&&!window.PMW.isEmbedded(),unsavedCustomDimension:{width:t.userWidth,height:t.userHeight,units:(0,D.n9)(t.units)},onResizeCallback:D.Dm,onCopyAndResize:e=>{(0,D.MZ)(e)},currentUnit:D.sz.PX,currentHeight:t.height,currentWidth:t.width})},_=e=>{const t=(0,d.WJ)(e.layoutDataMap,e.rows);(0,l.p)({isNew:!e,initialRows:e.rows,initialColumns:e.columns,onAddTable:e.updateFromTableData.bind(e),highlightedRows:t.highlightedRows,initialTableData:t.tableData})},N=e=>{const t=(0,d.qw)(e);(0,c.C)({isNew:!e,unusedData:t.unusedData,timeFormat:t.timeFormat,dateFormat:t.dateFormat,initialColumns:t.columns,columnsData:t.columnData,initialTableData:t.tableData,highlightedRows:t.highlightedRows,initialRows:e.rows,layout:e.layoutStyle,onAddSchedule:e.updateFromScheduleData.bind(e)})},R=e=>{(0,h.j)({layout:e.layoutStyle,selectedIds:e.itemIds.map((e=>`${e}`)),selectedItems:(0,u.n)(e),onAddMenuItem:e.updateFromMenuData.bind(e)})},U=(e=f.iH.DOWNLOAD,t="")=>{var i,s,n,r,a,l,d,c,h,u,p,g,m,b,O,w,v,S,T,y,E,I,C,x,A,D,F,P,j,L,M,k,_,N,R,U,H,W,B,G,V,Y;(null===(s=null===(i=window.posterEditor)||void 0===i?void 0:i.whiteboard)||void 0===s?void 0:s.drawing.isDrawModeOn)&&(null===(r=null===(n=window.posterEditor)||void 0===n?void 0:n.whiteboard)||void 0===r||r.drawing.updateFromObject({isDrawModeOn:!1})),null===(l=null===(a=window.posterEditor)||void 0===a?void 0:a.whiteboard)||void 0===l||l.deleteItemsNotVisibleOnPoster(!1),window.PMW.openDownloadDialog({isPosterMaker:1,preselectPaidProduct:window.PMW.isEmbedded()&&(0,o.rz)(),panelToSelect:e,option:t,idPosterHash:void 0!==(null===(c=null===(d=window.posterEditor)||void 0===d?void 0:d.whiteboard)||void 0===c?void 0:c.id)&&Number(null===(u=null===(h=window.posterEditor)||void 0===h?void 0:h.whiteboard)||void 0===u?void 0:u.id)>0?null===(g=null===(p=window.posterEditor)||void 0===p?void 0:p.whiteboard)||void 0===g?void 0:g.hashedID:"",isPremium:(null===(b=null===(m=window.posterEditor)||void 0===m?void 0:m.whiteboard)||void 0===b?void 0:b.getCurrentPage().isPremium())?1:0,posterType:null===(w=null===(O=window.posterEditor)||void 0===O?void 0:O.whiteboard)||void 0===w?void 0:w.type.name,idGalleryTemplate:null===(S=null===(v=window.posterEditor)||void 0===v?void 0:v.whiteboard)||void 0===S?void 0:S.idGalleryTemplate,idTemplate:null===(y=null===(T=window.posterEditor)||void 0===T?void 0:T.whiteboard)||void 0===y?void 0:y.idTemplate,uc:(null===(I=null===(E=window.posterEditor)||void 0===E?void 0:E.whiteboard)||void 0===I?void 0:I.savePoster.hasUnsavedChanges())?1:0,isVideo:(null===(x=null===(C=window.posterEditor)||void 0===C?void 0:C.whiteboard)||void 0===x?void 0:x.isVideo())?1:0,hasVideoItem:(null===(D=null===(A=window.posterEditor)||void 0===A?void 0:A.whiteboard)||void 0===D?void 0:D.getCurrentPage().items.hasVideoItem())?1:0,isExpensiveVideo:(null===(P=null===(F=window.posterEditor)||void 0===F?void 0:F.whiteboard)||void 0===P?void 0:P.getCurrentPage().isExpensiveVideo())?1:0,isTransparent:(null===(L=null===(j=window.posterEditor)||void 0===j?void 0:j.whiteboard)||void 0===L?void 0:L.getCurrentPage().isTransparent())?1:0,hasClickableLink:(null===(k=null===(M=window.posterEditor)||void 0===M?void 0:M.whiteboard)||void 0===k?void 0:k.getCurrentPage().items.hasClickableItem())?1:0,pw:null===(N=null===(_=window.posterEditor)||void 0===_?void 0:_.whiteboard)||void 0===N?void 0:N.width,ph:null===(U=null===(R=window.posterEditor)||void 0===R?void 0:R.whiteboard)||void 0===U?void 0:U.height,ptw:null===(W=null===(H=window.posterEditor)||void 0===H?void 0:H.whiteboard)||void 0===W?void 0:W.userWidth,pth:null===(G=null===(B=window.posterEditor)||void 0===B?void 0:B.whiteboard)||void 0===G?void 0:G.userHeight,ptu:null===(Y=null===(V=window.posterEditor)||void 0===V?void 0:V.whiteboard)||void 0===Y?void 0:Y.units})},H=(e,t)=>{(0,s.h7)(s.fX.MEDIA_TYPE_MODAL_ID,{onAddSelected:t,maxGettyImageContent:1,maxGettyVideoContent:1,maxSelectionNumber:1,maxGettySelectionNumber:1,defaultTab:e.isImage()||e.isImageSlide()?"image":"video",imageAddButtonTextSingular:window.i18next.t("pmwjs_replace_photo"),videoAddButtonTextSingular:window.i18next.t("pmwjs_replace_video"),showVectors:!e.isSlideshowSlide(),onAddBrandAsset:O.pL})},W=(e,t=!1,i=(()=>{}))=>{let s=!1,{endTime:o}=e,n=e.duration;e.duration>y.c6&&(s=!0,n=y.c6),e.endTime-e.startTime>y.c6&&(o=e.startTime+n),(0,p.U)({isMuted:(0,g.pu)(e.htmlElement),scaledHeight:e.getScaledHeight(),scaledWidth:e.getScaledWidth(),duration:e.duration,start:e.startTime,end:o,source:(0,m.GI)(e),maxDuration:y.c6,panelId:"trim-video-modal",onTrim:t=>{((e,t)=>{e.isVideoSlide()?e.slideshow.updateSlideFromObject(e.uid,Object.assign(Object.assign({},t),{slideDuration:t.endTime-t.startTime}),{checkForDurationUpdate:!0}):e.updateFromObject(Object.assign({},t),{checkForDurationUpdate:!0})})(e,t),i()},showMaxDurationError:s,forceTrim:t})},B=(e,t,i)=>{switch(e){case b.I.EXPLORE_MEDIA:return void(C.F1?(0,A.s)({onAddSelected:e=>{i(e[0])}}):(0,s.h7)(s.fX.STOCK_IMAGE_MODAL_ID,{onAddSelected:e=>{i(e[0])},maxSelectionNumber:1,maxGettySelectionNumber:1,multiMediaType:"IMAGE_BACKGROUND",gettyCostInCredits:null===(n=null===(o=window.posterEditor)||void 0===o?void 0:o.config)||void 0===n?void 0:n.imageDownlaodCostInCredits,gettyFormattedDownloadCostForNonPremiumUsers:null===(a=null===(r=window.posterEditor)||void 0===r?void 0:r.config)||void 0===a?void 0:a.gettyFormattedDownloadCostForNonPremiumUsers,gettyLimitReachedMessageTitle:window.i18next.t("pmwjs_getty_limit"),gettyLimitReachedMessage:window.i18next.t("pmwjs_getty_limit_message",{limit:y.bY.IMAGES})}));case b.I.MY_UPLOADS:return void(C.F1?(0,I.o)({onAddSelected:e=>{i(e[0])},maxSelectionNumber:1,onAddBrandAsset:()=>{(0,O.pL)()},showVectors:!t.isSlideshowSlide(),uploadAcceptedMimetype:(t.isSlideshowSlide()?"image/jpeg,image/png,image/webp,image/gif":"image/*")+",video/quicktime,video/mp4,video/x-m4v,video/*",defaultTab:t.isImage()||t.isImageSlide()?C.jO.IMAGE:C.jO.VIDEO,mediaTypesToShow:[C.jO.IMAGE,C.jO.VIDEO]}):(0,s.h7)(s.fX.MEDIA_TYPE_MODAL_ID,{onAddSelected:e=>{i((0,x.oc)(e[0]))},maxGettyImageContent:1,maxGettyVideoContent:1,maxSelectionNumber:1,maxGettySelectionNumber:1,defaultTab:t.isImage()||t.isImageSlide()?"image":"video",imageAddButtonTextSingular:window.i18next.t("pmwjs_replace_photo"),videoAddButtonTextSingular:window.i18next.t("pmwjs_replace_video"),showVectors:!t.isSlideshowSlide(),onAddBrandAsset:O.pL}));default:throw new Error("unhandled type of id received from replace media controls")}var o,n,r,a},G=e=>F(void 0,void 0,void 0,(function*(){var t;const i=yield e.getImageUrl(),s=yield(0,w.fY)(i);(0,S.x)({onMaskCTA:t=>{var i;e.updateMasking(null!==(i=t[0])&&void 0!==i?i:void 0)},initialMaskingData:null===(t=e.masking.maskingItem)||void 0===t?void 0:t.toObject(),imageUrl:i,cropData:e.cropData.isCropped()?e.cropData.getScaledCropData(s):void 0,removeBackgroundCallback:(t,i)=>F(void 0,void 0,void 0,(function*(){if(t){const t=yield e.getImageUrl();return i(t),!1}const s=yield e.removeBackground.getBackgroundRemovedURLForCurrentImageURL();if(yield(0,v.e)(s))i(s);else try{(0,T.QP)("removing-background-masking-panel"),yield e.removeBackground.removeBackground(),i(s)}catch(e){return!1}finally{(0,T.Zk)("removing-background-masking-panel")}return!0})),isBackgroundRemoved:e.removeBackground.isBackgroundRemoved})}))},55461:(e,t,i)=>{i.d(t,{AH:()=>b,KZ:()=>E,Rl:()=>O,Sn:()=>m,V3:()=>p,VC:()=>y,cs:()=>r,gr:()=>h,kG:()=>d,l3:()=>f,xZ:()=>g,y8:()=>S,z:()=>u});var s=i(97168),o=i(20573);const n=(0,s.oM)({name:"posterEditor",initialState:{hasUndo:!1,hasRedo:!1,hasUnsavedChanges:!1,isVideo:!1,isEmbeddedExportMode:!1,isPlaying:!1,currentTime:0,currentPageId:"",posterObject:null,activeItemIds:[],isAudioPlaylistSelected:!1,isPosterVideo:!1,isSpellCheckSettingsActive:!1,isSidebarOpen:!1,isSidebarSmall:!1,isPickingModeEnabled:!1},reducers:{updatePosterData(e,t){void 0!==t.payload.posterObject&&(e.posterObject=t.payload.posterObject),void 0!==t.payload.hasUndo&&(e.hasUndo=t.payload.hasUndo),void 0!==t.payload.hasUnsavedChanges&&(e.hasUnsavedChanges=t.payload.hasUnsavedChanges),void 0!==t.payload.currentPageId&&(e.currentPageId=t.payload.currentPageId),void 0!==t.payload.hasRedo&&(e.hasRedo=t.payload.hasRedo),void 0!==t.payload.isVideo&&(e.isVideo=t.payload.isVideo),void 0!==t.payload.isPosterVideo&&(e.isPosterVideo=t.payload.isPosterVideo)},updateHasUndo(e,t){e.hasUndo=t.payload},updateIsEmbeddedExportMode(e,t){e.isEmbeddedExportMode=t.payload},updateHasRedo(e,t){e.hasRedo=t.payload},updateActiveItems(e,t){e.activeItemIds=t.payload},setIsAudioPlaylistSelected(e,t){e.isAudioPlaylistSelected=t.payload},updateCurrentPageId(e,t){e.currentPageId=t.payload},updatePosterIsVideo(e,t){e.isPosterVideo=t.payload},updateIsPlaying(e,t){e.isPlaying=t.payload},updateCurrentAudioItemId(e,t){e.currentAudioItemId=t.payload},updateCurrentTime(e,t){e.currentTime=t.payload},updateSpellCheckSettingsState(e,t){e.isSpellCheckSettingsActive=t.payload},updateSidebarState(e,t){e.isSidebarOpen=t.payload},updateSidebarDimensionState(e,t){e.isSidebarSmall=t.payload},updatePickingMode(e,t){e.isPickingModeEnabled=t.payload}}}),{updatePosterData:r,updateCurrentPageId:a,updatePosterIsVideo:l,updateCurrentTime:d,updateIsEmbeddedExportMode:c,setIsAudioPlaylistSelected:h,updateActiveItems:u,updateIsPlaying:p,updateCurrentAudioItemId:g,updateHasUndo:m,updateHasRedo:f,updateSpellCheckSettingsState:b,updateSidebarState:O,updateSidebarDimensionState:w,updatePickingMode:v}=n.actions,S=n.reducer,T=(0,o.P1)([e=>{var t,i;return null===(i=null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages)||void 0===i?void 0:i.pagesHashMap},e=>e.posterEditor.activeItemIds],((e,t)=>{if(!e||0===t.length)return[];const i=[];for(const[,s]of Object.entries(e)){for(const e of t)void 0!==s.items.itemsHashMap[e]&&i.push(s.items.itemsHashMap[e]);if(i.length===t.length)break}return i})),y=((0,o.P1)([e=>{var t,i;return null===(i=null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages)||void 0===i?void 0:i.pagesHashMap},e=>e.posterEditor.currentPageId],((e,t)=>{var i;if(e&&t)return null!==(i=e[t])&&void 0!==i?i:void 0})),(0,o.P1)([e=>{var t;return null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages},e=>e.posterEditor.currentPageId],((e,t)=>{if(!e||!t)return;const i=e.pageOrder.indexOf(t);return-1!==i?i:void 0})),(0,o.P1)([e=>{var t,i;return null===(i=null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages)||void 0===i?void 0:i.pagesHashMap},e=>e.posterEditor.currentPageId],((e,t)=>{var i;if(e&&t)return null!==(i=e[t].duration)&&void 0!==i?i:void 0})),(0,o.P1)([e=>{var t,i;return null===(i=null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages)||void 0===i?void 0:i.pagesHashMap},e=>e.posterEditor.currentPageId],((e,t)=>{var i;if(e&&t)return null!==(i=e[t].background)&&void 0!==i?i:void 0})),e=>{var t,i;return(null===(i=null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages)||void 0===i?void 0:i.pagesHashMap)?Object.keys(e.posterEditor.posterObject.pages.pagesHashMap).length:0}),E=((0,o.P1)([e=>{var t,i;return null===(i=null===(t=e.posterEditor.posterObject)||void 0===t?void 0:t.pages)||void 0===i?void 0:i.pagesHashMap},e=>e.posterEditor.currentPageId],((e,t)=>e&&t?Object.keys(e[t].items.itemsHashMap).length:0)),e=>{const t=T(e);return!t||0===t.length||t.length>1?null:t[0]})},6962:(e,t,i)=>{i.d(t,{lz:()=>Ue});var s,o,n,r=i(67294),a=i(57790),l=i(99111),d=i(12092);i(36131),i(55461),i(15669),i(10106),i(50746),function(e){e.VIDEO="Video",e.AUDIO="Audio",e.SLIDESHOW="Slideshow",e.CUSTOM="Custom"}(s||(s={})),i(78770),i(50154),i(11811),i(85444),i(40714),i(20656),function(e){e.VIDEO="Video",e.AUDIO="Audio",e.SLIDESHOW="Slideshow",e.CUSTOM="Custom"}(o||(o={})),i(70793),i.p,i.p,i.p,i(27885),i(79649),i(93384),i(98810),i(94275),i(40119),i(84483),i(78116),function(e){e.SHOW_REMINDER="1",e.HIDE_REMINDER="0"}(n||(n={}));var c,h,u,p,g,m,f,b,O,w,v,S,T,y,E,I,C,x,A,D,F,P,j,L,M,k,_,N,R,U,H=i(35690),W=i(57751);r.forwardRef((function(e,t){var{isSelected:i=!1,className:s="",onClick:o=(()=>{})}=e,n=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["isSelected","className","onClick"]);return r.createElement(H.L,{ref:t,className:`${W.Z.selector} flex-center radius-4 ${i?W.Z.selected:""} ${s}`,onClick:()=>{o()}},r.createElement(l.xv,{val:n.text,size:l.JB.XSMALL,bold:!0}))})),function(e){e.NEW="new",e.DUPLICATE="duplicate",e.OPEN="open",e.LANGUAGE_AND_SETTINGS="language-and-settings",e.NEED_HELP="need_help"}(c||(c={})),(E=h||(h={})).MY_PHOTOS="my_photos",E.STOCK="stock",E.SLIDESHOW="slideshow",E.FACEBOOK="facebook",E.DRIVE="drive",E.DROPBOX="dropbox",(y=u||(u={})).STICKER="sticker",y.ICON="icon",y.QR="qr",y.SHAPE="shape",y.CLIPART="clipart",(T=p||(p={})).PLAIN_TEXT="plain_text",T.FANCY_TEXT="fancy_text",T.SLIDESHOW="slideshow",(S=g||(g={})).MY_VIDEO="my_video",S.STOCK_VIDEO="stock_video",S.SLIDESHOW="slideshow",S.MY_AUDIO="my_audio",S.STOCK_AUDIO="stock_audio",(v=m||(m={})).SCHEDULE="schedule",v.MENU="menu",v.TABLE="table",v.TEAR_OFF_TABS="tear_off_tabs",(w=f||(f={})).TEXT="text",w.MEDIA="media",w.UPLOADS="uploads",(O=b||(b={})).SOLID="solid",O.GRADIENT="gradient",O.TRANSPARENT="transparent",O.MY_BACKGROUNDS="my_backgrounds",O.STOCK_BACKGROUNDS="stock_backgrounds",i(56927),i(49927),i(98577),i(67055),i(68402),i(13561),i(63845),i(89086),i(35397),i(2220),i(16156),(C=I||(I={})).NONE="none",C.PHOTO="photo",C.UPLOADS="uploads",C.ELEMENT="element",C.TEXT="text",C.MEDIA="media",C.LAYOUT="layout",C.SLIDESHOW="slideshow",C.DRAW="draw",C.BACKGROUND="background",C.QRCODE="qrcode",i(53188),(A=x||(x={})).FULL="full",A.SHORT="short",A.HIDDEN="hidden",i(73916),i(4600),i(75654),i(48993),(F=D||(D={})).DEFAULT="DEFAULT",F.REGEN="REGEN",F.EMBEDDED="EMBEDDED",i(95421),i(18515),i(14173),i(22114),i(13780),i(63767),i(22597),i(50533),i(98612),i(14705),function(e){e.LEFT="left",e.TOP="top"}(P||(P={})),function(e){e[e.FORWARD=10]="FORWARD",e[e.BACKWARD=-10]="BACKWARD"}(j||(j={})),i(98249),i(56030),i(47681),i(36239),i(35685),i(25154),i(20745),i(46739),i(73935),i(58579),i(33827),i(96593),i(80174),function(e){e.NONE="none",e.SLIDESHOW="slideshow"}(L||(L={})),i(48022),i(5671),i(90417),i(86867),function(e){e.DUPLICATE="duplicate",e.DELETE="delete",e.CLEAR_SELECTION="clear_selection"}(M||(M={})),i(79524),i(46714),function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(k||(k={})),i(926),i(39444),i(94893),i(19013),i(83640),(N=_||(_={})).SECONDARY_BUTTON="SECONDARY_BUTTON",N.SVG_BUTTON="SVG_BUTTON",N.CUSTOM_BUTTON="CUSTOM_BUTTON",i.p,i.p,i.p,i.p,i(71231),i(66525),i(70836),i(91171),(U=R||(R={})).NONE="none",U.COLOR="color",i(56014),i(19984),i(33998),i(94820),i(80088),i(85518),i(42441),i(73686),i(48034);var B,G=i(29396);r.forwardRef(((e,t)=>{var{className:i="",onClick:s=(()=>{}),isSelected:o=!1}=e,n=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["className","onClick","isSelected"]);return r.createElement("li",Object.assign({},n,{id:n.id,ref:t,className:[G.Z.container,o?G.Z.isSelected:"","flex-h-row","spacing-m-b-2","flex-items-center",i].join(" "),onClick:()=>{s(n.id)}}),r.createElement("div",{className:`${G.Z.draggableIconContainer} flex-center`},r.createElement(a.J,{className:`${G.Z.draggableIcon}  hover-transition-all spacing-m-r-1`,icon:"icon-draggable",size:d.ZG.SIZE_ICON_16})),r.createElement("div",{className:`${G.Z.audioContentContainer} ${o?G.Z.selectedAudioContainer:G.Z.unselectedAudioContainer} hover-transition-all spacing-p-l-1 spacing-p-r-3 spacing-p-t-1 spacing-p-b-1 flex-row-justify-between flex-items-center`},r.createElement("div",{className:`${G.Z.leftSideContainer} flexbox flex-items-center`},r.createElement("div",{className:`${G.Z.audioIconContainer} flex-center spacing-m-r-2 spacing-m-l-1`},r.createElement(a.J,{icon:"icon-audio",className:`${G.Z.audioIcon}`,shape:d.q0.CIRCLE,type:d.e1.FLAT,size:d.ZG.SIZE_ICON_16,flatIconType:{color:o?d.oQ.PRIMARY:d.oQ.NEUTRAL,type:o?d.CS.DARK:d.CS.DEFAULT}})),r.createElement(l.xv,{bold:o,size:l.JB.XXSMALL,val:n.name,className:`${o?"color-link-visited":"color-standard-text"} ${G.Z.audioNameText} spacing-p-r-8`})),r.createElement(l.xv,{size:l.JB.XXSMALL,val:n.time,className:o?"color-link-visited":"color-light"})))})),i(76550),i(15224),function(e){e.PLAY_PAUSE="playPause",e.TRIM="trim",e.REPLACE="replace",e.DELETE="delete"}(B||(B={}));var V,Y,$,z,Z=i(80373);i(5425),Z.g.NONE,Z.g.BI_FOLD_HORIZONTAL,Z.g.BI_FOLD_VERTICAL,Z.g.TRI_FOLD_HORIZONTAL,Z.g.TRI_FOLD_VERTICAL,Z.g.FOUR_PANEL_HORIZONTAL,Z.g.FOUR_PANEL_VERTICAL,i(88021),i(56634),(Y=V||(V={})).NONE="none",Y.BACKGROUND_COLOR="background-color",Y.IMAGE_BACKGROUND="image-background",Y.TINT="tint",Y.MULTIPLY="multiply",i(35336),i(1483),(z=$||($={})).ITEMS_LIST="ITEMS_LIST",z.LEGACY_EDITOR="LEGACY_EDITOR",z.POSTER_TOOLS="POSTER_TOOLS",z.TEST="TEST";var X,K,J,Q,q,ee,te,ie,se,oe,ne,re,ae,le,de,ce,he,ue=i(40982);r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{className:"intro-animation-svg",d:"M24.2531 46.2679C36.3929 46.2679 46.2342 36.4266 46.2342 24.2868C46.2342 12.1469 36.3929 2.30566 24.2531 2.30566C12.1133 2.30566 2.27197 12.1469 2.27197 24.2868C2.27197 36.4266 12.1133 46.2679 24.2531 46.2679Z",stroke:"#403F5D",strokeWidth:"3.31918",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{className:"intro-animation-svg",x1:"7.81348",y1:"9.52184",x2:"40.399",y2:"38.5035",stroke:"#403F5D",strokeWidth:"3.32354"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 81 81",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{className:"intro-animation-svg",d:"M40.9151 76.945C61.2486 76.945 77.7321 60.4615 77.7321 40.128C77.7321 19.7946 61.2486 3.31104 40.9151 3.31104C20.5817 3.31104 4.09814 19.7946 4.09814 40.128C4.09814 60.4615 20.5817 76.945 40.9151 76.945Z",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("rect",{clipPath:"url(#clip-block)",className:"intro-animation-svg block-animation",x:"0.133789",y:"0.0786133",width:"81.0495",height:"80.0985",fill:"url(#paint0_linear)"}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-block"},r.createElement("rect",{x:"0.474548",y:"0.551514",width:"81.0495",height:"79.1419"})),r.createElement("linearGradient",{id:"paint0_linear",x1:"0.133789",y1:"40.1279",x2:"40.9151",y2:"40.1279",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#403F5D"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D",stopOpacity:"0"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{className:"hide-on-animation-start intro-animation-svg bounce-in-down-animation",d:"M32.7642 75.795C47.7792 75.795 59.9512 63.623 59.9512 48.6081C59.9512 33.5932 47.7792 21.4211 32.7642 21.4211C17.7493 21.4211 5.57727 33.5932 5.57727 48.6081C5.57727 63.623 17.7493 75.795 32.7642 75.795Z",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{className:"hide-on-animation-start intro-animation-svg",d:"M49.8249 92.0587C64.8398 92.0587 77.0118 79.8867 77.0118 64.8718C77.0118 49.8568 64.8398 37.6848 49.8249 37.6848C34.81 37.6848 22.6379 49.8568 22.6379 64.8718C22.6379 79.8867 34.81 92.0587 49.8249 92.0587Z",fill:"#ffffff",stroke:"#403F5D",opacity:"0.7",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{className:"hide-on-animation-start intro-animation-svg",d:"M67.7053 61.0519C82.7202 61.0519 94.8922 48.8799 94.8922 33.8649C94.8922 18.85 82.7202 6.67798 67.7053 6.67798C52.6903 6.67798 40.5183 18.85 40.5183 33.8649C40.5183 48.8799 52.6903 61.0519 67.7053 61.0519Z",fill:"#ffffff",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M24.2531 45.7528C36.3929 45.7528 46.2342 35.9115 46.2342 23.7716C46.2342 11.6318 36.3929 1.79053 24.2531 1.79053C12.1133 1.79053 2.27197 11.6318 2.27197 23.7716C2.27197 35.9115 12.1133 45.7528 24.2531 45.7528Z",className:"hide-on-animation-start intro-animation-svg",stroke:"#403F5D",strokeWidth:"3.31918",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M24.2532 42.399C34.5407 42.399 42.8805 34.0593 42.8805 23.7717C42.8805 13.4841 34.5407 5.14441 24.2532 5.14441C13.9656 5.14441 5.62585 13.4841 5.62585 23.7717C5.62585 34.0593 13.9656 42.399 24.2532 42.399Z",className:"hide-on-animation-start intro-animation-svg fade-animation transform-origin-center",opacity:"0.4",stroke:"#403F5D",strokeWidth:"3.31918",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 90 89",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M39.9645 72.2191C55.3327 72.2191 74.7911 59.7607 74.7911 44.3925C74.7911 29.0243 55.3327 16.5659 39.9645 16.5659C24.5963 16.5659 46.9645 29.0243 46.9645 44.3925C46.9645 59.7607 24.5963 72.2191 39.9645 72.2191Z",className:"hide-on-animation-start intro-animation-svg",opacity:"0.4",stroke:"#403F5D",strokeWidth:"6.22619",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M44.9646 85.6252C67.7367 85.6252 86.1972 67.1647 86.1972 44.3925C86.1972 21.6204 67.7367 3.15991 44.9646 3.15991C22.1924 3.15991 3.73193 21.6204 3.73193 44.3925C3.73193 67.1647 22.1924 85.6252 44.9646 85.6252Z",className:"intro-animation-svg jello-animation",origin:"center",stroke:"#403F5D",strokeWidth:"6.22619",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M44.9646 86.0434C67.7367 86.0434 86.1972 67.5829 86.1972 44.8108C86.1972 22.0386 67.7367 3.57812 44.9646 3.57812C22.1924 3.57812 3.73193 22.0386 3.73193 44.8108C3.73193 67.5829 22.1924 86.0434 44.9646 86.0434Z",className:"hide-on-animation-start intro-animation-svg pop-animation transform-origin-center",stroke:"#403F5D",strokeWidth:"6.22619",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M35.9646 67.6296C48.5671 67.6296 58.7835 57.4133 58.7835 44.8108C58.7835 32.2083 48.5671 21.9919 35.9646 21.9919C23.3621 21.9919 13.1458 32.2083 13.1458 44.8108C13.1458 57.4133 23.3621 67.6296 35.9646 67.6296Z",className:"hide-on-animation-start intro-animation-svg",opacity:"0.4",stroke:"#403F5D",strokeWidth:"6.22619",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 100 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M37.9016 82.184C19.7532 82.184 5.04095 67.4718 5.04095 49.3233C5.04095 31.1749 19.7532 16.4626 37.9016 16.4626C56.0501 16.4626 70.7623 31.1749 70.7623 49.3233C70.7623 67.4718 56.0501 82.184 37.9016 82.184Z",className:"hide-on-animation-start intro-animation-svg pan-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M62.3146 82.184C44.1661 82.184 29.4539 67.4718 29.4539 49.3233C29.4539 31.1749 44.1661 16.4626 62.3146 16.4626C80.4631 16.4626 95.1753 31.1749 95.1753 49.3233C95.1753 67.4718 80.4631 82.184 62.3146 82.184Z",className:"hide-on-animation-start intro-animation-svg",fill:"white",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 83 84",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M41.4442 80.0048C20.4547 80.0048 3.43933 62.9894 3.43933 41.9999C3.43933 21.0105 20.4547 3.99512 41.4442 3.99512",className:"hide-on-animation-start intro-animation-svg origin-center",origin:"center",stroke:"url(#rotate-default-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M41.4393 80.0048C62.4288 80.0048 79.4441 62.9894 79.4441 41.9999C79.4441 21.0105 62.4288 3.99512 41.4393 3.99512",className:"hide-on-animation-start intro-animation-svg origin-center",origin:"center",stroke:"url(#rotate-default-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M42.0024 80.0372C21.0129 80.0372 3.99756 63.0219 3.99756 42.0324C3.99756 21.0429 21.0129 4.02759 42.0024 4.02759",className:"hide-on-animation-start rotate-animation origin-center",origin:"center",opacity:"0",stroke:"url(#rotate-hover-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M41.9975 80.0372C62.987 80.0372 80.0023 63.0219 80.0023 42.0324C80.0023 21.0429 62.987 4.02759 41.9975 4.02759",className:"hide-on-animation-start rotate-animation origin-center",origin:"center",opacity:"0",stroke:"url(#rotate-hover-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"rotate-default-paint-1",x1:"41.4442",y1:"3.99512",x2:"41.4442",y2:"80.0048",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D"})),r.createElement("linearGradient",{id:"rotate-default-paint-2",x1:"41.4393",y1:"3.99512",x2:"41.4393",y2:"80.0048",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D",stopOpacity:"0"})),r.createElement("linearGradient",{className:"rotate-color",id:"rotate-hover-paint-1",x1:"42.0024",y1:"4.02759",x2:"42.0024",y2:"80.0372",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#403F5D",stopOpacity:"0.25"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D"})),r.createElement("linearGradient",{className:"rotate-color",id:"rotate-hover-paint-2",x1:"41.9975",y1:"4.02759",x2:"41.9975",y2:"80.0372",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#403F5D",stopOpacity:"0.25"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D",stopOpacity:"0"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 83 84",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M41.4442 80.0048C20.4547 80.0048 3.43933 62.9894 3.43933 41.9999C3.43933 21.0105 20.4547 3.99512 41.4442 3.99512",className:"hide-on-animation-start intro-animation-svg origin-center",origin:"center",stroke:"url(#rotate-default-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M41.4393 80.0048C62.4288 80.0048 79.4441 62.9894 79.4441 41.9999C79.4441 21.0105 62.4288 3.99512 41.4393 3.99512",className:"hide-on-animation-start intro-animation-svg origin-center",origin:"center",stroke:"url(#rotate-default-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M42.0024 80.0372C21.0129 80.0372 3.99756 63.0219 3.99756 42.0324C3.99756 21.0429 21.0129 4.02759 42.0024 4.02759",className:"hide-on-animation-start rotate-animation origin-center",origin:"center",opacity:"0",stroke:"url(#rotate-hover-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M41.9975 80.0372C62.987 80.0372 80.0023 63.0219 80.0023 42.0324C80.0023 21.0429 62.987 4.02759 41.9975 4.02759",className:"hide-on-animation-start rotate-animation origin-center",origin:"center",opacity:"0",stroke:"url(#rotate-hover-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"rotate-default-paint-1",x1:"41.4442",y1:"3.99512",x2:"41.4442",y2:"80.0048",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D"})),r.createElement("linearGradient",{id:"rotate-default-paint-2",x1:"41.4393",y1:"3.99512",x2:"41.4393",y2:"80.0048",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D",stopOpacity:"0"})),r.createElement("linearGradient",{className:"rotate-color",id:"rotate-hover-paint-1",x1:"42.0024",y1:"4.02759",x2:"42.0024",y2:"80.0372",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#00688C",stopOpacity:"0.25"}),r.createElement("stop",{offset:"1",stopColor:"#00688C"})),r.createElement("linearGradient",{className:"rotate-color",id:"rotate-hover-paint-2",x1:"41.9975",y1:"4.02759",x2:"41.9975",y2:"80.0372",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#00688C",stopOpacity:"0.25"}),r.createElement("stop",{offset:"1",stopColor:"#00688C",stopOpacity:"0"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 101 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip-peek-right)"},r.createElement("path",{d:"M23.8726 82.3952C5.72521 82.203 -8.83043 67.3359 -8.63829 49.1884C-8.44614 31.041 6.42102 16.4853 24.5685 16.6775C42.7159 16.8696 57.2715 31.7368 57.0794 49.8842C56.8873 68.0317 42.0201 82.5873 23.8726 82.3952Z",className:"hide-on-animation-start intro-animation-svg slide-animation",stroke:"#403F5D",fill:"#FFFFFF",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M63.1882 82.8114C45.0408 82.6193 30.4851 67.7521 30.6773 49.6047C30.8694 31.4572 45.7366 16.9016 63.884 17.0937C82.0315 17.2859 96.5871 32.1531 96.395 50.3005C96.2028 68.4479 81.3356 83.0036 63.1882 82.8114Z",className:"hide-on-animation-start intro-animation-svg",stroke:"#403F5D",fill:"#FFFFFF",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{x1:"1.409",y1:"98.6703",x2:"2.44298",y2:"1.01427",className:"intro-animation-svg",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-peek-right"},r.createElement("rect",{width:"98",height:"98",fill:"white",transform:"matrix(-0.999944 -0.0105873 -0.0105873 0.999944 100.017 1.73364)"})))),r.createElement("svg",{className:"svg-medium",width:"20",height:"20",viewBox:"0 0 83 83",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M55.2253 30.5597C41.8479 30.5597 31.0034 41.4042 31.0034 54.7816C31.0034 68.1589 41.8479 79.0034 55.2253 79.0034",className:"hide-on-animation-start intro-animation-svg",stroke:"url(#tumble-default-component-1-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M55.2222 30.5599C68.5996 30.5599 79.4441 41.4044 79.4441 54.7818C79.4441 68.1592 68.5996 79.0037 55.2222 79.0037",className:"hide-on-animation-start intro-animation-svg",stroke:"url(#tumble-default-component-1-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M16.7571 30.3238C24.1671 30.3238 30.1741 24.3169 30.1741 16.9069C30.1741 9.49695 24.1671 3.48999 16.7571 3.48999",className:"hide-on-animation-start intro-animation-svg",stroke:"url(#tumble-default-component-2-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M16.7588 30.3236C9.34888 30.3236 3.34192 24.3166 3.34192 16.9067C3.34192 9.49671 9.34888 3.48975 16.7588 3.48975",className:"hide-on-animation-start intro-animation-svg",stroke:"url(#tumble-default-component-2-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel"}),r.createElement("path",{d:"M16.7571 30.3238C24.1671 30.3238 30.1741 24.3169 30.1741 16.9069C30.1741 9.49695 24.1671 3.48999 16.7571 3.48999",className:"hide-on-animation-start intro-animation-svg tumble-animation origin-center",opacity:"0",stroke:"url(#tumble-hover-component-2-paint-1)",strokeWidth:"6.22619",strokeLinejoin:"bevel",origin:"center"}),r.createElement("path",{d:"M16.7588 30.3236C9.34888 30.3236 3.34192 24.3166 3.34192 16.9067C3.34192 9.49671 9.34888 3.48975 16.7588 3.48975",className:"hide-on-animation-start intro-animation-svg tumble-animation origin-center",opacity:"0",stroke:"url(#tumble-hover-component-2-paint-2)",strokeWidth:"6.22619",strokeLinejoin:"bevel",origin:"center"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"tumble-default-component-1-paint-1",x1:"55.2253",y1:"79.0034",x2:"55.2253",y2:"30.5597",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D"})),r.createElement("linearGradient",{id:"tumble-default-component-1-paint-2",x1:"55.2222",y1:"79.0037",x2:"55.2222",y2:"30.5599",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D",stopOpacity:"0"})),r.createElement("linearGradient",{id:"tumble-default-component-2-paint-1",x1:"16.7571",y1:"3.48999",x2:"16.7571",y2:"30.3238",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D"})),r.createElement("linearGradient",{id:"tumble-default-component-2-paint-2",x1:"16.7588",y1:"3.48975",x2:"16.7588",y2:"30.3236",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#A0A0A0"}),r.createElement("stop",{offset:"1",stopColor:"#403F5D",stopOpacity:"0"})),r.createElement("linearGradient",{id:"tumble-hover-component-2-paint-1",x1:"17.5136",y1:"3.94458",x2:"17.5136",y2:"30.7784",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white",stopOpacity:"0.75"}),r.createElement("stop",{offset:"1",stopColor:"white"})),r.createElement("linearGradient",{id:"tumble-hover-component-2-paint-2",x1:"17.5153",y1:"3.94434",x2:"17.5153",y2:"30.7782",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white",stopOpacity:"0.75"}),r.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M16.7584 61.4332C16.7584 79.5817 31.4707 94.2939 49.6191 94.2939C67.7676 94.2939 82.4798 79.5817 82.4798 61.4332C82.4798 43.2847 67.7676 28.5725 49.6191 28.5725C31.4707 28.5725 16.7584 43.2847 16.7584 61.4332Z",className:"hide-on-animation-start intro-animation-svg rise-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M16.7584 37.0204C16.7584 55.1688 31.4707 69.881 49.6191 69.881C67.7676 69.881 82.4798 55.1688 82.4798 37.0204C82.4798 18.8719 67.7676 4.15967 49.6191 4.15967C31.4707 4.15967 16.7584 18.8719 16.7584 37.0204Z",className:"hide-on-animation-start intro-animation-svg",fill:"white",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M24.2531 45.7528C36.3929 45.7528 46.2342 35.9115 46.2342 23.7716C46.2342 11.6318 36.3929 1.79053 24.2531 1.79053C12.1133 1.79053 2.27197 11.6318 2.27197 23.7716C2.27197 35.9115 12.1133 45.7528 24.2531 45.7528Z",className:"hide-on-animation-start intro-animation-svg shrink-animation transform-origin-center",opacity:"0.4",stroke:"#403F5D",strokeWidth:"3.31918",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M24.2532 36.4131C31.2348 36.4131 36.8946 30.7534 36.8946 23.7717C36.8946 16.7901 31.2348 11.1304 24.2532 11.1304C17.2716 11.1304 11.6118 16.7901 11.6118 23.7717C11.6118 30.7534 17.2716 36.4131 24.2532 36.4131Z",className:"hide-on-animation-start intro-animation-svg",stroke:"#403F5D",strokeWidth:"3.31918",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip-peek-down)"},r.createElement("path",{d:"M16.8967 23.3227C16.8967 5.17421 31.6089 -9.53802 49.7574 -9.53802C67.9058 -9.53802 82.618 5.17421 82.618 23.3227C82.618 41.4711 67.9058 56.1833 49.7574 56.1833C31.6089 56.1833 16.8967 41.4711 16.8967 23.3227Z",className:"hide-on-animation-start intro-animation-svg peek-down-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M16.8967 62.6405C16.8967 44.4921 31.6089 29.7798 49.7574 29.7798C67.9058 29.7798 82.618 44.4921 82.618 62.6405C82.618 80.789 67.9058 95.5012 49.7574 95.5012C31.6089 95.5012 16.8967 80.789 16.8967 62.6405Z",className:"hide-on-animation-start intro-animation-svg",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{x1:"0.384705",y1:"1.03254",x2:"98.0462",y2:"1.03255",className:"intro-animation-svg",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-peek-down"},r.createElement("rect",{width:"98.2891",height:"98.2891",fill:"white",transform:"matrix(0 -1 -1 0 98.3599 98.6091)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip-peek-up)"},r.createElement("path",{d:"M82.5215 76.214C82.5622 94.3625 67.8829 109.108 49.7345 109.148C31.5861 109.189 16.8409 94.5095 16.8003 76.3611C16.7597 58.2127 31.439 43.4676 49.5874 43.427C67.7358 43.3864 82.4809 58.0656 82.5215 76.214Z",className:"hide-on-animation-start intro-animation-svg peek-up-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M82.4336 36.8964C82.4742 55.0448 67.7949 69.7899 49.6465 69.8305C31.4981 69.8712 16.753 55.1919 16.7124 37.0435C16.6718 18.8951 31.351 4.14994 49.4995 4.10933C67.6479 4.06873 82.393 18.748 82.4336 36.8964Z",className:"hide-on-animation-start  intro-animation-svg",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{x1:"99.0834",y1:"98.4672",x2:"1.42211",y2:"98.6857",className:" intro-animation-svg",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-peek-up"},r.createElement("rect",{width:"98.2891",height:"98.2891",fill:"white",transform:"matrix(0.00223753 0.999997 0.999997 -0.00223753 0.890137 1.11011)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip-peek-left)"},r.createElement("path",{d:"M76.4249 17.9387C94.5732 18.0166 109.222 32.7919 109.144 50.9402C109.066 69.0885 94.291 83.7374 76.1427 83.6594C57.9944 83.5815 43.3455 68.8062 43.4234 50.6579C43.5014 32.5096 58.2766 17.8607 76.4249 17.9387Z",className:"hide-on-animation-start intro-animation-svg peek-left-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M37.1075 17.7697C55.2558 17.8477 69.9047 32.623 69.8267 50.7712C69.7488 68.9195 54.9735 83.5684 36.8252 83.4905C18.6769 83.4126 4.02803 68.6373 4.10597 50.489C4.18392 32.3407 18.9592 17.6918 37.1075 17.7697Z",className:"hide-on-animation-start intro-animation-svg",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{x1:"98.7857",y1:"1.52256",x2:"98.3663",y2:"99.1832",className:"intro-animation-svg",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-peek-left"},r.createElement("rect",{width:"98.2891",height:"98.2891",fill:"white",transform:"matrix(0.999991 0.00429478 0.00429478 -0.999991 0.789368 99.0776)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{clipPath:"url(#clip-wipe-down)",className:"intro-animation-svg wipe-down-animation",d:"M88.5689 42.5986C88.5689 64.0405 71.1868 81.4226 49.7449 81.4226C28.303 81.4226 10.921 64.0405 10.921 42.5986C10.921 21.1567 28.303 3.77466 49.7449 3.77466C71.1868 3.77466 88.5689 21.1567 88.5689 42.5986Z",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{className:"hide-on-animation-start intro-animation-svg",x1:"98.5756",y1:"66.3605",x2:"0.914101",y2:"66.3605",stroke:"#D9D9D9",strokeWidth:"1.86313"}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-wipe-down"},r.createElement("rect",{width:"67.0729",height:"98.7461",fill:"white",transform:"matrix(0 1 1 0 0 0)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{clipPath:"url(#clip-wipe-up)",className:"intro-animation-svg wipe-up-animation",d:"M10.1772 24.4741C10.1772 3.03223 27.5593 -14.3499 49.0012 -14.3499C70.4431 -14.3499 87.8252 3.03223 87.8252 24.4741C87.8252 45.916 70.4431 63.2981 49.0012 63.2981C27.5593 63.2981 10.1772 45.916 10.1772 24.4741Z",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{className:"hide-on-animation-start intro-animation-svg",x1:"0.170532",y1:"0.712231",x2:"97.8321",y2:"0.71224",stroke:"#D9D9D9",strokeWidth:"1.86313"}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-wipe-up"},r.createElement("rect",{width:"67.0729",height:"98.7461",fill:"white",transform:"matrix(0 -1 -1 0 98.7462 67.0728)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 68 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{clipPath:"url(#clip-wipe-left)",className:"intro-animation-svg wipe-left-animation",d:"M25.3109 88.7322C3.86902 88.7322 -13.5131 71.3501 -13.5131 49.9082C-13.5131 28.4663 3.86902 11.0842 25.3109 11.0842C46.7528 11.0842 64.1349 28.4663 64.1349 49.9082C64.1349 71.3501 46.7528 88.7322 25.3109 88.7322Z",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{className:"hide-on-animation-start intro-animation-svg",x1:"1.54915",y1:"98.739",x2:"1.54915",y2:"1.07749",stroke:"#D9D9D9",strokeWidth:"1.86313"}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-wipe-left"},r.createElement("rect",{width:"67.0729",height:"98.7461",fill:"white",transform:"matrix(-1 0 0 1 67.9095 0.16333)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 68 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{clipPath:"url(#clip-wipe-right)",className:"intro-animation-svg wipe-right-animation",d:"M43.4353 10.3406C64.8772 10.3406 82.2593 27.7227 82.2593 49.1646C82.2593 70.6064 64.8772 87.9885 43.4353 87.9885C21.9934 87.9885 4.61133 70.6064 4.61133 49.1646C4.61133 27.7227 21.9934 10.3406 43.4353 10.3406Z",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("line",{className:"hide-on-animation-start intro-animation-svg",x1:"67.1971",y1:"0.33374",x2:"67.1971",y2:"97.9953",stroke:"#D9D9D9",strokeWidth:"1.86313"}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip-wipe-right"},r.createElement("rect",{width:"67.0729",height:"98.7461",fill:"white",transform:"matrix(1 0 0 -1 0.83667 98.9094)"})))),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M82.1786 37.1144C82.1786 18.966 67.4664 4.25372 49.3179 4.25372C31.1694 4.25372 16.4572 18.966 16.4572 37.1144C16.4572 55.2629 31.1694 69.9751 49.3179 69.9751C67.4664 69.9751 82.1786 55.2629 82.1786 37.1144Z",className:"hide-on-animation-start intro-animation-svg pan-down-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M82.1786 61.5273C82.1786 43.3788 67.4664 28.6666 49.3179 28.6666C31.1694 28.6666 16.4572 43.3788 16.4572 61.5273C16.4572 79.6757 31.1694 94.3879 49.3179 94.3879C67.4664 94.3879 82.1786 79.6757 82.1786 61.5273Z",className:"hide-on-animation-start intro-animation-svg",fill:"white",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 99 99",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M61.5247 82.6828C79.6731 82.6828 94.3854 67.9706 94.3854 49.8221C94.3854 31.6737 79.6731 16.9614 61.5247 16.9614C43.3762 16.9614 28.664 31.6737 28.664 49.8221C28.664 67.9706 43.3762 82.6828 61.5247 82.6828Z",className:"hide-on-animation-start intro-animation-svg pan-left-animation",stroke:"#403F5D",opacity:"0.4",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M37.1118 82.6828C55.2602 82.6828 69.9725 67.9706 69.9725 49.8221C69.9725 31.6737 55.2602 16.9614 37.1118 16.9614C18.9633 16.9614 4.2511 31.6737 4.2511 49.8221C4.2511 67.9706 18.9633 82.6828 37.1118 82.6828Z",className:"hide-on-animation-start intro-animation-svg",fill:"white",stroke:"#403F5D",strokeWidth:"6.18409",strokeLinecap:"round",strokeLinejoin:"round"})),ue.ru.NONE,ue.ru.BLOCK,ue.ru.BOUNCE_IN_DOWN,ue.ru.FADE,ue.ru.JELLO,ue.ru.PAN,ue.ru.POP,ue.ru.RISE,ue.ru.ROTATE,ue.ru.SLIDE,ue.ru.TUMBLE,i(87753),i(14370),i(71011),(K=X||(X={})).RED="red",K.BLUE="blue",K.GREEN="green",i(17690),i(29311),(Q=J||(J={})).BACKWARD="backward",Q.FORWARD="forward",Q.DUPLICATE="duplicate",Q.DELETE="delete",i(54143),function(e){e.NONE="none",e.COLOR="color"}(q||(q={})),i(9459),(te=ee||(ee={})).NO_SHADOW="no-shadow",te.LIGHT_SHADOW="light-shadow",te.STRONG_SHADOW="strong-shadow",te.CUSTOM_SHADOW="custom-shadow",i(95921),(se=ie||(ie={})).NEUTRAL="NEUTRAL",se.PRIMARY="PRIMARY",se.WARNING="warning",i(78937),function(e){e.TO_BOTTOM="to_bottom",e.BACKWARD="backward",e.TO_TOP="to_top",e.FORWARD="forward"}(oe||(oe={})),function(e){e.FLIP_VERTICAL="flip-vertical",e.FLIP_HORIZONTAL="flip-horizontal",e.STRETCH_VERTICAL="stretch-vertical",e.STRETCH_HORIZONTAL="stretch-horizontal"}(ne||(ne={})),i(1406),function(e){e.NONE="none",e.OUTLINE="outline",e.COLOR_FILL="color-fill",e.CUSTOM_SHADOW="custom-shadow"}(re||(re={})),function(e){e.TRANSPARENT="transparent",e.SOLID="solid"}(ae||(ae={})),function(e){e.NONE="none",e.COLOR_FILL="color-fill",e.BACKGROUND="background"}(le||(le={})),i(60236),i(21555),i(15228),i(17955),function(e){e.CROP="crop",e.REPLACE="replace",e.REMOVE_BG="remove-bg",e.MASK="mask"}(de||(de={})),i(2318),i(18546),(he=ce||(ce={})).NONE="none",he.SHADOW="shadow",he.GLOW="glow",he.BORDER="border",he.REMOVE_COLOR="remove-color",he.TINT="tint",he.MULTIPLY="multiply",i(58466),i(121);var pe,ge,me,fe,be,Oe,we,ve,Se,Te,ye,Ee,Ie,Ce,xe,Ae,De,Fe,Pe,je,Le,Me,ke,_e,Ne,Re=i(6730);(ge=pe||(pe={})).NONE="none",ge.CUSTOM_SHADOW="custom-shadow",ge.FILL="fill",ge.OUTLINE="outline",ge.BACKGROUND_COLOR="background-color",ge.FONT="font",ge.LIST_COLOR="list_color",i(68736),i(73587),i(49432),i.p,i.p,i(41277),i(95600),i(87651),(fe=me||(me={})).DEFAULT="",fe.COLOR="color",fe.SHADOW="shadow",i(8663),i(73682),i(49369),i(4289),i(98488),(Oe=be||(be={})).NONE="none",Oe.SHADOW="shadow",Oe.GLOW="glow",Oe.BORDER="border",Oe.TINT="tint",Oe.MULTIPLY="multiply",i(55296),function(e){e.TRIM="trim",e.REPLACE="replace",e.UNMUTE="unmute"}(we||(we={})),i(77402),(Se=ve||(ve={})).NONE="none",Se.LAYOUT="layout",Se.BACKGROUND="background",Se.BORDER="border",Se.FILL="fill",Se.FONT_ONE="font_one",Se.FONT_TWO="font_two",Se.OUTLINE="outline",Se.HIGHLIGHTED_BACKGROUND="highlighted-background",Se.HIGHLIGHTED_TEXT="highlighted-text",i(48538),(ye=Te||(Te={}))[ye.TRANSPARENT=0]="TRANSPARENT",ye[ye.COLOR=1]="COLOR",Re.Tj.BAND_LAYOUT_LEFT_ALIGN,Re.Tj.BAND_LAYOUT_RIGHT_ALIGN,Re.Tj.BAND_LAYOUT_CENTER_ALIGN,Re.Tj.OFFSET_SPORTS_LAYOUT,(Ie=Ee||(Ee={})).ONE="one",Ie.TWO="two",Ie.ONLY_FONT="only-font",Re.Tj.BAND_LAYOUT_LEFT_ALIGN,Re.Tj.BAND_LAYOUT_RIGHT_ALIGN,Re.Tj.BAND_LAYOUT_CENTER_ALIGN,Re.Tj.OFFSET_SPORTS_LAYOUT,Re.Tj.STRAIGHT_SPORTS_LAYOUT,Re.Tj.SLANTED_SPORTS_LAYOUT,(xe=Ce||(Ce={})).LAYOUT="layout",xe.FILL="fill",xe.OUTLINE="outline",xe.NONE="none",xe.BACKGROUND="background",xe.BORDER="border",xe.ICON_COLOR="icon-color",xe.FONT_ONE="font_one",xe.FONT_TWO="font_two",Re.Tj.MENU_LAYOUT_1,Re.Tj.MENU_LAYOUT_2,Re.Tj.MENU_LAYOUT_3,Re.Tj.MENU_LAYOUT_4,Re.Tj.MENU_LAYOUT_5,Re.Tj.MENU_LAYOUT_6,(Pe=Ae||(Ae={})).DEFAULT="default",Pe.FONT="font",Pe.TEXT_FILL="text_fill",Pe.OUTLINE="outline",Pe.BACKGROUND_COLOR="background_color",Pe.SHADOW="shadow",Pe.REMOVE_COLOR="remove_color",Pe.TINT="tint",Pe.MULTIPLY="multiply",Pe.GLOW="glow",Pe.LIST_COLOR="list_color",Pe.BLOCK_TRANSITION="block_transition",(Fe=De||(De={})).TEXT="text",Fe.IMAGE="image",Fe.VIDEO="video",i(9732),i(35697),i(60001),i(84160),i(24450),i(80843),function(e){e.HIDDEN="hidden",e.TEXT="text",e.IMAGE="image",e.VIDEO="video"}(je||(je={})),ue.ru.NONE,ue.ru.FADE,ue.ru.BLOCK,ue.ru.SHRINK,ue.ru.PEEK_DOWN,ue.ru.PEEK_UP,ue.ru.PEEK_LEFT,ue.ru.PEEK_RIGHT,ue.ru.WIPE_DOWN,ue.ru.WIPE_UP,ue.ru.WIPE_LEFT,ue.ru.WIPE_RIGHT,ue.ru.PAN_DOWN,ue.ru.PAN_UP,ue.ru.PAN_LEFT,ue.ru.PAN_RIGHT,i(15691),i(60028),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(Le||(Le={})),function(e){e.TOP="top",e.CENTER="center",e.BOTTOM="bottom"}(Me||(Me={})),(_e=ke||(ke={})).DEFAULT="default",_e.FILL="fill",_e.OUTLINE="outline",_e.FONT="font",_e.BACKGROUND_COLOR="background-color",_e.SEPERATOR="seperator",function(e){e[e.TRANSPARENT=0]="TRANSPARENT",e[e.COLOR=1]="COLOR"}(Ne||(Ne={})),i(79441),i(33456),i(5478),i(53197),i(48020),i(16414),window.isPosterMaker=!0,window.posterEditor={whiteboard:void 0,config:void 0,elements:{}};const Ue=!1},53188:(e,t,i)=>{var s,o;i.d(t,{M:()=>s}),function(e){e.WHITEBOARD_CONTAINER="WHITEBOARD_CONTAINER",e.WHITEBOARD="WHITEBOARD",e.POSTER_HORIZONTAL_SCROLL="POSTER_HORIZONTAL_SCROLL",e.POSTER_VERTICAL_SCROLL="POSTER_VERTICAL_SCROLL"}(s||(s={})),function(e){e.DOWNLOAD="download",e.FILE="file",e.UPGRADE="upgrade"}(o||(o={}))},14370:(e,t,i)=>{var s;i.d(t,{I:()=>s}),i(67294),i(57790),i(12092),i(99111),function(e){e.EXPLORE_MEDIA="explore-media-option",e.MY_UPLOADS="my-uploads-option"}(s||(s={}))},84483:(e,t,i)=>{i.d(t,{NL:()=>a});const s=(0,i(97168).oM)({name:"messageGrowl",initialState:{show:!1,isOnboardingPopupShowing:!1},reducers:{showSaveReminder:e=>{e.show=!0},hideSaveReminder:e=>{e.show=!1},toggleOnboardingPopupState:(e,t)=>{e.isOnboardingPopupShowing=t.payload}}}),{showSaveReminder:o,hideSaveReminder:n,toggleOnboardingPopupState:r}=s.actions,a=s.reducer},79649:(e,t,i)=>{i.d(t,{m:()=>a});var s,o=i(67294),n=i(93506),r=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};function a(e){var{className:t="",theme:i=s.LIGHT,isPulsating:a=!0}=e,l=r(e,["className","theme","isPulsating"]);return o.createElement("div",{style:{width:l.width,height:l.height,borderRadius:l.radius},className:`${t} ${n.Z.skeletonContainer} ${!0===a?(()=>{switch(i){case s.DARK:return n.Z.dark;case s.LIGHT:default:return n.Z.light}})():(()=>{switch(i){case s.DARK:return n.Z.staticDark;case s.LIGHT:default:return n.Z.staticLight}})()} ${n.Z.dimensions}`})}!function(e){e.LIGHT="light",e.DARK="dark"}(s||(s={}))},39444:(e,t,i)=>{i.d(t,{JA:()=>r,uX:()=>o});const s=(0,i(97168).oM)({name:"spellCheck",initialState:{isSpellCheckEnabled:!0,isSpellCheckUpdating:!1},reducers:{updateSpellCheckState(e,t){e.isSpellCheckEnabled=t.payload},updateSpellCheckLoadingState(e,t){e.isSpellCheckUpdating=t.payload}}}),{updateSpellCheckState:o,updateSpellCheckLoadingState:n}=s.actions,r=s.reducer},62678:(e,t,i)=>{i.d(t,{E:()=>r,i:()=>n});var s=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};let o;const n=()=>s(void 0,void 0,void 0,(function*(){try{const e=yield navigator.permissions.query({name:"clipboard-read",allowWithoutGesture:!1});"granted"===e.state?o=!0:"denied"===e.state&&(o=!1)}catch(e){o="function"==typeof navigator.clipboard.readText}})),r=()=>s(void 0,void 0,void 0,(function*(){return void 0===o&&(yield n()),o}))},68736:(e,t,i)=>{i.d(t,{$g:()=>y,Hy:()=>s,Jj:()=>he,LI:()=>V,Lw:()=>K,MR:()=>I,OC:()=>oe,Oj:()=>ce,Ww:()=>ne,Xg:()=>X,ZL:()=>T,Zy:()=>le,_X:()=>E,bn:()=>me,cr:()=>C,d4:()=>ae,et:()=>j,g9:()=>A,gY:()=>Y,i2:()=>z,k0:()=>U,of:()=>be,pG:()=>u,qs:()=>te,rR:()=>x,rx:()=>O,y4:()=>w,z7:()=>R,z_:()=>J});var s,o=i(37347),n=i.n(o),r=i(96593),a=i(42464),l=i(51481),d=i(40340),c=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};!function(e){e.BOLD="bold",e.ITALIC="italic",e.BOLD_ITALIC="bolditalic"}(s||(s={}));const h="fonts/",u="bullets",p=`${window.PMW.util.asset_url("css/bullets.css")}`,g="pmw_fonts",m="pmw_fonts_version",f="fancy_text_fonts",b="font_language_scripts";var O;!function(e){e[e.REQUIRED=1]="REQUIRED",e[e.LOADED=2]="LOADED"}(O||(O={}));const w={};let v={},S={};const T=(e=null)=>c(void 0,void 0,void 0,(function*(){if(0===Object.keys(v).length){null===e&&(e=yield W());const t=window.PMW.getVersionedCacheItem(g,m,e);v={},t.forEach((e=>{v[e.fontFamily]=e}))}})),y=e=>`'${e}'`,E=e=>{const t=v[e];return null==t?void 0:t.variation.includes(s.BOLD)},I=e=>{const t=v[e];return null==t?void 0:t.variation.includes(s.ITALIC)},C=(e,t=!1,i=!1)=>t||i?t&&i&&(e=>{const t=v[e];return null==t?void 0:t.variation.includes(s.BOLD_ITALIC)})(e)?`${e}_${s.BOLD_ITALIC}`:t&&E(e)?`${e}_${s.BOLD}`:i&&I(e)?`${e}_${s.ITALIC}`:e:e,x=(e,t,i)=>{const s=N(e);M(s),s.length>0?L(s,{onFontLoadSuccess:D,onFontLoadFailure:F,onLoadSuccess:t,onLoadFailure:i}):t()},A=(e,t)=>{P(e)?t():(k(e,p),_({onFontLoadSuccess:D,onFontLoadFailure:F,onLoadSuccess:t}))},D=e=>{w[e]=O.LOADED,$("#buffer").append(`<span style="font-family:'${e}'">force load</span>`)},F=e=>{w[e]=O.REQUIRED},P=e=>!!w[e]&&w[e]===O.LOADED,j={NOT_SELECTED:1,SELECTED_FONT_NOT_LOADED:2,SELECTED_FONT_LOADED:3},L=(e,t={onFontLoadSuccess:$.noop,onFontLoadFailure:$.noop,onLoadSuccess:$.noop,onLoadFailure:$.noop})=>{const i=[];for(const t of e)i.push(new(n())(t).load(null,2e4));Promise.allSettled(i).then((i=>{const s=[];let o=[];for(const e of i)"fulfilled"===e.status?(s.push(e.value.family),t.onFontLoadSuccess&&t.onFontLoadSuccess(e.value.family)):"rejected"===e.status&&console.error(e.reason);if(t.onFontLoadFailure){o=(0,d.cS)(e,s),o.length>0&&console.error("unSuccessfullyLoadedFonts",o);for(const e of o)t.onFontLoadFailure(e)}s.length>0&&t.onLoadSuccess?t.onLoadSuccess():t.onLoadFailure&&t.onLoadFailure()}))},M=e=>{for(const t of e)k(t,te(t))},k=(e,t)=>{const i=`fontFamily-${e}`;if(!document.getElementById(i)){const e=document.getElementsByTagName("head")[0],s=document.createElement("link");s.id=i,s.rel="stylesheet",s.type="text/css",s.href=t,s.media="all",e.appendChild(s)}},_=(e={onFontLoadSuccess:$.noop,onFontLoadFailure:$.noop,onLoadSuccess:$.noop,onLoadFailure:$.noop})=>{new(n())(u).load(null,5e3).then((()=>{e.onFontLoadSuccess&&e.onFontLoadSuccess(u),e.onLoadSuccess&&e.onLoadSuccess()}),(t=>{console.error(`Error loading bullets font, details: ${t}`),e.onFontLoadFailure&&e.onFontLoadFailure(u),e.onLoadSuccess&&e.onLoadSuccess()}))},N=e=>e.filter((e=>!P(e))),R=(e=null,t=null)=>c(void 0,void 0,void 0,(function*(){yield Promise.all([B(e),G(t)]),window.PMW.redux.store.dispatch((0,l.G9)(!1))})),U=(e=null,t=null)=>c(void 0,void 0,void 0,(function*(){yield Promise.all([R(e,t),H(e),de]),yield T(e),yield((e=null)=>c(void 0,void 0,void 0,(function*(){if(0===Object.keys(S).length){null===e&&(e=yield W());const t=window.PMW.getVersionedCacheItem(b,m,e);S={},t.forEach((e=>{const t=e.name.toLowerCase();S[t]=e}))}})))(e)})),H=(e=null)=>c(void 0,void 0,void 0,(function*(){if(se())return;window.PMW.redux.store.dispatch((0,l.G9)(!0)),null===e&&(e=yield W());const t=window.PMW.getVersionedCacheItem(b,m,e);if(Z(t))window.PMW.redux.store.dispatch((0,l.BZ)(t));else{const t=yield window.PMW.redux.store.dispatch((0,a.JY)()).unwrap();q(t,e)}})),W=()=>c(void 0,void 0,void 0,(function*(){const e=ge();if(e)return e;const{version:t}=yield window.PMW.redux.store.dispatch((0,a.EY)()).unwrap();return t})),B=(e=null)=>c(void 0,void 0,void 0,(function*(){if(ie())return;window.PMW.redux.store.dispatch((0,l.G9)(!0)),null===e&&(e=yield W());const t=window.PMW.getVersionedCacheItem(g,m,e),i=window.PMW.getVersionedCacheItem(f,m,e);if(Z(t)&&Z(i))window.PMW.redux.store.dispatch((0,l.qY)(t,i));else{const e=yield window.PMW.redux.store.dispatch((0,a.NO)()).unwrap();Q(e.pmwTextFonts,e.fancyTextFonts,e.version)}})),G=e=>c(void 0,void 0,void 0,(function*(){me()||(window.PMW.redux.store.dispatch((0,l.G9)(!0)),e?window.PMW.redux.store.dispatch((0,l.Wk)(e)):window.PMW.redux.store.dispatch((0,a.gf)()))})),V=(e,t,i)=>{e.pmwFonts=t.sort(z),e.fancyTextFonts=i.sort(z),Y(e,t)},Y=(e,t)=>{const i=t.filter((e=>"RalewayRegular"===e.fontFamily));i.length>0&&(e.selectedFont={fontFamily:i[0].fontFamily,idfont:i[0].idfont,name:i[0].name,isInternalFont:!0,fontItemSelectedState:j.SELECTED_FONT_LOADED})},z=(e,t)=>e.name<t.name?-1:e.name>t.name?1:0,Z=e=>Array.isArray(e),X=(e,t="")=>{e=K(e);const i=v[e];return void 0!==i&&(!t||i.script.includes(t.toUpperCase()))},K=e=>v[e]?e:e.substring(0,e.lastIndexOf("_")),J=e=>S[e.toLowerCase()].recommendedFont,Q=(e,t,i)=>{window.PMW.setCacheItem(g,e),window.PMW.setCacheItem(f,t),window.PMW.setCacheItem(m,i)},q=(e,t)=>{window.PMW.setCacheItem(b,e),window.PMW.setCacheItem(m,t)},ee=(e,t)=>window.PMW.util.repoURL(h+e+".css",t)+"ts=999999999999",te=e=>X(e)?ee(e,(0,r.bE)()):ee(e,(0,r.wA)()),ie=()=>null!==ue()&&null!==he(),se=()=>null!==pe(),oe=e=>{const t=$.trim(e).charCodeAt(0);let i="";for(const[e,s]of Object.entries(S))if(s.charCode.some((s=>t>=s.start&&t<=s.end&&(i=e,!0))),i)return i.toLowerCase();return i.toLowerCase()},ne=e=>S[e.toLowerCase()].displayName,re=(e,t,i="")=>window.PMW.util.repoURL(h+e+i+".png",t)+"ts=99",ae=(e,t="")=>re(e,(0,r.bE)(),t),le=(e,t="")=>re(e,(0,r.wA)(),t),de=()=>c(void 0,void 0,void 0,(function*(){return window.PMW.readLocal("font/getFontCategories",{})})),ce=()=>(0,d.s_)([...ue()||[],...me()||[]],"fontFamily"),he=()=>fe().fancyTextFonts,ue=()=>fe().pmwFonts,pe=()=>fe().languageScripts,ge=()=>fe().pmwFontsVersion,me=()=>fe().userFonts,fe=()=>window.PMW.redux.store.getState().fontSelector,be=e=>{const t=Object.keys(ce()).filter((t=>t===e));return!(!t||t&&0===t.length)}},56030:(e,t,i)=>{i.d(t,{K3:()=>g,YL:()=>n,Zs:()=>m,cd:()=>h,lR:()=>p,n5:()=>c,vl:()=>u,zN:()=>r});var s=i(39444),o=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const n="#FF0000",r="rgba(211, 37, 89, 0.1)",a={},l={};let d=!1;const c=(e,t)=>{a[e]=t},h=e=>o(void 0,void 0,void 0,(function*(){if(window.PMW.getUserPremiumLevel())try{return yield window.PMW.writeLocal("spellcheck/ignoreWord",{text:e})}catch(e){console.error("ignore word failed")}return!1})),u=e=>o(void 0,void 0,void 0,(function*(){const t=[];for(const i of e)i.length&&void 0===a[i]&&t.push(i);if(t.length){const e=yield window.PMW.readLocal("spellcheck/checkSpell",{text:t,lang:window.i18next.language});for(const[t,i]of Object.entries(e))a[t]||(a[t]=i)}return a})),p=e=>o(void 0,void 0,void 0,(function*(){if(e in a&&a[e])return[];if(l[e])return l[e];if(m()&&!d){d=!0;const t=[];for(const[e,i]of Object.entries(a))i||void 0!==l[e]||t.push(e);if(t.length&&window.i18next.language){const e=yield window.PMW.readLocal("spellcheck/suggestWords",{text:t,lang:window.i18next.language});for(const[t,i]of Object.entries(e))!l[t]&&i?l[t]=i.slice(0,2):l[t]=[]}return d=!1,l[e]}return[]})),g=e=>o(void 0,void 0,void 0,(function*(){var t,i;yield window.PMW.writeLocal("spellcheck/enableDisableSpellCheck",{enable:e}),(e=>{window.PMW.redux.store.dispatch((0,s.uX)(e))})(e),yield null===(i=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===i?void 0:i.getCurrentPage().spellCheck.checkSpellForSelectedObject()})),m=()=>window.PMW.redux.store.getState().spellCheck.isSpellCheckEnabled},89091:(e,t,i)=>{i.d(t,{D$:()=>a,Ot:()=>r,SF:()=>n,TM:()=>l});var s=i(87427),o=i(85518);const n=e=>{if(!e)return;const t=e.selectionStart,i=e.selectionEnd;window.PMW.redux.store.dispatch((0,s.Pn)({target:e,wordPosition:{start:t,end:i},openTextSelectionPopupMenu:!0}))},r=e=>{if(e&&"\n"!==e.text[e.selectionStart]&&" "!==e.text[e.selectionStart]&&" "!==e.text[e.selectionStart-1]&&void 0!==e.text[e.selectionStart]){const t=e.searchWordBoundary(e.selectionStart,-1),i=e.searchWordBoundary(e.selectionStart>0?e.selectionStart:1,1);e.setSelectionStart(t),e.setSelectionEnd(i)}},a=e=>!(!o.tq||!e||e.selectionStart===e.selectionEnd),l=()=>{window.PMW.redux.store.dispatch((0,s.iv)(!1))}},94275:(e,t,i)=>{i.d(t,{BA:()=>S,NQ:()=>h,Ng:()=>m,Pc:()=>c,So:()=>w,UL:()=>O,U_:()=>b,W3:()=>u,n5:()=>d,ne:()=>v,rz:()=>g,u8:()=>f,yz:()=>T,zP:()=>p});var s=i(46842),o=i(17955),n=i(85518),r=i(49369),a=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};let l;const d=()=>{const e=window.PMW.getUserId();if("notloggedin"!==e)return e},c=()=>"notloggedin"!==window.PMW.getUserId(),h=()=>a(void 0,void 0,void 0,(function*(){const e=yield a(void 0,void 0,void 0,(function*(){return yield window.PMW.getRequest("user/getUserInfo")})),{fonts:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["fonts"]);return l=i,e})),u=()=>a(void 0,void 0,void 0,(function*(){const e=d();if(e){if(!l||l.id!==e.toString()){const e=yield window.PMW.writeLocal("user/getUserData");e&&(l=e)}return l}})),p=()=>window.PMW.getUserPremiumLevel()===o.tm.PREMIUM_PLUS,g=()=>window.PMW.getUserPremiumLevel()!==o.tm.PAYG,m=()=>window.PMW.getUserType(),f=()=>"designer"===window.PMW.getUserType()||"teacher-designer"===window.PMW.getUserType(),b=()=>window.PMW.readLocal("user/isinregloc"),O=()=>window.PMW.readLocal("user/getCurrentUserFacebookId"),w=(e,t=(()=>{}))=>a(void 0,void 0,void 0,(function*(){try{yield T()}catch(e){return(0,r.y)({message:window.i18next.t("pmwjs_storage_access_denied_message")}),Promise.resolve()}return c()?(yield e(),Promise.resolve()):new Promise((i=>{(0,s.h7)(s.fX.AUTHENTICATE_MODAL_ID,{onLoginSuccess:()=>a(void 0,void 0,void 0,(function*(){yield e(),i()})),onCloseCb:t})}))})),v=()=>a(void 0,void 0,void 0,(function*(){return window.PMW.write("authenticate/asyncLogout")})),S=e=>{const t=!e,i=((null==e?void 0:e.length)||0)>=9,s=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e)||/\d/.test(e);return!t&&s&&i},T=()=>a(void 0,void 0,void 0,(function*(){return window.PMW.isEmbedded()&&"requestStorageAccess"in document&&n.G6?document.requestStorageAccess():Promise.resolve()}))},9459:(e,t,i)=>{i.d(t,{Dn:()=>r,Iw:()=>n,K_:()=>a,m6:()=>l});var s=i(81679),o=i(91171);const n=6,r=2;var a;!function(e){e[e.NONE=0]="NONE",e[e.LIGHT_SHADOW=1]="LIGHT_SHADOW",e[e.STRONG_SHADOW=2]="STRONG_SHADOW",e[e.CUSTOM_SHADOW=3]="CUSTOM_SHADOW",e[e.LIGHT_GLOW=4]="LIGHT_GLOW",e[e.STRONG_GLOW=5]="STRONG_GLOW"}(a||(a={}));class l extends s.v{constructor(){super(...arguments),this.type=a.NONE,this.glowColor=[255,255,255],this.dropShadowColor=[0,0,0],this.dropShadowAlpha=.25,this.dropShadowAngle=45}toObject(){return{type:this.type,dropShadowColor:this.dropShadowColor,dropShadowAlpha:this.dropShadowAlpha,dropShadowAngle:this.dropShadowAngle,glowColor:this.glowColor}}getItemAura({shadowDistance:e=n,shadowBlur:t=r,glowVal:i=this.getDefaultGlowValue()}={}){const s=this.getColorAlpha();if(this.isShadow()){const i=this.getAngleForShadow();let n=e,r=e,l=(0,o.KN)([0,0,0],s);return this.type===a.CUSTOM_SHADOW&&(l=(0,o.KN)(this.dropShadowColor,s),n=Math.round((e+2)*Math.cos(i*Math.PI/180)),r=Math.round((e+2)*Math.sin(i*Math.PI/180))),new window.fabric.Shadow({color:l,blur:t,offsetX:n,offsetY:r,affectStroke:!0})}if(this.isGlow()){const e=(0,o.KN)(this.glowColor,s);return new window.fabric.Shadow(`0px 0px ${i}px ${e}`)}return null}getDefaultGlowValue(){if(!this.isGlow())return 0;switch(this.type){case a.LIGHT_GLOW:return 8;case a.STRONG_GLOW:return 10;default:throw new Error(`Unhandled glow type for getDefaultGlowValue: ${this.type}`)}}getAngleForShadow(){switch(this.type){case a.STRONG_SHADOW:case a.LIGHT_SHADOW:return 45;case a.CUSTOM_SHADOW:return this.dropShadowAngle;default:throw new Error(`Unhandled shadow type for getColorAlphaForShadow: ${this.type}`)}}getColorAlpha(){switch(this.type){case a.STRONG_GLOW:return 1;case a.LIGHT_GLOW:return.8;case a.STRONG_SHADOW:return.5;case a.LIGHT_SHADOW:return.25;case a.CUSTOM_SHADOW:return this.dropShadowAlpha;case a.NONE:return 1;default:throw new Error(`Unhandled shadow type for getColorAlpha: ${this.type}`)}}isShadow(){return this.type===a.LIGHT_SHADOW||this.type===a.STRONG_SHADOW||this.type===a.CUSTOM_SHADOW}isGlow(){return this.type===a.LIGHT_GLOW||this.type===a.STRONG_GLOW}hasAura(){return this.type!==a.NONE}isCustomShadow(){return this.type===a.CUSTOM_SHADOW}}},2318:(e,t,i)=>{i.d(t,{DW:()=>m,Pb:()=>p,fJ:()=>g});var s=i(81679),o=i(64620),n=i(91171),r=i(29311),a=i(21555),l=i(55642),d=i(80088),c=i(18546),h=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const u=150;var p,g;!function(e){e[e.NONE=0]="NONE",e[e.OVAL=1]="OVAL",e[e.RECTANGLE=2]="RECTANGLE",e[e.CURVED=3]="CURVED",e[e.SCRATCHED=4]="SCRATCHED",e[e.TORN_PAPER=5]="TORN_PAPER",e[e.CIRCULAR=6]="CIRCULAR",e[e.HEART=7]="HEART",e[e.GRADIENT=8]="GRADIENT"}(p||(p={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.IMAGEBACKGROUND=1]="IMAGEBACKGROUND"}(g||(g={}));class m extends s.v{constructor(e,t=g.DEFAULT){super(),this.filterOrderType=g.DEFAULT,this.brightness=0,this.blackAndWhite=!1,this.blur=0,this.contrast=0,this.edgeType=p.NONE,this.edgeThickness=7,this.invert=!1,this.multiply=!1,this.multiplyColor=[140,133,140],this.multiplyOpacity=0,this.removeColor=!1,this.removeColorValue=[255,255,255],this.removeColorThickness=.3,this.pixelate=0,this.saturation=0,this.sepia=!1,this.tint=!1,this.tintColor=[0,0,0],this.tintOpacity=.5,this.vibrance=0,this.gamma=new o.ct,this.item=e,this.filterOrderType=t}toObject(){return{brightness:this.brightness,blackAndWhite:this.blackAndWhite,blur:this.blur,contrast:this.contrast,edgeType:this.edgeType,edgeThickness:this.edgeThickness,gamma:this.gamma.toObject(),invert:this.invert,multiply:this.multiply,multiplyColor:this.multiplyColor,multiplyOpacity:this.multiplyOpacity,removeColor:this.removeColor,removeColorValue:this.removeColorValue,removeColorThickness:this.removeColorThickness,pixelate:this.pixelate,saturation:this.saturation,sepia:this.sepia,tint:this.tint,tintColor:this.tintColor,tintOpacity:this.tintOpacity,vibrance:this.vibrance}}copyVals(e={}){const{gamma:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["gamma"]);super.copyVals(i),this.gamma.copyVals(t)}applyBorderEffects(){return h(this,void 0,void 0,(function*(){this.item.fabricObject instanceof window.fabric.Image?(yield this.applyBorderEffect(),this.item.fabricObject.applyFilters()):console.error("Border Effects can only be applied on fabric object of type Image")}))}applyItemEffects(){return h(this,void 0,void 0,(function*(){this.item.fabricObject instanceof window.fabric.Image?(this.filterOrderType===g.DEFAULT?this.applyEffectsInDefaultOrder():this.filterOrderType===g.IMAGEBACKGROUND?this.applyEffectsInImageBackgroundOrder():console.error(`Unknown filterOrderType ${this.filterOrderType}`),this.item.fabricObject.applyFilters()):console.error("Effects can only be applied on fabric object of type Image")}))}applyEffectsInDefaultOrder(){if(this.item.fabricObject instanceof window.fabric.Image){for(;this.item.fabricObject.filters.length;)this.item.fabricObject.filters.pop();this.blackAndWhite&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Grayscale),this.sepia&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Sepia),this.invert&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Invert),this.blur&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Blur({blur:this.blur})),this.pixelate&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Pixelate({blocksize:this.pixelate})),this.contrast&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Contrast({contrast:this.contrast})),this.vibrance&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Vibrance({vibrance:this.vibrance})),this.saturation&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Saturation({saturation:this.saturation})),this.gamma&&this.gamma.isEnabled&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Gamma({gamma:[this.gamma.red,this.gamma.green,this.gamma.blue]})),this.tint&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.BlendColor({color:(0,n.KN)(this.tintColor),mode:"tint",alpha:this.tintOpacity})),this.removeColor&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.RemoveColor({distance:this.removeColorThickness,color:(0,n.KN)(this.removeColorValue)})),this.multiply&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.BlendColor({color:(0,n.KN)(this.multiplyColor),mode:"multiply",alpha:1-this.multiplyOpacity})),0!==this.brightness&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Brightness({brightness:this.brightness}))}else console.error("Effects can only be applied on fabric object of type Image")}applyEffectsInImageBackgroundOrder(){if(this.item.fabricObject instanceof window.fabric.Image){for(;this.item.fabricObject.filters.length;)this.item.fabricObject.filters.pop();this.blackAndWhite&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Grayscale),this.sepia&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Sepia),this.invert&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Invert),this.tint&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.BlendColor({color:(0,n.KN)(this.tintColor),mode:"tint",alpha:this.tintOpacity})),this.multiply&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.BlendColor({color:(0,n.KN)(this.multiplyColor),mode:"multiply",alpha:1-this.multiplyOpacity})),0!==this.brightness&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Brightness({brightness:this.brightness})),this.contrast&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Contrast({contrast:this.contrast})),this.saturation&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Saturation({saturation:this.saturation})),this.vibrance&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Vibrance({vibrance:this.vibrance})),this.blur&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Blur({blur:this.blur})),this.pixelate&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Pixelate({blocksize:this.pixelate})),this.gamma&&this.gamma.isEnabled&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.Gamma({gamma:[this.gamma.red,this.gamma.green,this.gamma.blue]})),this.removeColor&&this.item.fabricObject.filters.push(new window.fabric.Image.filters.RemoveColor({distance:this.removeColorThickness,color:(0,n.KN)(this.removeColorValue)}))}else console.error("Effects can only be applied on fabric object of type Image")}applyEdgeEffectsToImageElement(e){return h(this,void 0,void 0,(function*(){return this.doesEdgeEffectNeedClipping()?this.applyClippingToImage(e):this.edgeType!==p.NONE?this.applyBitmapBasedBorderEffectToImage(e):e}))}applyClippingToImage(e){return h(this,void 0,void 0,(function*(){const t=new window.fabric.Image(e,{});return t.set({clipPath:this.getCurvedBorder(t)}),(0,a.fY)((0,d.ud)(t))}))}applyBitmapBasedBorderEffectToImage(e){return h(this,void 0,void 0,(function*(){if(this.isBitmapBasedEffect()){const t=new window.fabric.Image(e,{}),i=yield(0,a.fY)(this.getEdgeEffectImageURL());let s=new window.fabric.Image(i,{});return this.edgeType===p.GRADIENT?u!==this.edgeThickness&&(s=yield(0,d.jy)(s,{height:s.height*((u-this.edgeThickness)/u)}),t.filters.push(new window.fabric.Image.filters.BlendImage({image:s}))):t.filters.push(new window.fabric.Image.filters.BlendImage({image:s})),t.applyFilters(),(0,a.fY)((0,d.ud)(t))}return e}))}applyBorderEffect(){return h(this,void 0,void 0,(function*(){if(this.item.fabricObject instanceof window.fabric.Image){if(this.isBitmapBasedEffect()){const e=yield(0,a.fY)(this.getEdgeEffectImageURL());let t=new window.fabric.Image(e,{});this.edgeType===p.GRADIENT?u!==this.edgeThickness&&(t=yield(0,d.jy)(t,{height:t.height*((u-this.edgeThickness)/u)}),this.item.fabricObject.filters.push(new window.fabric.Image.filters.BlendImage({image:t}))):this.item.fabricObject.filters.push(new window.fabric.Image.filters.BlendImage({image:t}))}}else console.error("Effects can only be applied on fabric object of type Image")}))}isBitmapBasedEffect(){return this.edgeType!==p.NONE&&!this.doesEdgeEffectNeedClipping()}getEdgeEffectImageURL(){let e="-small";return this.item.page.poster.isHighRes&&(e=""),window.PMW.util.asset_url(`postermaker/imageborders/${this.edgeType.toString()+e}.png`)}doesEdgeEffectNeedClipping(){return this.edgeType===p.CURVED}hasEdgeTypeForStroke(){return this.edgeType===p.CIRCULAR||this.edgeType===p.HEART}getBorderForEdgeEffect(e){return this.item.gitype!==r.Z.IMAGE?this.item.border.solidBorderType:this.item.border.hasBorder()?e===p.CIRCULAR||e===p.HEART?this.edgeType===p.HEART||this.edgeType===p.CIRCULAR?this.item.border.solidBorderType:c.T.STROKE_BORDER:this.item.border.solidBorderType===c.T.STROKE_BORDER?c.T.RECTANGLE_BORDER:this.item.border.solidBorderType:c.T.NONE}getCurvedBorder(e){const t=e.width,i=e.height,s=t/2*-1,o=i/2*-1,n=(0,l.a)(this.edgeThickness,2,54,0,1)*Math.min(t,i),r=`M${s+n},${o}L${s+t-n},${o}Q${s+t},${o},${s+t},${o+n}L${s+t},${o+i-n}Q${s+t},${o+i},${s+t-n},${o+i}L${s+n},${o+i}Q${s},${o+i},${s},${o+i-n}L${s},${o+n}Q${s},${o},${s+n},${o}`;return new window.fabric.Path(r)}}},42060:(e,t,i)=>{i.d(t,{Q:()=>o});var s=i(68255);class o extends s.Jw{constructor(){super(...arguments),this.angle=0,this.left=0,this.top=0,this.height=0,this.width=0,this.scaleX=1,this.scaleY=1}toObject(){return Object.assign(Object.assign({},super.toObject()),{angle:this.angle,left:this.left,top:this.top,height:this.height,width:this.width,scaleX:this.scaleX,scaleY:this.scaleY})}offsetItem(e,t){this.left+=e,this.top+=t}}},32464:(e,t,i)=>{i.d(t,{CP:()=>d,WK:()=>c,XY:()=>h,Yd:()=>g,pM:()=>p,uK:()=>l,x5:()=>u});var s=i(42060),o=i(68255),n=i(22114),r=i(68736),a=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const l=200,d=8,c=200,h=-20,u=500,p=10;class g extends s.Q{constructor(){super(),this.type=o.lh.TEXT,this.text="",this.textStyles=new n.k7}copyVals(e={}){const{textStyles:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["textStyles"]);super.copyVals(i),this.textStyles.copyVals(t)}toObject(){return Object.assign(Object.assign({},super.toObject()),{textStyles:this.textStyles.toObject(),text:this.text})}applyMaskingToImage(e){return a(this,void 0,void 0,(function*(){const t=yield this.getFabricObjectForMasking(),i=e.width/this.imageWidth,s=e.height/this.imageHeight;return t.set({angle:this.angle,width:this.width,height:this.height,scaleX:this.scaleX*i,scaleY:this.scaleY*s,left:this.left*i,top:this.top*s}),this.applyMaskForFabricObject(e,t)}))}getFabricObjectForMasking(){return a(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{(0,r.rR)([this.textStyles.getFontFamilyToLoad()],(()=>{e(new window.fabric.Textbox(this.text,Object.assign({angle:this.angle,left:this.left,top:this.top,width:this.width,scaleX:this.scaleX,scaleY:this.scaleY},this.textStyles.getTextStyles(this.getScaledWidth(),this.getScaledHeight()))))}),t)}))}))}getScaledWidth(){return this.width*this.scaleX}getScaledHeight(){return this.height*this.scaleY}}},68255:(e,t,i)=>{i.d(t,{Ad:()=>h,CY:()=>o,Jw:()=>c,lh:()=>s});var s,o,n=i(81679),r=i(91171),a=i(80088),l=i(21555),d=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};!function(e){e.SHAPE="shape",e.FREEHAND="freehand",e.TEXT="text"}(s||(s={})),function(e){e.NONE="none",e.COLOR_POP="colorpop"}(o||(o={}));class c extends n.v{constructor(){super(...arguments),this.maskEffect=o.NONE,this.insideMasking=!1,this.imageWidth=0,this.imageHeight=0}toObject(){return{type:this.type,maskEffect:this.maskEffect,imageWidth:this.imageWidth,imageHeight:this.imageHeight,insideMasking:this.insideMasking}}isShape(){return this.type===s.SHAPE}isFreehand(){return this.type===s.FREEHAND}isText(){return this.type===s.TEXT}applyMaskForFabricObject(e,t){return d(this,void 0,void 0,(function*(){return h(e,t,{insideMasking:this.insideMasking,maskEffect:this.maskEffect})}))}}const h=(e,t,{insideMasking:i=!1,maskEffect:s=o.NONE}={})=>new Promise(((n,c)=>{t.clone((t=>d(void 0,void 0,void 0,(function*(){try{const d=document.createElement("canvas"),h=d.getContext("2d");if(!h)return void c(new Error("Failed to intialize canvas"));d.width=e.width,d.height=e.height,h.drawImage(e,0,0),(0,a.jg)(t,(0,r.KN)([0,0,0],1)),h.globalCompositeOperation=i?"destination-out":"destination-in",yield(0,a.bg)(h,t);const p=yield(0,l.fY)(d.toDataURL("image/png"));s===o.COLOR_POP?n(yield u(e,p)):n(p)}catch(e){console.error(void 0!==e?e:"Failed to mask item"),c(e)}}))))})),u=(e,t)=>new Promise(((i,s)=>{const o=p(e.width,e.height,{hoverCursor:"pointer",selection:!0,controlsAboveOverlay:!0,center:!0,enableRetinaScaling:!1}),n=new window.fabric.Image(e,{});n.filters.push(new window.fabric.Image.filters.Grayscale),o.setBackgroundImage(n,(()=>{n.applyFilters();const e=new window.fabric.Image(t,{left:0,top:0});o.add(e),o.renderAll();const r=o.toDataURL({multiplier:1,enableRetinaScaling:!1}),a=new Image,l=()=>{s(new Error("Failed to load image for masking item"))};a.crossOrigin="anonymous",a.onload=()=>{i(a)},a.onerror=l,a.onabort=l,a.src=r}),{originX:"left",originY:"top"})})),p=(e,t,i)=>{const s=document.createElement("canvas");return s.width=e,s.height=t,new window.fabric.StaticCanvas(s,i)}},38124:(e,t,i)=>{i.d(t,{m:()=>n});var s=i(81679),o=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};class n extends s.v{constructor(e){super(),this.syncing=!1,this.enable=!0,this.props=e}disable(){this.enable=!1}syncToPage(e){return o(this,void 0,void 0,(function*(){if(!this.syncing&&this.enable){this.syncing=!0;try{yield this.syncItemToTime(e)}finally{this.syncing=!1}}}))}syncItemToTime(e){return o(this,void 0,void 0,(function*(){const t=this.props.pauseAtEnd?e:e%this.props.getDuration(),i=this.props.getCurrentTime();Math.abs(t-i)>.5&&(yield this.props.seek(t))}))}}},22114:(e,t,i)=>{i.d(t,{RD:()=>h,iR:()=>c,jK:()=>p,k7:()=>m,rN:()=>s,tA:()=>u,ul:()=>g,zP:()=>o});var s,o,n=i(68736),r=i(79963),a=i(81679),l=i(91171),d=i(67055);!function(e){e.CENTER="center",e.TOP="top",e.BOTTOM="bottom"}(s||(s={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right",e.JUSTIFY="justify"}(o||(o={}));const c="RalewayRegular",h="normal",u=1,p=.2,g=.05;class m extends a.v{constructor(){super(),this.fontSize=0,this.fontFamily=c,this.fontStyle=h,this.fontWeight="normal",this.letterSpacing=0,this.fontLicense="",this.editable=!0,this.leading=120,this.textAlign=o.LEFT,this.script="",this.isBold=!1,this.isItalic=!1,this.underLine=!1,this.lineThrough=!1,this.stroke=!1,this.strokeColor=[0,0,0],this.strokeWidth=u,this.fill=new d.de}copyVals(e={}){const{fill:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["fill"]);super.copyVals(i),this.fill.copyVals(t)}toObject(){return{fill:this.fill.toObject(),fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,fontLicense:this.fontLicense,leading:this.leading,textAlign:this.textAlign,script:this.script,isBold:this.isBold,isItalic:this.isItalic,underLine:this.underLine,lineThrough:this.lineThrough,stroke:this.stroke,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth}}getTextStyles(e,t){const i=this.getFontFamilyToLoad(),s=n.y4[i]===n.rx.LOADED,o=!!s&&(0,n._X)(this.fontFamily),a=!!s&&(0,n.MR)(this.fontFamily),l={fontSize:this.fontSize,fontFamily:(0,n.$g)(this.getFontFamilyToLoad()),fontWeight:this.fontWeight,fontStyle:this.isItalic&&!a?n.Hy.ITALIC:h,textAlign:this.textAlign,fill:this.fill.getFill(e,t),charSpacing:this.letterSpacing,linethrough:this.lineThrough,underline:this.underLine,lineHeight:(0,r.lU)(this.leading),stroke:null,strokeLineJoin:"miter",strokeWidth:u};return this.isBold&&!o?Object.assign(Object.assign({},l),{stroke:this.fill.getFill(e,t),strokeLineJoin:"round",strokeWidth:this.getBoldStrokeWidth()}):l}getFontStyle(){const e=this.getFontFamilyToLoad(),t=!(n.y4[e]!==n.rx.LOADED)&&(0,n.MR)(this.fontFamily);return this.isItalic&&!t?n.Hy.ITALIC:h}getLoadedTextStyles(e,t){const i=this.getTextStyles(e,t);return new Promise(((e,t)=>{(0,n.rR)([this.getFontFamilyToLoad()],(()=>{e(i)}),t)}))}getFontFamilyToLoad(){return(0,n.cr)(this.fontFamily,this.isBold,this.isItalic)}getBoldStrokeWidth(){return g*this.fontSize}getColorForStroke(){const e=(0,l.Ss)(this.fill.fillColor[0])<50?150:-150;return(0,l.oo)((0,l._$)(this.fill.fillColor[0],e))}getLanguageScriptAndFontForText(e){if(!e)return{};const t=(0,n.OC)(e);return t?{script:t,fontFamily:(0,n.Xg)(this.fontFamily,t)?this.fontFamily:(0,n.z_)(t)}:(this.script="",{})}}},64620:(e,t,i)=>{i.d(t,{ct:()=>o});var s=i(81679);class o extends s.v{constructor(e={}){super(),this.isEnabled=!1,this.red=1,this.green=1,this.blue=1,this.copyVals(e)}toObject(){return{isEnabled:this.isEnabled,red:this.red,green:this.green,blue:this.blue}}updateFromObject(e){this.copyVals(e)}}},73598:(e,t,i)=>{i.d(t,{v:()=>B});var s=i(6172),o=i(29311),n=i(28202),r=i(96593),a=i(25628),l=i(2318),d=i(18546),c=i(81679),h=i(21555),u=i(80088);class p extends c.v{constructor(){super(...arguments),this.cropped=!1,this.x=0,this.y=0,this.width=0,this.height=0,this.imageWidth=0,this.imageHeight=0}toObject(){return{cropped:this.cropped,x:this.x,y:this.y,width:this.width,height:this.height,imageWidth:this.imageWidth,imageHeight:this.imageHeight}}getCroppedWidthScaleToOriginal(){return this.cropped?this.imageWidth/this.width:1}getCroppedHeightScaleToOriginal(){return this.cropped?this.imageHeight/this.height:1}applyCropToImage(e){return t=this,i=void 0,o=function*(){if(!this.cropped)return e;const t=new window.fabric.Image(e,{}),i=this.getScaledCropData(e);return(0,h.fY)((0,u.ud)(t,{left:i.x,top:i.y,width:i.width,height:i.height}))},new((s=void 0)||(s=Promise))((function(e,n){function r(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,s,o}isCropped(){return this.cropped}getScaledCropData(e){const t=e.width/this.imageWidth,i=e.height/this.imageHeight;return{x:Math.round(this.x*t),y:Math.round(this.y*i),width:Math.round(this.width*t),height:Math.round(this.height*i)}}}var g=i(1483),m=i(25154),f=i(46842),b=i(71011),O=i(15228),w=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};class v extends c.v{constructor(e){super(),this.isBackgroundRemoved=!1,this.isbackgroundBeingRemoved=!1,this.ignoreKeysForCopy={isbackgroundBeingRemoved:null},this.item=e}toObject(){return{isBackgroundRemoved:this.isBackgroundRemoved,isbackgroundBeingRemoved:this.isbackgroundBeingRemoved}}ensureRemovedBackgroundImageExistsIfNeeded(){return w(this,void 0,void 0,(function*(){this.isBackgroundRemoved&&!(yield this.doesRemovedBackgroundExists())&&(yield(0,h.pD)(this.item.hashedFilename))}))}doesRemovedBackgroundExists(){return w(this,void 0,void 0,(function*(){const e=(0,b.Ac)(this.item.hashedFilename,this.item.imageSource);return(0,a.e)(e)}))}removeBackground(){return w(this,void 0,void 0,(function*(){if(!this.isbackgroundBeingRemoved){this.isbackgroundBeingRemoved=!0,this.item.page.poster.redux.updateReduxData();try{if(yield this.doesRemovedBackgroundExists()){if(this.isBackgroundRemoved)return;return void(yield this.item.enableRemoveBackgroundFlag())}const e=yield(0,h.pD)(this.item.hashedFilename);window.PMW.redux.store.dispatch((0,O.tt)({credits:e.remainingRemoveBackgroundCredits})),yield this.item.enableRemoveBackgroundFlag()}catch(e){if("unprocessable_image"===e.code)return void(0,g.ve)({title:window.i18next.t("pmwjs_remove_bg_failed"),text:window.i18next.t("pmwjs_remove_bg_unprocessable_image")});if("insufficient_credits"===e.code)return void this.onInSufficientFunds();(0,g.ve)({title:window.i18next.t("pmwjs_remove_bg_failed"),text:window.i18next.t("pmwjs_remove_bg_failed_desc")})}finally{(0,m.G8)(m.Y4.REMOVE_BACKGROUND),this.isbackgroundBeingRemoved=!1,this.item.page.poster.redux.updateReduxData()}}}))}onInSufficientFunds(){return new Promise(((e,t)=>{const i=i=>w(this,void 0,void 0,(function*(){if(i)return yield this.removeBackground(),void e();t()}));window.PMW.readLocal("premium/getBackgroundRemovalPacks").then((e=>{window.PMW.readLocal("premium/getRemainingBackgroundRemovals").then((t=>{(0,f.h7)(f.fX.REMOVE_BG_PURCHASE_MODAL_ID,{remainingBackgroundRemovals:t.remaningBackgroundRemovals,currentCredits:t.credits,backgroundRemovalPacks:e,callback:i})})).catch((()=>{t()}))})).catch((()=>{t()}))}))}getBackgroundRemovedURLForCurrentImageURL(){return w(this,void 0,void 0,(function*(){const e=(yield this.item.getImageUrl()).replace(b.Fj,"").split("."),t=e[e.length-2].split("_");return e[e.length-2]=`${t[0]}${b.Fj}${void 0!==t[1]?`_${t[1]}`:""}`,e[e.length-1]=b.Fu,e.reduce(((e,t)=>`${e}.${t}`))}))}}var S=i(42060),T=i(68255),y=i(85144);class E extends S.Q{constructor(){super(...arguments),this.type=T.lh.SHAPE}toObject(){return Object.assign(Object.assign({},super.toObject()),{shapeName:this.shapeName})}applyMaskingToImage(e){return t=this,i=void 0,o=function*(){const t=yield(0,y.Hx)(this.shapeName);this.fixSize(t);const i=e.width/this.imageWidth,s=e.height/this.imageHeight;return t.set({angle:this.angle,scaleX:this.scaleX*i,scaleY:this.scaleY*s,left:this.left*i,top:this.top*s}),this.applyMaskForFabricObject(e,t)},new((s=void 0)||(s=Promise))((function(e,n){function r(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,s,o}fixSize(e){this.scaleX*=this.width/e.width,this.scaleY*=this.height/e.height,this.width=e.width,this.height=e.height}}var I=i(32464),C=i(45392),x=i(96486);class A extends T.Jw{constructor(){super(...arguments),this.type=T.lh.FREEHAND,this.maskPoints=[],this.isMaskCurved=!0}toObject(){return Object.assign(Object.assign({},super.toObject()),{maskPoints:this.maskPoints,isMaskCurved:this.isMaskCurved})}copyVals(e={}){const{maskPoints:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["maskPoints"]);super.copyVals(i),t&&(this.maskPoints=(0,x.cloneDeep)(t))}offsetItem(e,t){for(let i=0;i<this.maskPoints.length;i++)this.maskPoints[i].x+=e,this.maskPoints[i].y+=t}getScaledMaskPoints(e,t){const i=[];for(const s of this.maskPoints)i.push({x:s.x*e,y:s.y*t});return i}applyMaskingToImage(e){return t=this,i=void 0,o=function*(){const t=e.width/this.imageWidth,i=e.height/this.imageHeight,s=(0,C.D)(this.getScaledMaskPoints(t,i),!0,this.isMaskCurved);return s?this.applyMaskForFabricObject(e,s):e},new((s=void 0)||(s=Promise))((function(e,n){function r(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,s,o}}class D extends c.v{copyVals(e={}){var t,i,s,o;(null===(t=e.maskingItem)||void 0===t?void 0:t.type)&&(null===(i=e.maskingItem)||void 0===i?void 0:i.type)!==(null===(s=this.maskingItem)||void 0===s?void 0:s.type)&&(this.maskingItem=F(e.maskingItem.type)),"maskingItem"in e&&void 0===e.maskingItem&&(this.maskingItem=void 0),null===(o=this.maskingItem)||void 0===o||o.copyVals(e.maskingItem)}applyMaskingToImage(e){return t=this,i=void 0,o=function*(){return this.maskingItem?this.maskingItem.applyMaskingToImage(e):e},new((s=void 0)||(s=Promise))((function(e,n){function r(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,s,o}toObject(){var e;return{maskingItem:null===(e=this.maskingItem)||void 0===e?void 0:e.toObject()}}}const F=e=>{switch(e){case T.lh.SHAPE:return new E;case T.lh.TEXT:return new I.Yd;case T.lh.FREEHAND:return new A;default:throw new Error(`Unhandled maskingtype ${e}`)}};var P=i(9459),j=i(98810),L=i(49195),M=i(55642),k=i(20656),_=i(54600),N=i(2220),R=i(49742),U=i(10770),H=i(91171),W=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};class B extends s.ck{constructor(e){super(e),this.gitype=o.Z.IMAGE,this.isRemoved=!1,this.isPurchased=!1,this.showReplaceButton=!1,this.getUnoptimizedOriginalHighresImageURL=()=>(0,n._2)(`${(0,b.u8)(this.imageSource,b.Hh.HIGH_RES)}/${this.hashedFilename}.${this.getFileExtension()}`,(0,r.wA)()),this.effects=new l.DW(this),this.cropData=new p,this.masking=new D,this.removeBackground=new v(this)}toObject(){return Object.assign(Object.assign({},super.toObject()),{cropData:this.cropData.toObject(),effects:this.effects.toObject(),hashedFilename:this.hashedFilename,fileExtension:this.fileExtension,isRemoved:this.isRemoved,isPurchased:this.isPurchased,removeBackground:this.removeBackground.toObject(),masking:this.masking.toObject(),showReplaceButton:this.showReplaceButton,imageSource:this.imageSource,loadedImageHeight:this.loadedImageHeight,loadedImageWidth:this.loadedImageWidth})}getAdditionalOldValuesForReinit(){return{screenTier:this.getTargetScreenTier(),hasStrokeBorderType:this.border.hasStrokeBorderType(),solidBorderType:this.border.solidBorderType,solidBorderThickness:this.border.solidBorderThickness,solidBorderColor:this.border.solidBorderColor}}initEvents(){super.initEvents(),this.fabricObject.on("pmwBmBtn:clicked",this.onBmBtnClicked.bind(this))}setControlsVisibility(){super.setControlsVisibility();const e=this.getBmBtn();this.fabricObject.set({pmwBmBtnText:e.text,pmwBmBtnIcon:e.icon}),this.fabricObject.setControlsVisibility({pmwBmBtn:this.getBmBtn().visible,ml:!this.isLocked(),mt:!this.isLocked(),mr:!this.isLocked(),mb:!this.isLocked()})}itemObjectHasDestructiveChanges(e,t){return t.screenTier!==this.getTargetScreenTier()||this.hasStrokeBorderChanged(t)||this.hasCroppingChanged(e)||this.hasRemoveBackgroundChanged(e)||this.hasEdgeTypeChanged(e)||this.hasMaskingChanged(e)}hasEdgeTypeChanged(e){return e.effects.edgeType!==this.effects.edgeType||e.effects.edgeThickness!==this.effects.edgeThickness}hasCroppingChanged(e){return!(0,x.isEqual)(this.cropData.toObject(),e.cropData)}hasMaskingChanged(e){return!(0,x.isEqual)(this.masking.toObject(),e.masking)}hasRemoveBackgroundChanged(e){return this.removeBackground.isBackgroundRemoved!==e.removeBackground.isBackgroundRemoved}hasStrokeBorderChanged(e){return(e.hasStrokeBorderType||this.border.hasStrokeBorderType())&&(this.border.solidBorderType!==e.solidBorderType||this.border.solidBorderThickness!==e.solidBorderThickness||(0,H.vq)(this.border.solidBorderColor)!==(0,H.vq)(e.solidBorderColor))}getFabricObjectsForPDF(){return W(this,void 0,void 0,(function*(){const e=[],t=this.loadedImageWidth/this.getScaledWidth();return e.push(yield(0,u.DF)(this.fabricObject,{multiplier:t},["__PMWID"])),this.hasGettyContent()&&e.push(yield(0,u.qz)(this.fabricObject,["__PMWID"])),e}))}copyVals(e){const{effects:t,masking:i,removeBackground:s,cropData:o}=e,n=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["effects","masking","removeBackground","cropData"]);super.copyVals(n),this.cropData.copyVals(o),this.effects.copyVals(t),this.masking.copyVals(i),this.removeBackground.copyVals(s)}onItemDoubleClicked(){var e;(null===(e=this.masking.maskingItem)||void 0===e?void 0:e.isText())&&this.openMaskingModal()}updateFabricObject(){const e=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return W(this,void 0,void 0,(function*(){yield e.updateFabricObject.call(this),yield this.effects.applyItemEffects()}))}getScaledLoadedImageHeight(){return this.scaleY*this.loadedImageHeight}getScaledLoadedImageWidth(){return this.scaleX*this.loadedImageWidth}isDrawing(){return this.imageSource===b.vp.DRAWING}isMasked(){return void 0!==this.masking.maskingItem}enableRemoveBackgroundFlag(){return W(this,void 0,void 0,(function*(){yield this.updateFromObject({removeBackground:{isBackgroundRemoved:!0}})}))}getFileExtension(){return(0,h.xd)(this.fileExtension)}isPremium(){return this.isNonPurchasedGetty()&&!this.isRemoved}hasGettyContent(){return this.imageSource===b.vp.GETTY||this.imageSource===b.vp.GETTY_ILLUSTRATIONS}isNonPurchasedGetty(){return!this.isPurchased&&(this.imageSource===b.vp.GETTY||this.imageSource===b.vp.GETTY_ILLUSTRATIONS)}isItemTransparent(){return this.removeBackground.isBackgroundRemoved||this.isMasked()||this.hasTransparency||this.effects.hasEdgeTypeForStroke()}getBigScreenImageUrl(){return W(this,void 0,void 0,(function*(){const e=this.getUrlForTier(b.LB.BIG);return(yield(0,a.e)(e))?e:this.getImageUrl()}))}getFabricObjectForItem(e=!1){return W(this,void 0,void 0,(function*(){const t=this.loadedImageWidth,i=this.loadedImageHeight;return yield this.loadImageItem(),e&&(this.loadedImageWidth===t&&this.loadedImageHeight===i||(this.scaleX=this.scaleX*t/this.loadedImageWidth,this.scaleY=this.scaleY*i/this.loadedImageHeight)),this.getFabricImageForImage(this.imageElement)}))}getFabricImageForImage(e){return new window.fabric.Image(e,Object.assign({},super.getCommonOptions()))}loadImageItem(){return W(this,void 0,void 0,(function*(){yield this.ensureDynamicSizesForImageExists(),yield this.removeBackground.ensureRemovedBackgroundImageExistsIfNeeded();let e=yield(0,h.fY)(yield this.getImageUrl());this.loadedImageWidth=e.width,this.loadedImageHeight=e.height,e=yield this.cropData.applyCropToImage(e),e=yield this.masking.applyMaskingToImage(e),e=yield this.effects.applyEdgeEffectsToImageElement(e),e=yield this.border.applyBorderBeforeInitToImageElement(e,this.getScaleFactorForEffects()),this.imageElement=e,this.initOriginalImageHasTransparency()}))}initOriginalImageHasTransparency(){this.page.poster.mode.isGeneration()||this.isTransparencyDetermined()||(this.hasTransparency=!this.isJPG()&&(0,h.EL)(this.imageElement))}isTransparencyDetermined(){return void 0!==this.hasTransparency}isJPG(){return"jpg"===this.fileExtension.toLowerCase()}getImageDisplayHeight(){return this.imageElement.height}getImageDisplayWidth(){return this.imageElement.width}doesLoadedImageHaveDifferentDimensions(){return this.width!==this.getImageDisplayWidth()||this.height!==this.getImageDisplayHeight()}shouldMaintainScaledDimensionsOnReinit(e,t){return t.screenTier!==this.getTargetScreenTier()}isIcon(){return this.imageSource===b.vp.PMW_ICON}getImageUrl(){return W(this,void 0,void 0,(function*(){return this.loadHighRes()?this.getHighresUrl():this.getScreenUrl()}))}repoImageURL(e){if(this.hashedFilename&&this.getFileExtension()){let t=e;void 0===t&&(t=this.page.poster.isHighRes?b.Hh.HIGH_RES:b.Hh.SCREEN);const i=this.getImageS3Name();return(0,n._2)(`${(0,b.u8)(this.imageSource,t)}/${i}`,(0,r.wA)())}return""}getImageS3Name(){let e="";return e=this.removeBackground.isBackgroundRemoved?this.hashedFilename+(0,b.JE)():`${this.hashedFilename}.${this.getFileExtension()}`,e}fixChanges(){this.fixBrightness(),this.fixBorder(),this.page.poster.version<k.aj.HTML5&&this.border.solidBorderType!==d.T.NONE&&(this.width-=this.border.solidBorderThickness,this.height-=this.border.solidBorderThickness)}fixBrightness(){this.page.poster.version<k.aj.FABRIC_2_UPDATE&&(this.effects.brightness=(0,M.a)(this.effects.brightness,-100,100,-.4,.4))}fixBorder(){this.page.poster.version===k.aj.FABRIC_3_UPDATE&&(this.border.solidBorderThickness=Math.round(this.border.solidBorderThickness*this.scaleX))}ensureDynamicSizesForImageExists(){return W(this,void 0,void 0,(function*(){(yield this.doDynamicSizeExists())||(yield window.PMW.writeLocal("posterimage/generateImagePresets",{userImageHashedFilename:this.hashedFilename}))}))}doDynamicSizeExists(){return W(this,void 0,void 0,(function*(){return(0,a.e)(this.getUrlForTier(this.getTargetScreenTier()))}))}getScreenUrl(){return this.getDynamicSizeUrlForModel()}getDynamicSizeUrlForModel(){return this.hashedFilename&&this.getFileExtension()?this.getUrlForTier(this.getTargetScreenTier()):""}getUrlForTier(e){let t=this.getImageS3Name();return t=`${t.substring(0,t.lastIndexOf("."))}${b.nz[e].s3NameSuffix}.`,t+=(0,h.xd)(U.z),(0,n._2)(`${(0,b.u8)(this.imageSource,b.Hh.SCREEN)}/${t}`,(0,r.wA)())}getHighresUrl(){return W(this,void 0,void 0,(function*(){try{return yield this.getHighResImageURL()}catch(e){return console.error(e),this.getUnoptimizedHighresImageURL()}}))}getTierForMaxImageDimension(e){let t=b.LB.SMALL;for(const[i,s]of Object.entries(b.nz))e>s.minTargetDimension&&s.minTargetDimension>b.nz[t].minTargetDimension&&(t=i);return t}getTargetScreenTier(){const e=Math.max(this.getScaledLoadedImageWidth(),this.getScaledLoadedImageHeight());return this.getTierForMaxImageDimension(e)}getHighResImageURL(){return W(this,void 0,void 0,(function*(){if(this.hasGettyContent())return this.getDynamicalyResizedImageURL();const e=this.newMaxImageDimension(),t=this.getTierForMaxImageDimension(e);return e<=b.nz[t].maxDimension||this.isDrawing()?this.getUrlForTier(t):this.getDynamicalyResizedImageURL()}))}newMaxImageDimension(){return Math.round(Math.max(this.getScaledHeight(),this.getScaledWidth())*this.page.poster.scaling.scale)}getDynamicalyResizedImageURL(){return W(this,void 0,void 0,(function*(){const e=this.newMaxImageDimension();return window.PMW.writeLocal("posterimage/resizeImageToMaxDimension",{newMaxDimension:e,imageUrl:this.getUnoptimizedHighresURL()})}))}loadHighRes(){return this.page.poster.isHighRes||this.page.poster.mode.isWebpage()&&!this.isPremium()}getUnoptimizedHighresURL(){return this.isDrawing()?this.getDrawingSVGURL():this.repoImageURL(b.Hh.HIGH_RES)}getUnoptimizedHighresImageURL(){return this.isDrawing()?this.getUrlForTier(b.LB.BIG):this.repoImageURL(b.Hh.HIGH_RES)}getDrawingSVGURL(){return(0,n._2)(`${(0,b.u8)(this.imageSource,b.Hh.HIGH_RES)}/${this.hashedFilename}.svg`,(0,r.wA)())}applyShadowToFabricObject(){this.fabricObject.set("shadow",this.aura.getItemAura({shadowDistance:this.getScaleFactorForEffects()*P.Iw,shadowBlur:this.getScaleFactorForEffects()*P.Dn,glowVal:this.getScaleFactorForEffects()*this.aura.getDefaultGlowValue()}))}getScaleFactorForEffects(){const e=this.loadedImageWidth/500,t=this.loadedImageHeight/500;return Math.min(e,t)}getColors(){const e=super.getColors();return this.aura.isGlow()&&e.push(this.aura.glowColor),e}onBmBtnClicked(){this.getBmBtn().onClick()}getBmBtn(){var e;return(null===(e=this.masking.maskingItem)||void 0===e?void 0:e.isText())?{text:window.i18next.t("pmwjs_edit_mask_text"),onClick:this.openMaskingModal.bind(this),icon:L.nI.editIcon,visible:!0}:{text:window.i18next.t("pmwjs_replace"),onClick:this.onReplaceClicked.bind(this),icon:L.nI.replaceIcon,visible:this.showReplaceButton}}openMaskingModal(){(0,j.w7)(this)}onReplaceClicked(){if(N.F1&&window.innerWidth<780)(0,R.b)();else if(N.F1){const e=window.PMW.redux.store.getState().imageItemPopUpMenu.openPopup;window.PMW.redux.store.dispatch((0,_.O)({beforeOpen:!e,openPopup:e,target:this.page.activeSelection.getActiveObject()}))}else(0,j.tT)(this,(e=>{this.page.items.replaceItems.replaceMedia(e[0],this)}))}updateMasking(e){return W(this,void 0,void 0,(function*(){yield this.updateFromObject({masking:{maskingItem:e}})}))}}},17236:(e,t,i)=>{i.d(t,{Hk:()=>n,_P:()=>s,gT:()=>o});const s={},o=(e,t)=>{window.fabric.loadSVGFromURL(`${window.PMW.util.asset_url(`postermaker/menu-icons/svgs/${e}.svg`)}`,t)},n=e=>{if(e in s){const t=s[e];if(t instanceof window.fabric.Group){const e=t.getObjects(),i=[];for(let t=0;t<e.length;t++)i.push(window.fabric.util.object.clone(e[t]));t.set({_objects:i})}return window.fabric.util.object.clone(t)}return!1}},40141:(e,t,i)=>{i.d(t,{mK:()=>h,xD:()=>u});var s=i(6172),o=i(55296),n=i(20656),r=i(38124),a=i(2318),l=i(21555),d=i(40340),c=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const h="webm";class u extends s.ck{constructor(e){super(e),this.hashedFilename="",this.duration=0,this.hasTransparency=!1,this.frameRate=0,this.startTime=0,this.endTime=0,this.isMuted=!1,this.version=2,this.hasAudio=null,this.effects=new a.DW(this),this.syncToPosterClock=new r.m({getDuration:this.getStreamDuration.bind(this),getCurrentTime:this.getCurrentTime.bind(this),seek:this.seek.bind(this),pauseAtEnd:this.shouldPauseAtStreamEnd()}),this.loadSprite()&&this.syncToPosterClock.disable(),this.syncToPosterClockFunction=this.syncToPosterClock.syncToPage.bind(this.syncToPosterClock)}shouldPauseAtStreamEnd(){return!1}hasUniformStroke(){return this.version>=2}onRemove(){this.page.poster.off(n.ul.PAGE_TIME_UPDATED,this.syncToPosterClockFunction),this.htmlElement instanceof HTMLVideoElement&&this.htmlElement.pause()}getDuration(){return this.endTime-this.startTime}getStreamDuration(){return this.getDuration()}toObject(){return Object.assign(Object.assign({},super.toObject()),{effects:this.effects.toObject(),hashedFilename:this.hashedFilename,duration:this.duration,hasTransparency:this.hasTransparency,frameRate:this.frameRate,startTime:this.startTime,endTime:this.endTime,isMuted:this.isMuted})}stop(){return c(this,void 0,void 0,(function*(){this.fabricObject instanceof window.fabric.Sprite?this.fabricObject.stop():(yield this.pause(),this.htmlElement instanceof HTMLVideoElement&&(this.htmlElement.currentTime=this.startTime))}))}setControlsVisibility(){super.setControlsVisibility(),this.fabricObject.setControlsVisibility({ml:!this.isLocked(),mt:!this.isLocked(),mr:!this.isLocked(),mb:!this.isLocked()})}isStreamingMediaItem(){return!0}copyVals(e){const{effects:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["effects"]);super.copyVals(i),this.effects.copyVals(t)}updateFabricObject(){const e=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return c(this,void 0,void 0,(function*(){yield e.updateFabricObject.call(this),yield this.effects.applyItemEffects(),yield this.effects.applyBorderEffects(),this.htmlElement instanceof HTMLVideoElement&&(this.htmlElement.muted=this.isMuted)}))}pause(){var e;return c(this,void 0,void 0,(function*(){this.fabricObject instanceof window.fabric.Sprite?this.fabricObject.pause():this.htmlElement instanceof HTMLVideoElement&&(null===(e=this.htmlElement)||void 0===e||e.pause())}))}fixChanges(){this.applyFixForVersion2()}applyFixForVersion2(){this.hasUniformStroke()||(this.border.solidBorderThickness=Math.round(this.border.solidBorderThickness*this.scaleX),this.version=2)}onItemAddedToPage(){this.page.poster.on(n.ul.PAGE_TIME_UPDATED,this.syncToPosterClockFunction),this.page.background.isTransparentBackground()&&this.page.background.updateBackgroundToBeNonTransparent()}getCurrentTime(){if(!(this.htmlElement instanceof HTMLVideoElement))throw new Error("This function can't be run for sprites");return this.htmlElement.currentTime-this.startTime}seek(e){return new Promise(((t,i)=>{this.htmlElement instanceof HTMLVideoElement&&(this.htmlElement.addEventListener("seeked",(()=>{t()}),{capture:!1,once:!0}),this.htmlElement instanceof HTMLVideoElement?this.htmlElement.currentTime=e:i(new Error("This function can't be run for sprites")))}))}play(){return c(this,void 0,void 0,(function*(){if(this.fabricObject instanceof window.fabric.Sprite)this.fabricObject.play();else{if(!(this.htmlElement instanceof HTMLVideoElement))throw new Error("Video element is not defined");try{const e=this.htmlElement.play();void 0!==e&&(yield e)}catch(e){if(!(e instanceof Error&&e.message.includes("The play() request was interrupted by a call to pause()")))throw e}}}))}setFrameForGeneration(e,t){return c(this,void 0,void 0,(function*(){const i=(e>this.getDuration()?e%this.getDuration():e)+this.startTime,s=Math.round((i+.001)*Math.pow(10,6)),o=(0,d.K_)(Object.keys(t),s);if(null===o)throw new Error(`No available frame for frameTime: ${s} in: ${JSON.stringify(Object.keys(t))}`);yield this.setImageFrame(t[o])}))}setImageFrame(e){return c(this,void 0,void 0,(function*(){if(!(this.currentLoadedImageFrameSrc===e||this.fabricObject instanceof window.fabric.Sprite)){if(!(this.fabricObject instanceof window.fabric.Image))throw new Error("Set image frame can only be called on fabric image and not sprite. This function is only used in generation and this should never happen in it");{const t=yield(0,l.fY)(e);this.fabricObject.setElement(t),this.fabricObject.set({scaleX:this.getScaledWidth()/t.width,scaleY:this.getScaledHeight()/t.height})}}}))}getFabricObjectForItem(){const e=Object.create(null,{getCommonOptions:{get:()=>super.getCommonOptions}});return c(this,void 0,void 0,(function*(){return this.loadSprite()?this.getFabricObjectForSprite():(yield this.loadVideoElement(),new window.fabric.Image(this.htmlElement,Object.assign(Object.assign({},e.getCommonOptions.call(this)),{strokeUniform:!0})))}))}loadVideoElement(){return c(this,void 0,void 0,(function*(){this.htmlElement=yield(0,o.o2)(this.getVideoUrl(),{videoElementAttributes:this.getVideoElementAttributes()}),this.hasAudio=(0,o.pu)(this.htmlElement),this.htmlElement.loop=!this.shouldPauseAtStreamEnd(),this.htmlElement.muted=!this.hasAudio||this.isMuted,this.duration=this.htmlElement.duration,this.endTime=0===this.endTime?this.htmlElement.duration:this.endTime,this.htmlElement.width=this.htmlElement.videoWidth,this.htmlElement.height=this.htmlElement.videoHeight,this.scaleItem()}))}getFabricObjectForSprite(){const e=Object.create(null,{getCommonOptions:{get:()=>super.getCommonOptions}});return c(this,void 0,void 0,(function*(){return this.htmlElement=yield(0,l.fY)(this.getSpriteUrl()),this.scaleItem(),new window.fabric.Sprite(this.htmlElement,Object.assign(Object.assign({},e.getCommonOptions.call(this)),{frameHeight:this.htmlElement.height,frameWidth:this.getLoaderDisplayWidth(),frameTime:1e3/15}))}))}scaleItem(){this.width&&this.height&&this.doesLoadedVideoHaveDifferentDimensions()&&(this.scaleX=this.scaleX*this.width/this.getLoaderDisplayWidth(),this.scaleY=this.scaleY*this.height/this.getLoaderDisplayHeight())}isItemNew(){return null===this.width}doesLoadedVideoHaveDifferentDimensions(){return this.width!==this.getLoaderDisplayHeight()||this.height!==this.getLoaderDisplayWidth()}getLoaderDisplayWidth(){return this.loadSprite()?Math.round(this.htmlElement.width/Math.round(15*this.duration)):this.htmlElement.width}getLoaderDisplayHeight(){return this.htmlElement.height}getVideoElementAttributes(){return{}}}},24106:(e,t,i)=>{i.d(t,{R:()=>d});var s=i(22114),o=i(57427),n=i(47683),r=i(49195),a=i(80088),l=i(81679);class d extends l.v{constructor(e){super(),this.horizontalAlign="center",this.verticalAlign="center",this.slide=e}toObject(){return{horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign}}getMediaSlidePosition(){let e,t;const i=this.slide.fabricObject.group;switch(this.horizontalAlign){case s.zP.LEFT:e=-i.width/2+(0,o.jJ)(i.scaleX);break;case s.zP.CENTER:e=-this.slide.fabricObject.getScaledWidth()/2;break;case s.zP.RIGHT:e=i.width/2-(0,o.jJ)(i.scaleX)-this.slide.fabricObject.getScaledWidth();break;default:console.error(`Unknown align type value '${this.horizontalAlign}`)}switch(this.verticalAlign){case s.rN.TOP:t=-i.height/2+(0,o.as)(i.scaleX);break;case s.rN.CENTER:t=-this.slide.fabricObject.getScaledHeight()/2;break;case s.rN.BOTTOM:t=i.height/2-(0,o.as)(i.scaleY)-this.slide.fabricObject.getScaledHeight();break;default:console.error(`Unknown align type value '${this.verticalAlign}`)}return{left:e,top:t}}getMediaSlideAbsolutePosition(){const e=this.slide.fabricObject.group;let t;const i=(0,n.Ht)(45+e.angle),o=Math.sqrt(2*Math.pow(r.lf.PMW_CONTROL_PADDING,2));if(this.hasHorizontalAlignmentAxis()){const n=(0,a._i)(this.slide.fabricObject);switch(this.horizontalAlign){case s.zP.LEFT:t={left:e.aCoords.tl.x+o*Math.cos(i),top:e.aCoords.tl.y+o*Math.sin(i)};break;case s.zP.CENTER:t={left:(n.tl.x+n.tr.x)/2,top:(n.tl.y+n.tr.y)/2};break;case s.zP.RIGHT:t={left:e.aCoords.tr.x-o*Math.sin(i),top:e.aCoords.tr.y+o*Math.cos(i)};break;default:t={left:e.aCoords.tl.x+o*Math.cos(i),top:e.aCoords.tl.y+o*Math.sin(i)},console.error(`Unknown align type value '${this.verticalAlign}`)}t.originX=this.horizontalAlign}else{const n=(0,a._i)(this.slide.fabricObject);switch(this.verticalAlign){case s.rN.TOP:t={left:e.aCoords.tl.x+o*Math.cos(i),top:e.aCoords.tl.y+o*Math.sin(i)};break;case s.rN.CENTER:t={left:(n.tl.x+n.bl.x)/2,top:(n.tl.y+n.bl.y)/2};break;case s.rN.BOTTOM:t={left:e.aCoords.bl.x+o*Math.sin(i),top:e.aCoords.bl.y-o*Math.cos(i)};break;default:t={left:e.aCoords.tl.x+o*Math.cos(i),top:e.aCoords.tl.y+o*Math.sin(i)},console.error(`Unknown align type value '${this.verticalAlign}`)}t.originY=this.verticalAlign}return t}hasHorizontalAlignmentAxis(){const e=this.slide.fabricObject.group;return(e.width-(0,o.I3)(e.scaleX))/this.slide.fabricObject.width>=(e.height-(0,o.UQ)(e.scaleY))/this.slide.fabricObject.height}updateMediaSlideScale(){const e=this.slide.fabricObject.group,t=(e.width-(0,o.I3)(e.scaleX))/this.slide.fabricObject.width,i=(e.height-(0,o.UQ)(e.scaleY))/this.slide.fabricObject.height,s=t<i?t:i;this.slide.fabricObject.set({scaleY:s,scaleX:s}),this.slide.scaleX=s,this.slide.scaleY=s}}},16308:(e,t,i)=>{i.d(t,{t:()=>c});var s=i(73598),o=i(99377),n=i(24106),r=i(29311),a=i(91171),l=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},d=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};class c extends s.v{constructor(e,t){super(e),this.gitype=r.Z.IMAGESLIDE,this.slideDuration=o.$,this.slideshow=t,this.mediaSlide=new n.R(this)}toObject(){return Object.assign(Object.assign({},super.toObject()),{slideDuration:this.slideDuration,mediaSlide:this.mediaSlide.toObject()})}copyVals(e){const{mediaSlide:t}=e,i=d(e,["mediaSlide"]);super.copyVals(i),this.mediaSlide.copyVals(t)}getCommonOptions(){const e=super.getCommonOptions(),{left:t,top:i,opacity:s}=e;return d(e,["left","top","opacity"])}getSlideDuration(){return this.slideDuration}setSlideDuration(e){this.slideDuration=e}reInitFabricObject(){return l(this,void 0,void 0,(function*(){const e=this.fabricObject,t=this.slideshow.fabricObject;yield this.initFabricObject(),this.fabricObject.set({left:e.left,top:e.top}),t.remove(e),t.add(this.fabricObject)}))}getFill(){return`#${(0,a.vq)(this.slideshow.transition.color)}`}isChildItem(){return!0}getColors(){return super.getColors()}getAppliedSidebarProps(){return{aura:this.aura.toObject(),border:this.border.toObject(),effects:this.effects.toObject(),mediaSlide:this.mediaSlide.toObject()}}enableRemoveBackgroundFlag(){return l(this,void 0,void 0,(function*(){yield this.slideshow.updateSlideFromObject(this.uid,{removeBackground:{isBackgroundRemoved:!0}})}))}updateMasking(e){return l(this,void 0,void 0,(function*(){yield this.slideshow.updateSlideFromObject(this.uid,{masking:{maskingItem:e}})}))}}},48:(e,t,i)=>{i.d(t,{Q:()=>u});var s=i(43439),o=i(24106),n=i(55642),r=i(29311),a=i(91171),l=i(40340),d=i(99377),c=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},h=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};class u extends s.m{constructor(e,t){super(e),this.gitype=r.Z.VIDEOSLIDE,this.slideDuration=d.$,this.syncing=!1,this.initGeneration=!1,this.frameTimeToPathMap={},this.slideshow=t,this.mediaSlide=new o.R(this),this.syncToPosterClock.disable()}toObject(){return Object.assign(Object.assign({},super.toObject()),{slideDuration:this.slideDuration,mediaSlide:this.mediaSlide.toObject()})}copyVals(e){const{mediaSlide:t}=e,i=h(e,["mediaSlide"]);super.copyVals(i),this.mediaSlide.copyVals(t)}getCommonOptions(){const e=super.getCommonOptions(),{left:t,top:i,opacity:s}=e;return h(e,["left","top","opacity"])}shouldPauseAtStreamEnd(){return!0}onItemAddedToPage(){}getSlideDuration(){return this.slideDuration}getStreamDuration(){return Math.min(this.slideDuration,this.getDuration())}setSlideDuration(e){this.slideDuration=e}getFill(){return`#${(0,a.vq)(this.slideshow.transition.color)}`}syncItemToTime(e){return c(this,void 0,void 0,(function*(){this.htmlElement instanceof HTMLVideoElement&&(e>this.getStreamDuration()?yield this.pauseSlideAtEndTime():(!this.syncing&&void 0!==e&&e>0&&Math.abs(e-this.getCurrentTime())>.5&&(yield this.seek(e+this.startTime),this.syncing=!1),void 0!==e&&e>0?yield this.checkForPausedStream(e):e<0&&(yield this.pause())))}))}checkForPausedStream(e){return c(this,void 0,void 0,(function*(){if(this.htmlElement&&this.page.poster.isPlaying()&&!(e>this.getStreamDuration())&&!(this.htmlElement.currentTime>0&&!this.htmlElement.paused&&!this.htmlElement.ended&&this.htmlElement.readyState>2))try{yield this.play()}catch(e){console.error(e),this.page.poster.pause()}}))}pauseSlideAtEndTime(){return c(this,void 0,void 0,(function*(){(0,n.oK)(this.htmlElement.currentTime,1)!==(0,n.oK)(this.endTime,1)&&(yield this.pause(),yield this.seek(this.endTime),this.syncing=!1)}))}stopSlide(){this.htmlElement&&(0,n.oK)(this.htmlElement.currentTime,1)!==(0,n.oK)(this.startTime,1)&&this.stop()}onEnded(){var e;return c(this,void 0,void 0,(function*(){yield this.seek(null!==(e=this.endTime)&&void 0!==e?e:this.startTime),yield this.pause()}))}isChildItem(){return!0}getAppliedSidebarProps(){return{aura:this.aura.toObject(),border:this.border.toObject(),effects:this.effects.toObject(),mediaSlide:this.mediaSlide.toObject()}}setFrameForGeneration(e,t){var i,s;return c(this,void 0,void 0,(function*(){if(!this.initGeneration){this.initGeneration=!0,this.frameTimeToPathMap={};for(let e=0;e<t.length;e++){const o=null===(s=null===(i=t[e].split("/"))||void 0===i?void 0:i.pop())||void 0===s?void 0:s.split(".")[0];if(!o)throw new Error(`Incorrent videoslideItemFramePath ${t[e]}`);this.frameTimeToPathMap[parseInt(o,10)]=`${window.PMW.BASE_URL}${window.PMW.util.getLocalURLFromFilePath(t[e])}`}}const o=this.slideshow.slides.getStartTimeForSlide(this.uid);let n;n=e<o?this.startTime:e>o+this.getDuration()?this.endTime:e-o+this.startTime;const r=Math.round((n+.001)*Math.pow(10,6)),a=(0,l.K_)(Object.keys(this.frameTimeToPathMap),r);if(null===a)throw new Error(`No available frame for frameTime: ${r} in: ${JSON.stringify(Object.keys(this.frameTimeToPathMap))}`);yield this.setImageFrame(this.frameTimeToPathMap[a])}))}}},92962:(e,t,i)=>{i.d(t,{a:()=>L});var s=i(6172),o=i(29311),n=i(4702),r=i(57427),a=i(89086),l=i(40982),d=i(49195),c=i(24450),h=i(56030),u=i(47683),p=i(49432),g=i(20656),m=i(77947),f=i(58301),b=i(83570),O=i(75655),w=i(28721),v=i(46842),S=i(56927),T=i(37785),y=i(80843),E=i(1483),I=i(62678),C=i(89091),x=i(99377),A=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};let D=p.Cs.NONE;const F=30;var P,j;!function(e){e[e.SLIDESHOW_VERSION_1=1]="SLIDESHOW_VERSION_1",e[e.SLIDESHOW_VERSION_2=2]="SLIDESHOW_VERSION_2"}(P||(P={})),function(e){e[e.LOWER_SPEED=1.3]="LOWER_SPEED",e[e.LOW_SPEED=.9]="LOW_SPEED",e[e.MED_SPEED=.5]="MED_SPEED",e[e.HIGH_SPEED=.25]="HIGH_SPEED",e[e.HIGHER_SPEED=.15]="HIGHER_SPEED"}(j||(j={}));class L extends s.ck{constructor(e){super(e),this.version=P.SLIDESHOW_VERSION_2,this.transition=new n.u,this.gitype=o.Z.SLIDESHOW,this.introAnimationPadding=0,this.introDelay=0,this.hasIntroOutroTransition=!1,this.selectedSlideUID="",this.clone=null,this.isUpdateFabricObjectPending=!1,this.isPosterStoppedWhileTransitioning=!1,this.isPosterPausedOrInterruptedWhileTransitioning=!1,this.transitionLock=!1,this.isSlideshowAnimationPlaying=!1,this.animation=void 0,this.dfd=void 0,this.textChangedTimeout=0,this.spellCheckTimeout=0,this.slides=new c.cE(this),this.transition=new n.u,this.syncToPosterClockFunction=this.syncSlideShow.bind(this)}onItemAddedToPage(){this.page.poster.on(g.ul.PAGE_TIME_UPDATED,this.syncToPosterClockFunction),this.page.poster.on(g.ul.POSTER_SEEKED,this.onPosterSeeked.bind(this)),this.page.isVideo()&&this.page.background.isTransparentBackground()&&this.page.background.updateBackgroundToBeNonTransparent()}getBorderColor(){return this.isStreamingItem()?d.B_.DYNAMIC_ITEM:d.B_.STATIC_ITEM}onEnded(){return A(this,void 0,void 0,(function*(){yield this.stop()}))}onRemove(){this.page.poster.off(g.ul.PAGE_TIME_UPDATED,this.syncToPosterClockFunction);for(const[,e]of Object.entries(this.slides.slidesHashMap))e.isVideoSlide()&&e.onRemove()}syncSlideShow(e){return A(this,void 0,void 0,(function*(){this.syncVideoSlides(e),this.hasTransition()?this.isTimeToTransitionToNextSlide(e)?this.startTransition():(this.hasIntroOutroTransition||this.hasIntroDelay()&&this.hasTransition())&&this.timeForFirstSlideTransitionIn(e)?this.transitionIn(0):this.areSlideTransitionTimesOverlapping()&&this.isSlideshowAnimationPlaying?this.stopAnimation():this.isSlideshowAnimationPlaying||(this.updateSelectedSlideForTime(e),this.updateFirstSlideWithDelayVisibilty(e),this.conditionallyHideLastSlide(e)):(this.updateSelectedSlideForTime(e),this.updateFirstSlideWithDelayVisibilty(e)),this.hasIntroDelay()&&e<this.introDelay&&!this.isSlideshowAnimationPlaying&&(this.slides.hideAllSlides(),this.restoreDefaultState())}))}syncVideoSlides(e){return A(this,void 0,void 0,(function*(){if(this.slides.hasVideoSlide()){const t=this.getSelectedSlide();if(t.isVideoSlide()){const i=this.slides.getStartTimeForSlide(this.selectedSlideUID);yield t.syncItemToTime(e-(null!=i?i:0))}this.stopUnselectedVideoSlides()}}))}updateSelectedSlideForTime(e){const t=this.slides.getSlideIndexForTime(e),i=this.slides.slidesHashMap[this.slides.slidesOrder[t]];i&&this.selectedSlideUID!==i.uid&&this.setSelectedSlideAndUpdateView(i.uid)}setSelectedSlideAndUpdateView(e){this.setSelectedSlide(e),this.updateSlideVisibility(),this.isSlideEditable(this.selectedSlideUID)?this.setCloneProperties():this.restoreDefaultState()}isSlideEditable(e){const t=this.slides.slidesHashMap[e];return t.isTextSlide()&&t.editable}setSelectedSlide(e){this.selectedSlideUID=e,this.page.poster.redux.updateReduxData()}getActiveText(){const e=this.getSelectedSlide();return e.isTextSlide()?e.text:""}onPasteText(e){return A(this,void 0,void 0,(function*(){(yield(0,I.E)())&&(null==e||e.preventDefault());const t=yield(0,a.vq)();if(this.clone&&t){const e=this.clone.selectionStart;D=yield(0,p.FZ)();const i=this.clone.text,s=i.substring(0,this.clone.selectionStart)+t+i.substring(this.clone.selectionEnd,i.length);this.onCanvasTextChange(s),this.clone.selectionStart=e+t.length,this.clone.selectionEnd=e+t.length}}))}setFrameForGeneration(e,t){var i;return A(this,void 0,void 0,(function*(){if(this.hasIntroOutroTransition&&this.hasTransition()&&e>this.getDuration())return this.selectedSlideUID=this.slides.getLastSlide().uid,void this.slides.hideAllSlides();this.updateSelectedSlideForTime(e),e<=this.introAnimationPadding&&this.conditionallyHideFirstSlide(),this.hasIntroDelay()&&0===this.slides.getSlideIndex(this.selectedSlideUID)&&(e<this.introAnimationPadding+this.introDelay?this.conditionallyHideFirstSlide():this.slides.showFirstSlide());const s=this.getSelectedSlide();let o;s.isVideoSlide()&&(yield s.setFrameForGeneration(e,t[this.selectedSlideUID]));let n,r=m.Tq.INTRO_ANIMATE_ITEM;const a=this.slides.getStartTimeForSlide(this.selectedSlideUID);if(void 0===a)throw new Error(`startSlideTime undefined for slide with id ${this.selectedSlideUID} of slideshow with id ${this.uid}`);if((!s.isTextSlide()||s.isTextSlide()&&!s.isTextEmpty())&&this.hasTransition())if(this.isTransitioningOutTime(e)){n=!0;const t=this.slides.getEndTimeForSlide(this.selectedSlideUID)-e;o=this.getTransitionDuration()-t,r=m.Tq.OUTRO_ANIMATE_ITEM}else this.isTransitioningInTime(e)&&(n=!0,o=e-a,r=m.Tq.INTRO_ANIMATE_ITEM);const l=this.animation&&(this.animation.item.uid!==this.getSelectedSlide().uid||this.animation.type!==r);l&&this.animation&&(this.animation.stop(),this.animation.internalOnComplete&&this.animation.internalOnComplete()),n&&(this.animation&&!l||this.initializeAnimation(r),null===(i=this.animation)||void 0===i||i.setFrame(o))}))}isTransitioningInTime(e){const t=this.slides.getStartTimeForSlide(this.selectedSlideUID);if(void 0===t)throw new Error(`startSlideTime undefined for slide with id ${this.selectedSlideUID} of slideshow with id ${this.uid}`);const i=e-t,s=this.slides.getSlideIndexForTime(e);return i>=0&&i<=this.getTransitionDuration()&&(0!==s||0===s&&(this.hasIntroOutroTransition||this.hasIntroDelay()))}initializeAnimation(e){e===m.Tq.INTRO_ANIMATE_ITEM?(this.animation=new b.z(this.getSelectedSlide(),this.transition.type,{duration:this.getTransitionDuration()}),this.getSelectedSlide().fabricObject.set("opacity",1)):e===m.Tq.OUTRO_ANIMATE_ITEM&&(this.animation=new f.j(this.getSelectedSlide(),(0,m.tG)(this.transition.type),{duration:this.getTransitionDuration()}))}updateActiveText(e="",t=0){var i;if(this.textChangedTimeout>0&&window.clearTimeout(this.textChangedTimeout),this.clone){const s=this.selectedSlideUID,o=this.slides.slidesHashMap[s],n={width:this.clone.width+this.clone.strokeWidth,height:this.clone.height+this.clone.strokeWidth},a=(0,r.I3)(this.fabricObject.scaleX),l=(0,r.UQ)(this.fabricObject.scaleY),d=this.clone.height+this.clone.strokeWidth+l,c=Math.max(this.height-d,0),h=this.clone.getCenterPoint(),u=this.fabricObject.aCoords.bl,p=o.getBulletsWidth(),g=this.clone.dynamicMinWidth+this.clone.strokeWidth+a>this.width-p||this.clone.height+this.clone.strokeWidth+l>this.height;let m,f={x:this.x,y:this.y},b=o.width-p,O=o.height;if(this.clone.width=Math.max(this.clone.dynamicMinWidth,o.baseWidth),D&&!(null===(i=o.list)||void 0===i?void 0:i.type)){const e=o.getDefaultList();e.type=D,o.list=e}if(o.setBulletPoints(),b+=o.getBulletsWidth(this.clone),g){const e=this.getUpdatedTextGroupDimensions(n,c);o.fabricObject.set(e),this.updateGroupViewComponentDimensions(),f=o.getUpdatedModelCoords(h,u,this.clone),this.fabricObject.set({left:f.x,top:f.y}),m=f,b=e.width,O=e.height}else m={x:this.x,y:this.y},this.fabricObject.set({left:this.x,top:this.y,width:this.width-p+o.getBulletsWidth(this.clone),height:this.height});o.fabricObject.set({width:this.fabricObject.width,height:this.fabricObject.height,left:-this.fabricObject.width/2,top:-this.fabricObject.height/2}),o.setBulletsPosition(this.clone),this.clone.set(o.getTextCloneAbsolutePosition(this.clone)),o.setBackgroundParams();const w={slideWidth:b,slideHeight:O,groupCoordinates:m,text:e,slideId:s,newVerticalPadding:c};this.textChangedTimeout=window.setTimeout(this.updateText.bind(this,w),t)}}doesfabricObjBelongtoItem(e){return this.fabricObject===e||this.clone===e}restoreDefaultState(){this.clone&&(this.clone.exitEditing(),this.page.activeSelection.setActiveObject(this.fabricObject))}updateFirstSlideWithDelayVisibilty(e){(this.hasIntroDelay()||this.hasIntroOutroTransition)&&0===this.slides.getSlideIndex(this.selectedSlideUID)&&(e<this.introAnimationPadding+this.introDelay&&this.page.poster.isPlaying()?this.conditionallyHideFirstSlide():this.slides.showFirstSlide())}isTimeToTransitionToNextSlide(e){if(this.transitionLock)return!1;if(this.transitionLock=!0,this.isSlideshowAnimationPlaying||!this.page.poster.isPlaying()||!this.slides.hasNextSlide()&&!this.hasIntroOutroTransition)return this.transitionLock=!1,!1;const t=this.slides.getEndTimeForSlide(this.selectedSlideUID);if(t){const i=t-e,s=i<=this.getTransitionDuration()&&i>0;return this.isSlideshowAnimationPlaying=s,this.transitionLock=!1,s}return!1}timeForFirstSlideTransitionIn(e){var t;if(0!==this.slides.getSlideIndex(this.selectedSlideUID)||this.isSlideshowAnimationPlaying||!this.page.poster.isPlaying())return!1;const i=null!==(t=this.slides.getStartTimeForSlide(this.selectedSlideUID))&&void 0!==t?t:0,s=e>i&&e<i+this.getTransitionDuration();return this.isSlideshowAnimationPlaying=s,s}startTransition(){const e=this.slides.getNextSlideIndex();(void 0!==e||this.hasIntroOutroTransition)&&(this.animation=new f.j(this.getSelectedSlide(),(0,m.tG)(this.transition.type),{onComplete:this.onTransitionOutComplete.bind(this,e),duration:this.getTransitionDuration()}),this.animation.start())}onTransitionOutComplete(e){var t,i;this.isPosterStoppedWhileTransitioning?(this.isSlideshowAnimationPlaying=!1,this.isPosterStoppedWhileTransitioning=!1,null===(t=this.dfd)||void 0===t||t.resolve()):this.isPosterPausedOrInterruptedWhileTransitioning?(this.setSelectedSlideAndUpdateView(this.selectedSlideUID),this.isSlideshowAnimationPlaying=!1,this.isPosterPausedOrInterruptedWhileTransitioning=!1,null===(i=this.dfd)||void 0===i||i.resolve()):e?(this.slides.slidesHashMap[this.selectedSlideUID].fabricObject.set({opacity:0}),this.transitionIn(e)):this.isSlideshowAnimationPlaying=!1,this.updateRenderFlagsOfSlides()}updateRenderFlagsOfSlides(){for(const[,e]of Object.entries(this.slides.slidesHashMap))e.fabricObject.dirty=!0}transitionIn(e){const t=this.slides.slidesHashMap[this.slides.slidesOrder[e]];this.setSelectedSlide(t.uid),this.animation=new b.z(t,this.transition.type,{onComplete:this.onTransitionInComplete.bind(this),duration:this.getTransitionDuration()}),this.slides.slidesHashMap[t.uid].fabricObject.set({opacity:1}),this.play(),this.animation.start()}onTransitionInComplete(){var e,t;this.isSlideshowAnimationPlaying=!1,this.isUpdateFabricObjectPending&&(this.updateFabricObject().catch((()=>{})),this.isUpdateFabricObjectPending=!1),this.isPosterStoppedWhileTransitioning?(this.isPosterStoppedWhileTransitioning=!1,null===(e=this.dfd)||void 0===e||e.resolve()):this.isPosterPausedOrInterruptedWhileTransitioning&&(this.isPosterPausedOrInterruptedWhileTransitioning=!1,null===(t=this.dfd)||void 0===t||t.resolve())}areSlideTransitionTimesOverlapping(){return this.isTransitioningOutTime(this.page.poster.clock.getCurrentTime())&&this.isSlideshowAnimationPlaying&&!!this.animation&&this.animation.item.uid===this.getSelectedSlide().uid&&this.animation instanceof b.z}isTransitioningOutTime(e){if(!this.slides.getSlideForId(this.selectedSlideUID))return!1;const t=this.slides.getEndTimeForSlide(this.selectedSlideUID);if(t){const i=t-e,s=i<=this.getTransitionDuration()&&i>=0,o=this.slides.hasNextSlide();return s&&(o||!o&&this.hasIntroOutroTransition)}return!1}play(){return A(this,void 0,void 0,(function*(){this.restoreDefaultState(),this.stopUnselectedVideoSlides()}))}pause(){return A(this,void 0,void 0,(function*(){this.dfd=new O.B;const e=this.getSelectedSlide(),t=[];return void 0!==e&&e.isVideoSlide()&&t.push(e.pause()),yield Promise.all(t),this.isSlideshowAnimationPlaying?(this.isPosterPausedOrInterruptedWhileTransitioning=!0,this.stopAnimation()):this.dfd.resolve(),this.dfd.promise}))}onPosterSeeked(){return this.dfd=new O.B,this.isSlideshowAnimationPlaying?(this.isPosterPausedOrInterruptedWhileTransitioning=!0,this.stopAnimation()):this.dfd.resolve(),this.dfd.promise}stop(){return new Promise((e=>{this.stopActiveAnimation().then((()=>{this.setSelectedSlideAndUpdateView(this.slides.slidesOrder[0]),this.stopAllVideoSlides(),e()}))}))}stopActiveAnimation(){return this.dfd=new O.B,this.isSlideshowAnimationPlaying?(this.isPosterStoppedWhileTransitioning=!0,this.stopAnimation()):this.dfd.resolve(),this.dfd.promise}stopUnselectedVideoSlides(){for(const[,e]of Object.entries(this.slides.slidesHashMap))e.isVideoSlide()&&e.uid!==this.selectedSlideUID&&e.stopSlide()}stopAllVideoSlides(){for(const[,e]of Object.entries(this.slides.slidesHashMap))e.isVideoSlide()&&e.stop()}stopAnimation(){this.animation&&this.animation.stop()}setControlsVisibility(){super.setControlsVisibility();const e=this.isLocked();this.fabricObject.setControlsVisibility({pmwMr:!e,pmwMl:!e,pmwMt:!e,pmwMb:!e,pmwPreviousSlideBtn:!0,pmwNextSlideBtn:!0})}updateItemDimensions(){}deleteSlide(e){if(1===Object.keys(this.slides.slidesHashMap).length)this.slides.slidesOrder[0]===e?this.page.poster.deleteItemById(this.uid,!0):console.error("Deleting a slide which doesn't exist in slideshow item class");else{const{slidesHashMap:t,slidesOrder:i}=this.slides.toObject(),s=i.indexOf(e);-1!==s&&i.splice(s,1),t[e]&&delete t[e],this.updateFromObject({slides:{slidesHashMap:t,slidesOrder:i}},{checkForDurationUpdate:!0})}}isStreamingMediaItem(){return!0}updateFromObject(e,{updateRedux:t=!0,undoable:i=!0,checkForDurationUpdate:s=!1,replayPosterOnUpdateDone:o=!1}={}){return A(this,void 0,void 0,(function*(){const{slides:n,transition:r}=e,a=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["slides","transition"]);this.copyVals(Object.assign({},a)),yield this.init(),n&&(yield this.slides.updateFromObject(n,{updateRedux:!1,undoable:!1,doInvalidate:!1})),r&&this.transition.updateFromObject(r),this.applyFixForVersion2(),yield this.invalidate(),s&&this.checkItemForPageDurationUpdate(),i&&this.page.poster.history.add(),t&&this.page.poster.redux.updateReduxData(),o&&(yield this.page.poster.replayPoster())}))}toObject(){return Object.assign(Object.assign({},super.toObject()),{transition:this.transition.toObject(),introAnimationPadding:this.introAnimationPadding,introDelay:this.introDelay,hasIntroOutroTransition:this.hasIntroOutroTransition,slides:this.slides.toObject(),selectedSlideUID:this.selectedSlideUID})}updateFabricObject(){const e=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return A(this,void 0,void 0,(function*(){if(yield e.updateFabricObject.call(this),this.isSlideshowAnimationPlaying)this.isUpdateFabricObjectPending=!0;else{if(void 0!==this.fabricObject.group)return;yield this.updateSlideshowFabricObject()}}))}updateSlideshowFabricObject(){return A(this,void 0,void 0,(function*(){yield this.updateSlidesFabricObject(),this.applyTextStylesAndStrokeOnSelectedSlide(),this.updateGroupDimensions(),this.slides.updateSlideDimensions(),this.slides.updateSlidePositions(),this.setCloneProperties(),this.updateSlideVisibility(),this.updateSelectedSlideForTime(this.page.poster.clock.getCurrentTime())}))}applyTextStylesAndStrokeOnSelectedSlide(){const e=this.getSelectedSlide();e.isTextSlide()&&this.applyTextStylesAndStrokeOnSlide(e,e.fabricTextbox)}applyTextStylesAndStrokeOnClone(){const e=this.getSelectedSlide();e.isTextSlide()&&null!==this.clone&&this.applyTextStylesAndStrokeOnSlide(e,this.clone)}applyTextStylesAndStrokeOnSlide(e,t){t.set(e.textStyles.getTextStyles(t.width,t.height)),e.applyTextStroke(t)}updateSlidesFabricObject(){return A(this,void 0,void 0,(function*(){const e=[];for(const[,t]of Object.entries(this.slides.slidesHashMap))e.push(t.updateFabricObject());yield Promise.all(e)}))}updateGroupDimensions(){this.updateGroupViewComponentDimensions(),this.width=this.fabricObject.width,this.height=this.fabricObject.height}getFabricObjectForItem(){return new Promise((e=>{e(new window.fabric.Group([],Object.assign(Object.assign({},super.getCommonOptions()),{objectCaching:!1,useSelectedFlag:!0,delegateProperties:!1,perPixelTargetFind:!0,targetFindTolerance:10})))}))}initEvents(){super.initEvents(),this.fabricObject.on("scaling",this.onScaling.bind(this)),this.fabricObject.on("mousedown:before",this.onMouseDownBefore.bind(this)),this.fabricObject.on("mouseup",this.onMouseUp.bind(this)),this.fabricObject.on("pmwMr:moved",this.onResizeWithRightHandle.bind(this)),this.fabricObject.on("pmwMl:moved",this.onResizeWithLeftHandle.bind(this)),this.fabricObject.on("pmwMb:moved",this.onResizeWithBottomHandle.bind(this)),this.fabricObject.on("pmwMt:moved",this.onResizeWithTopHandle.bind(this)),this.fabricObject.on("pmwPreviousSlideBtn:clicked",this.selectPreviousSlide.bind(this)),this.fabricObject.on("pmwNextSlideBtn:clicked",this.selectNextSlide.bind(this)),this.fabricObject.on("deselected",this.onDeselected.bind(this))}onFabricObjectModified(){const e={};for(const[t,i]of Object.entries(this.slides.slidesHashMap))if(e[t]=i.toObject(),i.isTextSlide()){const s=e[t];s.baseWidth=i.getBaseWidth(),s.width=this.fabricObject.width,s.height=this.fabricObject.height,s.verticalPadding=i.getVerticalPadding()}this.updateFromObject(Object.assign(Object.assign({},this.getValuesOnFabricObjectModified()),{slides:{slidesHashMap:e,slidesOrder:this.slides.slidesOrder}})).catch((e=>{console.error(e),console.error(`Failed to update item on fabric object modified, Details:${JSON.stringify(e)}`)}))}addSlide(e,{updateRedux:t=!0,undoable:i=!0}={}){e.page=this.page,this.slides.addSlide(e),e.onItemAddedToPage(),this.fabricObject.add(e.fabricObject),this.onSlideAdded(e),i&&this.page.poster.history.add(),t&&this.page.poster.redux.updateReduxData()}onSlideAdded(e){""===this.selectedSlideUID&&e.uid===this.slides.slidesOrder[0]&&(this.selectedSlideUID=e.uid),e.fabricObject.set({left:this.fabricObject.left,top:this.fabricObject.top})}onDeselected(){var e,t;const i=this.getSelectedSlide();i.isTextSlide()&&(null===(t=null===(e=this.page)||void 0===e?void 0:e.spellCheck)||void 0===t||t.clearSquigglyLineStyle(i.fabricTextbox))}selectPreviousSlide(){const e=this.slides.getPreviousSlideIndex();void 0!==e&&this.slides.seekToSlideIndex(e)}selectNextSlide(){const e=this.slides.getNextSlideIndex();void 0!==e&&this.slides.seekToSlideIndex(e)}getMinWidth(){let e=0,t=0;const i=this.slides.slidesHashMap[this.slides.slidesOrder[0]];i.isTextSlide()&&(e=i.getMinWidth(),t=e);for(const[,i]of Object.entries(this.slides.slidesHashMap))t=i.isTextSlide()?i.getMinWidth():2,t>e&&(e=t);return e}getMinHeight(){let e=0,t=0;const i=this.slides.slidesHashMap[this.slides.slidesOrder[0]];i.isTextSlide()&&(e=i.getMinHeight(),t=e);for(const[,i]of Object.entries(this.slides.slidesHashMap))t=i.isTextSlide()?i.getMinHeight():2,t>e&&(e=t);return e}resizeGroupItemsWidth(e){if(this.slides.hasTextSlide())this.resizeWidthOfGroupItemsContainingText(e);else for(const[e]of Object.entries(this.slides.slidesHashMap))this.slides.scaleMediaSlide(e);this.slides.updateSlidePositions()}resizeGroupItemsHeight(e){for(const[t,i]of Object.entries(this.slides.slidesHashMap))i.isTextSlide()?(i.fabricObject.set({height:e}),i.onModifyHeight()):this.slides.scaleMediaSlide(t);this.slides.updateSlidePositions()}resizeWidthOfGroupItemsContainingText(e){let t=0,i=0;for(const[,s]of Object.entries(this.slides.slidesHashMap))s.isTextSlide()&&(s.fabricObject.set({width:e}),s.onModifyWidth(),t=s.fabricObject.getScaledHeight()),t>i&&(i=t);this.fabricObject.set({height:i});for(const[e,t]of Object.entries(this.slides.slidesHashMap))t.isTextSlide()?(t.fabricObject.set({height:i}),t.onModifyHeight()):this.slides.scaleMediaSlide(e)}onResizeWithRightHandle(e){const t=this.fabricObject.width+e.delta/this.fabricObject.scaleX;t<this.getMinWidth()||this.fabricObject.getScaledWidth()+e.delta<F||(this.fabricObject.set({width:t}),this.resizeGroupItemsWidth(t))}onResizeWithLeftHandle(e){const t=this.fabricObject.width+e.delta/this.fabricObject.scaleX;t<this.getMinWidth()||this.fabricObject.getScaledWidth()+e.delta<F||(this.fabricObject.set({width:t,left:this.fabricObject.left-e.delta*Math.cos((0,u.Ht)(this.fabricObject.angle)),top:this.fabricObject.top-e.delta*Math.sin((0,u.Ht)(this.fabricObject.angle))}),this.resizeGroupItemsWidth(t))}onResizeWithBottomHandle(e){const t=this.fabricObject.height+e.delta/this.fabricObject.scaleY;t<this.getMinHeight()||this.fabricObject.getScaledHeight()+e.delta<F||(this.fabricObject.set({height:t}),this.resizeGroupItemsHeight(t))}onResizeWithTopHandle(e){const t=this.fabricObject.height+e.delta/this.fabricObject.scaleY;t<this.getMinHeight()||this.fabricObject.getScaledHeight()+e.delta<F||(this.fabricObject.set({height:t,left:this.fabricObject.left+e.delta*Math.sin((0,u.Ht)(this.fabricObject.angle)),top:this.fabricObject.top-e.delta*Math.cos((0,u.Ht)(this.fabricObject.angle))}),this.resizeGroupItemsHeight(t))}onScaling(){if(this.checkForMinimumScale(),Object.keys(this.slides.slidesHashMap).forEach((e=>{const t=this.slides.slidesHashMap[e];t.isTextSlide()&&t.onScaling()})),this.slides.hasTextSlide()){const e=this.slides.getMaxDimensionsOfTextSlides();this.fabricObject.set({width:e.width,height:e.height})}this.slides.updateSlideDimensions(),this.slides.updateSlidePositions()}checkForMinimumScale(){let e;this.fabricObject.getScaledWidth()<F&&(e=F/this.fabricObject.width,this.fabricObject.set({scaleX:e,scaleY:e})),this.fabricObject.getScaledHeight()<F&&(e=F/this.fabricObject.height,this.fabricObject.set({scaleX:e,scaleY:e}))}onMouseDownBefore(){this.fabricObject===this.page.activeSelection.getActiveObject()&&this.beforeEnterEditMode()}onMouseUp(e){var t;e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button||(null===(t=e.transform)||void 0===t?void 0:t.action)===d.rI.SLIDE_BTN_ACTION_NAME||this.onEnterEditMode(e.e)}enterEditMode(e){this.beforeEnterEditMode(),this.onEnterEditMode(e)}beforeEnterEditMode(){this.fabricObject.selected=!0}onEnterEditMode(e){var t;!this.clone&&this.fabricObject.selected&&this.slides.isSlideEditable(this.selectedSlideUID)&&(this.page.poster.pause(),this.enterCloneEditMode(e),null===(t=this.clone)||void 0===t||t.selectAll())}enterCloneEditMode(e){var t,i;const s=this.page.fabricCanvas,o=this.slides.slidesHashMap[this.selectedSlideUID].fabricTextbox,n=s.getObjects().indexOf(this.fabricObject);this.clone=new window.fabric.Textbox(null!==(t=o.text)&&void 0!==t?t:"",{}),this.clone.__PMWID=this.uid,this.clone.padding=0,o.set({opacity:0}),s.add(this.clone),s.moveObjectTo(this.clone,n+1),s instanceof window.fabric.Canvas&&s.setActiveObject(this.clone),this.clone.on("editing:entered",this.onTextEditModeEntered.bind(this)),this.clone.on("editing:exited",this.onEditingExited.bind(this)),this.clone.enterEditing(e),this.setCloneProperties(),(null===(i=this.clone)||void 0===i?void 0:i.hiddenTextarea)&&window.fabric.util.addListener(this.clone.hiddenTextarea,"paste",this.onPasteText.bind(this)),this.clone.on("changed",(()=>{var e;this.onCanvasTextChange(null===(e=this.clone)||void 0===e?void 0:e.text)})),this.clone.on("selection:changed",(()=>{var e,t;(0,C.D$)(this.clone)?(0,C.SF)(this.clone):(0,h.Zs)()&&this.clone?null===(t=null===(e=this.page)||void 0===e?void 0:e.spellCheck)||void 0===t||t.handleSuggestionPopupMenu(this.clone):(0,C.TM)()})),s.on("touch:dbltap",(()=>{(0,C.Ot)(this.clone)})),s.on("touch:longpress",(()=>{(0,C.Ot)(this.clone)}))}onTextEditModeEntered(){var e,t;this.clone&&this.clone.hiddenTextarea&&(this.clone.hiddenTextarea.setAttribute("maxlength",a.hp),null===(t=null===(e=this.page)||void 0===e?void 0:e.spellCheck)||void 0===t||t.checkSpell(this.clone,!0).catch((()=>{})))}onEditingExited(){var e,t;this.clone&&(this.page.fabricCanvas.remove(this.clone),this.clone=null,this.updateSlideVisibility(),null===(t=null===(e=this.page)||void 0===e?void 0:e.spellCheck)||void 0===t||t.closeSuggestionPopUp(),(0,C.TM)())}updateSlideVisibility(){for(const[,e]of Object.entries(this.slides.slidesHashMap))e.uid===this.selectedSlideUID?(e.fabricObject.set({opacity:1}),this.updateSlideTextVisibility()):(e.fabricObject.set({opacity:0}),e.isTextSlide()&&e.fabricTextbox.set({opacity:1}))}conditionallyHideFirstSlide(){(this.hasIntroOutroTransition&&this.hasTransition()||this.hasIntroDelay())&&this.slides.slidesHashMap[this.slides.slidesOrder[0]].fabricObject.set({opacity:0})}conditionallyHideLastSlide(e){const t=this.slides.getEndTimeForSlide(this.selectedSlideUID);this.hasIntroOutroTransition&&this.hasTransition()&&this.slides.isLastSlide(this.selectedSlideUID)&&void 0!==t&&e>t&&this.hideSelectedSlide()}hideSelectedSlide(){this.getSelectedSlide().fabricObject.set({opacity:0})}updateSlideTextVisibility(){const e=this.getSelectedSlide();e.isTextSlide()&&e.fabricTextbox&&(this.clone?e.fabricTextbox.set({opacity:0}):e.fabricTextbox.set({opacity:1}))}onCanvasTextChange(e=""){this.updateActiveText(e,500)}updateText(e){const t=this.slides.slidesHashMap[e.slideId],i=this.slides.toObject(),s=t.toObject();s.text=e.text,s.width=e.slideWidth,s.height=e.slideHeight,s.verticalPadding=e.newVerticalPadding,s.textStyles=Object.assign({},s.textStyles);const o=t.textStyles.getLanguageScriptAndFontForText(e.text);if(o.script&&(s.textStyles.script=o.script),o.fontFamily&&(s.textStyles.fontFamily=o.fontFamily),i.slidesHashMap[s.uid]=s,D){const e=t.getDefaultList();e.type=D,s.list=e,D=p.Cs.NONE}this.updateFromObject({x:e.groupCoordinates.x,y:e.groupCoordinates.y,slides:i})}updateSlideFromObject(e,t,{updateRedux:i=!0,undoable:s=!0,checkForDurationUpdate:o=!1}={}){return A(this,void 0,void 0,(function*(){const n=this.slides.toObject();n.slidesHashMap&&(n.slidesHashMap[e]=t),yield this.updateFromObject({slides:n},{updateRedux:i,undoable:s,checkForDurationUpdate:o})}))}getUpdatedTextGroupDimensions(e,t){const i=this.slides.slidesHashMap[this.selectedSlideUID];return{height:e.height+(0,r.UQ)(this.fabricObject.scaleY)+t,width:e.width+(0,r.I3)(this.fabricObject.scaleX)+i.getBulletsWidth(this.clone)}}updateGroupViewComponentDimensions(){if(this.slides.hasTextSlide()){const e=this.slides.getMaxDimensionsOfTextSlides();e.width!==this.fabricObject.width&&this.fabricObject.set({width:e.width}),e.height!==this.fabricObject.height&&this.fabricObject.set({height:e.height})}else if(0===this.width||0===this.height){const e=this.getPaddedDimensions(this.slides.getMaxDimensionsOfMediaSlides());this.fabricObject.set(e)}else this.fabricObject.width=this.width,this.fabricObject.height=this.height}getPaddedDimensions(e){return{width:e.width+(0,r.I3)(this.fabricObject.scaleX),height:e.height+(0,r.UQ)(this.fabricObject.scaleY)}}updateIntroAnimationPadding(){this.introAnimationPadding=this.page.introAnimation.getAnimationMaxDuration()}getSlideshowDurationAfterAddSide(){return this.getDuration()+x.$}getDuration(){let e=this.introAnimationPadding+this.introDelay;for(const t of this.slides.slidesOrder)e+=this.slides.slidesHashMap[t].getSlideDuration();return e}getTransitionDuration(){switch(this.transition.speed){case l.Gr.LOWER:return j.LOWER_SPEED;case l.Gr.LOW:return j.LOW_SPEED;case l.Gr.MEDIUM:return j.MED_SPEED;case l.Gr.HIGH:return j.HIGH_SPEED;case l.Gr.HIGHER:return j.HIGHER_SPEED;default:return console.error("Invalid transition speed value: "),j.MED_SPEED}}hasSingleSlide(){return 1===Object.keys(this.slides.slidesHashMap).length}isMultiSlide(){return Object.keys(this.slides.slidesHashMap).length>1}isStreamingItem(){return this.slides.hasVideoSlide()||this.isMultiSlide()||this.hasIntroDelay()||this.hasSingleSlide()&&this.hasIntroOutroTransition&&this.hasTransition()}hasIntroDelay(){return this.introDelay>0}hasTransition(){return(0,l.W6)(this.transition.type)}hasBlockTransition(){return(0,l.Nj)(this.transition.type)}onlyContainsEmptyTextSlide(){const e=Object.keys(this.slides.slidesHashMap);if(1===e.length){const t=this.slides.slidesHashMap[e[0]];return t.isTextSlide()&&t.isTextEmpty()}return!1}isSlideshowVersion1(){return this.version===P.SLIDESHOW_VERSION_1}getSelectorPadding(){return 0}getManualSelectorPadding(){return d.lf.PMW_CONTROL_PADDING}isValid(){for(const[,e]of Object.entries(this.slides.slidesHashMap))if(e.isTextSlide()&&e.text||e.isMediaSlide())return!0;return!1}applyFixForVersion2(){if(this.isSlideshowVersion1()){this.width+=(0,r.I3)(this.scaleX),this.height+=(0,r.UQ)(this.scaleY);for(const[,e]of Object.entries(this.slides.slidesHashMap))e.width=this.width,e.height=this.height,e.version=a.SN.TEXT_VERSION_2;this.x-=this.getHorizontalDisplacementForVersion2(),this.y-=this.getVerticalDisplacementForVersion2(),this.version=P.SLIDESHOW_VERSION_2}for(const[,e]of Object.entries(this.slides.slidesHashMap))e.isTextSlide()&&e.fixVersioningChanges()}getHorizontalDisplacementForVersion2(){return Math.sqrt(2*Math.pow(11,2))*Math.cos(window.fabric.util.degreesToRadians(45+this.rotation))}getVerticalDisplacementForVersion2(){return Math.sqrt(2*Math.pow(11,2))*Math.sin(window.fabric.util.degreesToRadians(45+this.rotation))}getSelectedSlide(){return this.slides.slidesHashMap[this.selectedSlideUID]}setCloneProperties(){const e=this.getSelectedSlide();if(null!==this.clone&&e.isTextSlide()){this.clone.hiddenTextarea&&(this.clone.hiddenTextarea.value=e.text,this.clone.hiddenTextarea.selectionStart=this.clone.selectionStart,this.clone.hiddenTextarea.selectionEnd=this.clone.selectionEnd),this.clone.set({text:e.text}),this.applyTextStylesAndStrokeOnClone();const t=Object.assign(Object.assign(Object.assign({},this.getCommonOptions()),{_fontSizeFraction:e.fabricTextbox._fontSizeFraction}),this.getOptionsForTextClone(e));this.clone.set(t),this.clone.set(e.getTextCloneAbsolutePosition(this.clone)),this.page.fabricCanvas.moveObjectTo(this.clone,this.page.fabricCanvas.getObjects().indexOf(this.fabricObject)+1),this.clone.setCoords(),this.spellCheckTimeout>0&&clearTimeout(this.spellCheckTimeout),this.spellCheckTimeout=window.setTimeout(this.doCheckSpell.bind(this),500)}}doCheckSpell(){var e,t;this.clone&&(null===(t=null===(e=this.page)||void 0===e?void 0:e.spellCheck)||void 0===t||t.checkSpell(this.clone,!0).catch((()=>{})))}getOptionsForTextClone(e){return{lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,hasControls:!1,cursorColor:e.getCursorColor(),cursorWidth:e.fabricTextbox.cursorWidth,fontSize:e.fabricTextbox.fontSize,width:e.fabricTextbox.width,fill:e.fabricTextbox.fill,shadow:e.fabricTextbox.shadow,cacheExpansionFactor:e.fabricTextbox.cacheExpansionFactor}}hasEditMode(){return!0}addTextSlide(){return A(this,void 0,void 0,(function*(){if(this.validateSlideshowUse()){const e=this.slides.getLastTextSlide();let t;t=e?yield(0,r.F4)(this.page,this,Object.assign(Object.assign({},e.toObject()),{text:"",uid:(0,w.Z)()})):yield this.slides.getNewTextSlideItem();const i=this.slides.toObject(),s=i.slidesOrder,o=i.slidesHashMap,n=this.slides.getSlideIndex(this.selectedSlideUID),a=void 0!==n?n+1:0;this.getDuration()+t.getSlideDuration()>(0,c.QJ)()&&t.setSlideDuration((0,c.QJ)()-this.getDuration()),s.splice(a,0,t.uid),o[t.uid]=t.toObject(),yield this.updateFromObject({slides:{slidesOrder:s,slidesHashMap:o}},{checkForDurationUpdate:!0}),this.slides.seekToSlideIndex(a),this.page.poster.fire(g.ul.TEXT_SLIDE_ADDED,t.uid)}}))}addImageSlide(){var e,t,i,s;this.validateSlideshowUse()&&(0,v.h7)(v.fX.MEDIA_TYPE_MODAL_ID,{maxGettyImageContent:this.page.poster.getRemainingGettyImageLimit(),maxGettyVideoContent:this.page.poster.getRemainingGettyVideoLimit(),imageGettyCostInCredits:null===(t=null===(e=window.posterEditor)||void 0===e?void 0:e.config)||void 0===t?void 0:t.imageDownlaodCostInCredits,gettyFormattedDownloadCostForNonPremiumUsers:null===(s=null===(i=window.posterEditor)||void 0===i?void 0:i.config)||void 0===s?void 0:s.gettyFormattedDownloadCostForNonPremiumUsers,onAddSelected:this.prepareAndAddImageSlides.bind(this),showVectors:!1,title:window.i18next.t("pmwjs_add_photo_slide"),showTabs:!1,defaultTab:"image",addInBulk:!0})}addVideoSlide(){var e,t;this.validateSlideshowUse()&&(0,v.h7)(v.fX.MEDIA_TYPE_MODAL_ID,{maxGettyImageContent:this.page.poster.getRemainingGettyImageLimit(),maxGettyVideoContent:this.page.poster.getRemainingGettyVideoLimit(),imageGettyCostInCredits:null===(t=null===(e=window.posterEditor)||void 0===e?void 0:e.config)||void 0===t?void 0:t.imageDownlaodCostInCredits,onAddSelected:this.prepareAndAddVideoSlides.bind(this),showVectors:!1,title:window.i18next.t("pmwjs_add_video_slide"),showTabs:!1,defaultTab:"video",addInBulk:!0})}prepareAndAddMediaSlides(e){const t=[],i=[];e.forEach((e=>{e.type===S.$d.IMAGE?t.push(e):e.type===S.$d.VIDEO&&i.push(e)})),t.length&&this.prepareAndAddImageSlides(t),i.length&&this.prepareAndAddVideoSlides(i)}prepareAndAddImageSlides(e){return A(this,void 0,void 0,(function*(){let t=!1,i=0;const s=[],n=this.slides.toObject();let r=n.slidesOrder;const a=n.slidesHashMap,l=this.slides.getSlideIndex(this.selectedSlideUID),d=void 0!==l?l+1:0,h=this.slides.getLastMediaSlideDuration();(0,T.QP)("prepareAndAddImageSlides");for(const n of e){if(this.getDuration()+i>=(0,c.QJ)()){t=!0;break}let e=void 0!==h?h:x.$;this.getDuration()+i+e>(0,c.QJ)()&&(e=(0,c.QJ)()-i-this.getDuration()),i+=e;const r=(0,w.Z)();s.push(r),a[r]={gitype:o.Z.IMAGESLIDE,imageSource:n.source,fileExtension:n.extension,hashedFilename:n.hashedFilename,uid:r,slideDuration:e}}t&&(0,E.ve)({title:window.i18next.t("pmwjs_maximum_slideshow_duration_reached_title"),text:window.i18next.t("pmwjs_maximum_slideshow_duration_reached")}),r=r.slice(0,d).concat(s,r.slice(d));try{yield this.updateFromObject({slides:{slidesOrder:r,slidesHashMap:a}},{updateRedux:!0,undoable:!0,checkForDurationUpdate:!0})}finally{this.slides.seekToSlideIndex(d),(0,T.Zk)("prepareAndAddImageSlides")}}))}prepareAndAddVideoSlides(e){return A(this,void 0,void 0,(function*(){let t=this.page.poster.getGettyVideoCount(),i=!1,s=!1,n=0;const r=[],a=this.slides.toObject();let l=a.slidesOrder;const d=a.slidesHashMap,h=this.slides.getSlideIndex(this.selectedSlideUID),u=void 0!==h?h+1:0;(0,T.QP)("prepareAndAddVideoSlides");for(const a of e){let e;if(a.source===y.bu.GETTY){if(t>=g.bY.VIDEOS){i=!0;break}t+=1}if(this.getDuration()+n>=(0,c.QJ)()){s=!0;break}this.getDuration()+n+a.duration>(0,c.QJ)()&&(e=(0,c.QJ)()-n-this.getDuration()),n+=void 0===e?a.duration:e;const l=(0,w.Z)();r.push(l),d[l]={gitype:o.Z.VIDEOSLIDE,videoSource:a.source,fileExtension:a.extension,hashedFilename:a.hashedFilename,duration:a.duration,frameRate:a.frameRate,uid:l,slideDuration:void 0!==e?e:a.duration}}i?(0,E.ve)({title:window.i18next.t("pmwjs_getty_video_limit"),text:window.i18next.t("pmwjs_getty_video_limit_message",{num:g.bY.VIDEOS})}):s&&(0,E.ve)({title:window.i18next.t("pmwjs_maximum_slideshow_duration_reached_title"),text:window.i18next.t("pmwjs_maximum_slideshow_duration_reached")}),l=l.slice(0,u).concat(r,l.slice(u));try{yield this.updateFromObject({slides:{slidesOrder:l,slidesHashMap:d}},{updateRedux:!0,undoable:!0,checkForDurationUpdate:!0})}finally{this.slides.seekToSlideIndex(u),(0,T.Zk)("prepareAndAddVideoSlides")}}))}validateSlideshowUse(){return!(this.getSlideshowDurationAfterAddSide()>(0,c.QJ)()&&((0,E.ve)({title:window.i18next.t("pmwjs_maximum_slideshow_duration_reached_title"),text:window.i18next.t("pmwjs_maximum_slideshow_duration_reached")}),1))}getColors(){let e=super.getColors();const{slidesOrder:t,slidesHashMap:i}=this.slides;for(const s of t)e=[...e,...i[s].getColors()];return e}getFonts(){const e=Object.values(this.slides.slidesHashMap),t=[];for(const i of e)i.isTextSlide()&&t.push(i.textStyles.fontFamily);return t}}},24450:(e,t,i)=>{i.d(t,{QJ:()=>g,cE:()=>p});var s=i(29311),o=i(57427),n=i(37785),r=i(68736),a=i(99048),l=i(92951),d=i(49195),c=i(22114),h=i(20656),u=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};a.DG;class p{constructor(e){this.slidesHashMap={},this.slidesOrder=[],this.slideshow=e}updateFromObject(e={},{updateRedux:t=!0,undoable:i=!0,doInvalidate:s=!0}={}){return u(this,void 0,void 0,(function*(){e.slidesOrder&&(this.slidesOrder=e.slidesOrder);const r=[];if(e.slidesHashMap){const t=[];for(const[i,a]of Object.entries(e.slidesHashMap))a&&(void 0!==this.slidesHashMap[i]?r.push(this.slidesHashMap[i].updateFromObject(a,{updateRedux:!1,undoable:!1,doInvalidate:s})):t.push(new Promise(((e,t)=>{(0,n.QP)(`addItem${i}`),(0,o.F4)(this.slideshow.page,this.slideshow,a).then((t=>u(this,void 0,void 0,(function*(){yield this.scaleSlideIfNeeded(t),this.slideshow.addSlide(t,{updateRedux:!1,undoable:!1}),e()})))).catch(t).finally((()=>{(0,n.Zk)(`addItem${i}`)}))}))));const i=yield Promise.allSettled(t);for(const e of i)"rejected"===e.status&&console.error("Item failed to add details:",e)}for(const[t]of Object.entries(this.slidesHashMap))void 0!==e.slidesHashMap&&void 0!==e.slidesHashMap[t]||this.doRemoveItem(t);yield Promise.all(r),yield this.ensureFontsAreLoaded(),i&&this.slideshow.page.poster.history.add(),t&&this.slideshow.page.poster.redux.updateReduxData()}))}getLastSlide(){return this.slidesHashMap[this.slidesOrder[this.slidesOrder.length-1]]}ensureFontsAreLoaded(){return u(this,void 0,void 0,(function*(){yield this.loadFontFamiliesForTextSlides(),yield this.loadBulletFontForTextSlides()}))}loadFontFamiliesForTextSlides(){return u(this,void 0,void 0,(function*(){const e=[];for(const[,t]of Object.entries(this.slidesHashMap))if(t.isTextSlide()){const i=t.textStyles.getFontFamilyToLoad();-1===e.indexOf(i)&&e.push(i)}return e.length>0?new Promise(((t,i)=>{(0,r.rR)(e,(()=>{t()}),i)})):Promise.resolve()}))}loadBulletFontForTextSlides(){return u(this,void 0,void 0,(function*(){return this.doesTextSlidesHaveBulletFont()?new Promise((e=>{(0,r.g9)(r.pG,(()=>{e()}))})):Promise.resolve()}))}doesTextSlidesHaveBulletFont(){for(const[,e]of Object.entries(this.slidesHashMap))if(e.isTextSlide()&&e.list.hasList())return!0;return!1}scaleSlideIfNeeded(e){return u(this,void 0,void 0,(function*(){0!==this.slideshow.width&&0!==this.slideshow.height||!e.isMediaSlide()||(yield this.slideshow.page.items.addItems.scaleItemToPosterDimension(e))}))}moveSlideToIndex(e,t){const i=[...this.slidesOrder],s=this.slidesOrder.indexOf(e);i.splice(s,1),i.splice(t,0,e),this.slidesOrder=i,this.seekToSlideIndex(t),this.slideshow.restoreDefaultState(),this.slideshow.page.poster.history.add(),this.slideshow.page.poster.redux.updateReduxData()}hasSlide(e){return void 0!==this.slidesHashMap[e]}doRemoveItem(e){if(this.hasSlide(e)){this.slidesHashMap[e].onRemove(),this.slideshow.fabricObject.remove(this.slidesHashMap[e].fabricObject),delete this.slidesHashMap[e],this.slideshow.selectedSlideUID===e&&this.slideshow.setSelectedSlide(this.getFirstSlide().uid);const t=this.getSlideIndex(this.slideshow.selectedSlideUID);void 0!==t&&this.seekToSlideIndex(t)}}addSlide(e){this.slidesHashMap[e.uid]=e}toObject(){const e={};for(const[t,i]of Object.entries(this.slidesHashMap))e[t]=i.toObject();return{slidesHashMap:e,slidesOrder:[...this.slidesOrder]}}getMaxDimensionsOfTextSlides(){let e,t=0,i=0,s=0,o=0;for(const[,n]of Object.entries(this.slidesHashMap))n.isTextSlide()&&(e=n.fabricObject,n.isNewSlide&&0!==this.slideshow.width&&0!==this.slideshow.height?(o=this.slideshow.width,s=this.slideshow.height):(o=e.getScaledWidth(),s=e.getScaledHeight()),o>t&&(t=o),s>i&&(i=s));return{width:t,height:i}}getMaxDimensionsOfMediaSlides(){let e=0,t=0,i=0,s=0;if(this.hasMediaSlide())for(const[,o]of Object.entries(this.slidesHashMap))o.isMediaSlide()&&(s=o.fabricObject.getScaledWidth(),s>e&&(e=s),i=o.fabricObject.getScaledHeight(),i>t&&(t=i));return{width:e,height:t}}updateSlideDimensions(){const e=this.slideshow.fabricObject.width,t=this.slideshow.fabricObject.height;for(const[,i]of Object.entries(this.slidesHashMap))i.isTextSlide()?(i.isNewSlide&&(i.isNewSlide=!1),i.fabricObject.getScaledWidth()!==e&&(i.fabricObject.set({width:e}),i.updateTextChildWidth()),i.fabricObject.getScaledHeight()!==t&&(i.verticalPadding=t-(0,o.UQ)(this.slideshow.fabricObject.scaleY)-i.getTextStrokedHeight(),i.fabricObject.set({height:t}),i.setBackgroundParams())):this.scaleMediaSlide(i.uid)}scaleMediaSlide(e){this.slideshow.page.poster.mode.isGeneration()||this.slidesHashMap[e].mediaSlide.updateMediaSlideScale()}updateSlidePositions(){const e=this.slideshow.fabricObject.width,t=this.slideshow.fabricObject.height;for(const[,i]of Object.entries(this.slidesHashMap))i.isTextSlide()?(i.fabricObject.set({left:-e/2,top:-t/2}),i.setTextChildPosition()):i.fabricObject.set(i.mediaSlide.getMediaSlidePosition())}isSlideEditable(e){const t=this.getSlideIndex(e);if(void 0!==t){const e=this.slidesHashMap[this.slidesOrder[t]];return e.isTextSlide()&&e.editable}return!1}getUnpuchasedGettyImageSlidesCount(){let e=0;for(const[,t]of Object.entries(this.slidesHashMap))t.isImageSlide()&&t.isNonPurchasedGetty()&&(e+=1);return e}hasVideoSlide(){for(const[,e]of Object.entries(this.slidesHashMap))if(e.isVideoSlide())return!0;return!1}hasTextSlide(){for(const[,e]of Object.entries(this.slidesHashMap))if(e.isTextSlide())return!0;return!1}hasMediaSlide(){for(const[,e]of Object.entries(this.slidesHashMap))if(e.isMediaSlide())return!0;return!1}hasGettyImageSlide(){for(const[,e]of Object.entries(this.slidesHashMap))if(e.isImageSlide()&&e.hasGettyContent())return!0;return!1}hasGettyVideoSlide(){for(const[,e]of Object.entries(this.slidesHashMap))if(e.isVideoSlide()&&e.hasGettyContent())return!0;return!1}getGettyVideoSlides(){const e=[];for(const[,t]of Object.entries(this.slidesHashMap))t.isVideoSlide()&&t.hasGettyContent()&&e.push(t);return e}getGettyVideoSlidesCount(){let e=0;for(const[,t]of Object.entries(this.slidesHashMap))t.isVideoSlide()&&t.hasGettyContent()&&(e+=1);return e}isPremium(){return this.getUnpuchasedGettyImageSlidesCount()>0||this.hasGettyVideoSlide()}getLastTextSlide(){for(let e=this.slidesOrder.length-1;e>=0;e--){const t=this.slidesHashMap[this.slidesOrder[e]];if(t.isTextSlide())return t}}getLastMediaSlideDuration(){for(let e=this.slidesOrder.length-1;e>=0;e--){const t=this.slidesHashMap[this.slidesOrder[e]];if(t.isMediaSlide())return t.slideDuration}}getStartTimeForSlide(e){let t=this.slideshow.introAnimationPadding+this.slideshow.introDelay;for(const i of this.slidesOrder){if(e===i)return t;t+=this.slidesHashMap[i].getSlideDuration()}}getEndTimeForSlide(e){const t=this.getSlideIndex(e),i=this.getStartTimeForSlide(e);if(void 0!==i&&void 0!==t)return i+this.slidesHashMap[this.slidesOrder[t]].getSlideDuration()}getTimeForTransitionedSlide(e){var t;return(null!==(t=this.getStartTimeForSlide(e))&&void 0!==t?t:0)+(this.getFirstSlide().uid!==e||this.slideshow.hasIntroOutroTransition||this.slideshow.hasIntroDelay()?this.slideshow.getTransitionDuration():0)}isLastSlide(e){return this.getSlideIndex(e)===Object.keys(this.slidesHashMap).length-1}getSlideIndexForTime(e){const t=Object.keys(this.slidesHashMap).length,i=this.slideshow.getDuration();let s=this.slideshow.introAnimationPadding+this.slideshow.introDelay,o=0;for(const n of this.slidesOrder){if(s+=this.slidesHashMap[n].getSlideDuration(),s>e)return o;if(e>=i)return t-1;o+=1}return o}getSlideIndex(e){const t=this.slidesOrder.indexOf(e);return-1!==t?t:void 0}getSlideForId(e){return this.slidesHashMap[e]}isFirstSlideNonEmptyText(){const e=this.slidesHashMap[this.slidesOrder[0]];return e.isTextSlide()&&!e.isTextEmpty()}getFirstSlide(){return this.slidesHashMap[this.slidesOrder[0]]}seekToSlideIndex(e){if(void 0!==e){const t=this.getTimeForTransitionedSlide(this.slidesHashMap[this.slidesOrder[e]].uid);this.slideshow.page.poster.seek(t)}}seekToSlideId(e){if(this.slidesHashMap[e]){const t=this.getTimeForTransitionedSlide(this.slidesHashMap[e].uid);this.slideshow.page.poster.seek(t)}}getMaxValidDuration(e){let t=0;for(let i=0;i<this.slidesOrder.length;i+=1)e&&this.slidesOrder[i]===e||(t+=this.slidesHashMap[this.slidesOrder[i]].getSlideDuration());return Math.floor(g()-t-this.slideshow.introDelay)}getNextSlideIndex(){var e;const t=(null!==(e=this.getSlideIndex(this.slideshow.selectedSlideUID))&&void 0!==e?e:0)+1;return t<Object.keys(this.slidesHashMap).length?t:void 0}getPreviousSlideIndex(){var e;const t=(null!==(e=this.getSlideIndex(this.slideshow.selectedSlideUID))&&void 0!==e?e:0)-1;return t>=0?t:void 0}hasNextSlide(){return void 0!==this.getNextSlideIndex()}hasPreviousSlide(){return 0!==this.getSlideIndex(this.slideshow.selectedSlideUID)}seekPosterToSlide(e){const t=this.getTimeForTransitionedSlide(e);this.slideshow.page.poster.seek(t)}addSlideToGroupViewComponent(e){e.set({left:this.slideshow.fabricObject.left,top:this.slideshow.fabricObject.top}),this.slideshow.fabricObject.add(e)}removeSlideFromGroupViewComponent(e){this.slideshow.fabricObject.remove(e)}hideAllSlides(){for(const[,e]of Object.entries(this.slidesHashMap))e.fabricObject.set({opacity:0})}showFirstSlide(){this.getFirstSlide().fabricObject.set({opacity:1})}getNewTextSlideItem(){return u(this,void 0,void 0,(function*(){const e=this.slideshow.page.poster.width,t=this.slideshow.page.poster.height,i=e>t?e/l.n/2:t/l.n/2,n=Math.max(e<t?e/l.n:t/l.n,i);return(0,o.F4)(this.slideshow.page,this.slideshow,{gitype:s.Z.TEXTSLIDE,text:"",textStyles:{fontSize:n},width:this.slideshow.width,height:this.slideshow.height,baseWidth:this.slideshow.width-2*d.lf.PMW_CONTROL_PADDING-c.tA,isNewSlide:!0})}))}getNumberOfSlides(){return Object.keys(this.slidesHashMap).length}getNumberOfTextSlides(){const e=Object.values(this.slidesHashMap);let t=0;for(const i of e)i.isTextSlide()&&(t+=1);return t}getNumberOfImageSlides(){const e=Object.values(this.slidesHashMap);let t=0;for(const i of e)i.isImageSlide()&&(t+=1);return t}getNumberOfVideoSlides(){const e=Object.values(this.slidesHashMap);let t=0;for(const i of e)i.isVideoSlide()&&(t+=1);return t}}const g=()=>h.c6-a.DG},88268:(e,t,i)=>{i.d(t,{d:()=>h});var s=i(40141),o=i(29311),n=i(96593),r=i(28202),a=i(37526);const l="pmwstockmedia/pmwstockanimatedstickers",d=()=>(0,a.yD)()?"webm":(0,a.V5)()?"mov":"mp4";var c=i(25154);class h extends s.xD{constructor(e){super(e),this.gitype=o.Z.STICKER,this.hasTransparency=!0,(0,c.G8)(c.Y4.INITIALIZED_STICKER)}getPlayDuration(){return Math.max(this.getDuration(),10)}toObject(){return Object.assign({},super.toObject())}loadSprite(){return!(0,a.yd)()}getVideoElementAttributes(){return{muted:!0}}getVideoUrl(){var e,t,i;return(null===(t=null===(e=this.page)||void 0===e?void 0:e.poster)||void 0===t?void 0:t.isHighRes)?(i=this.hashedFilename,(0,r._2)(`${l}/${i}.${d()}?ts=1615206102`,(0,n.bE)())):(e=>(0,r._2)(`${l+"/screens"}/${e}.${d()}?ts=1615206102`,(0,n.bE)()))(this.hashedFilename)}getSpriteUrl(){return e=this.hashedFilename,(0,r._2)(`${l+"/sprites"}/${e}.${(0,a.on)()?"webp":"png"}?ts=1615206102`,(0,n.bE)());var e}}},1052:(e,t,i)=>{i.d(t,{EN:()=>v,Kz:()=>b,S5:()=>I,bC:()=>y,d3:()=>T,uq:()=>E});var s=i(92461),o=i(94937),n=i(66403),r=i(84265),a=i(18030),l=i(8546),d=i(76087),c=i(69234),h=i(64072),u=i(84237),p=i(46260),g=i(56216),m=i(6730);const f={},b=()=>{O(m.Tj.TABLE_LAYOUT,[s.lT.DATE,s.lT.TIME,s.lT.TEAM,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.BAND_LAYOUT_LEFT_ALIGN,[s.lT.DATE,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.BAND_LAYOUT_RIGHT_ALIGN,[s.lT.DATE,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.BAND_LAYOUT_CENTER_ALIGN,[s.lT.DATE,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.SPORTS_LAYOUT,[s.lT.DATE,s.lT.TEAM,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.SLANTED_SPORTS_LAYOUT,[s.lT.DATE,s.lT.TIME,s.lT.TEAM,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.STRAIGHT_SPORTS_LAYOUT,[s.lT.DATE,s.lT.TIME,s.lT.TEAM,s.lT.VENUE,s.lT.HIGHLIGHT]),O(m.Tj.OFFSET_SPORTS_LAYOUT,[s.lT.DATE,s.lT.VENUE,s.lT.TEAM,s.lT.HIGHLIGHT]),O(m.Tj.CUSTOM_TABLE_LAYOUT,[s.lT.COLUMN1,s.lT.COLUMN2,s.lT.COLUMN3,s.lT.HIGHLIGHT]),O(m.Tj.MENU_LAYOUT_1,[s.lT.NAME,s.lT.DESCRIPTION,s.lT.PRICE,s.lT.ICONS,s.lT.VARIATION,s.lT.ADDON,s.lT.HIGHLIGHT]),O(m.Tj.MENU_LAYOUT_2,[s.lT.NAME,s.lT.DESCRIPTION,s.lT.PRICE,s.lT.ICONS,s.lT.VARIATION,s.lT.ADDON,s.lT.HIGHLIGHT]),O(m.Tj.MENU_LAYOUT_3,[s.lT.NAME,s.lT.DESCRIPTION,s.lT.PRICE,s.lT.ICONS,s.lT.VARIATION,s.lT.ADDON,s.lT.HIGHLIGHT]),O(m.Tj.MENU_LAYOUT_4,[s.lT.NAME,s.lT.DESCRIPTION,s.lT.PRICE,s.lT.ICONS,s.lT.VARIATION,s.lT.ADDON,s.lT.HIGHLIGHT]),O(m.Tj.MENU_LAYOUT_5,[s.lT.NAME,s.lT.DESCRIPTION,s.lT.PRICE,s.lT.ICONS,s.lT.VARIATION,s.lT.ADDON,s.lT.HIGHLIGHT]),O(m.Tj.MENU_LAYOUT_6,[s.lT.NAME,s.lT.DESCRIPTION,s.lT.PRICE,s.lT.ICONS,s.lT.VARIATION,s.lT.ADDON,s.lT.HIGHLIGHT])},O=(e,t)=>{f[e]={columns:w(t),helperClass:S(e)}},w=e=>{const t={};for(let i=0;i<e.length;i++)t[e[i]]=[];return t},v=e=>f[e].helperClass,S=e=>{switch(e){case m.Tj.TABLE_LAYOUT:return new o.d(!1);case m.Tj.BAND_LAYOUT_LEFT_ALIGN:case m.Tj.BAND_LAYOUT_RIGHT_ALIGN:case m.Tj.BAND_LAYOUT_CENTER_ALIGN:return new l.Z(e);case m.Tj.SPORTS_LAYOUT:return new a.h;case m.Tj.SLANTED_SPORTS_LAYOUT:case m.Tj.STRAIGHT_SPORTS_LAYOUT:return new n.h(e);case m.Tj.OFFSET_SPORTS_LAYOUT:return new r.U;case m.Tj.CUSTOM_TABLE_LAYOUT:return new o.d(!0);case m.Tj.MENU_LAYOUT_1:return new d.T;case m.Tj.MENU_LAYOUT_2:return new c.D;case m.Tj.MENU_LAYOUT_3:return new h.s;case m.Tj.MENU_LAYOUT_4:return new u.B;case m.Tj.MENU_LAYOUT_5:return new p.l;case m.Tj.MENU_LAYOUT_6:return new g.T;default:return new o.d(!1)}},T=e=>void 0!==e&&(e===m.Tj.BAND_LAYOUT_LEFT_ALIGN||e===m.Tj.BAND_LAYOUT_RIGHT_ALIGN||e===m.Tj.BAND_LAYOUT_CENTER_ALIGN||e===m.Tj.MENU_LAYOUT_1||e===m.Tj.MENU_LAYOUT_2||e===m.Tj.MENU_LAYOUT_3||e===m.Tj.MENU_LAYOUT_4||e===m.Tj.MENU_LAYOUT_5||e===m.Tj.MENU_LAYOUT_6||e===m.Tj.OFFSET_SPORTS_LAYOUT),y=e=>f[e].columns,E=e=>Object.keys(y(e)).length-1,I=e=>{switch(e){case m.Tj.MENU_LAYOUT_1:return{x:m.mV,y:m.JJ};case m.Tj.MENU_LAYOUT_3:return{x:m.nk,y:m.JJ};case m.Tj.MENU_LAYOUT_2:case m.Tj.MENU_LAYOUT_4:case m.Tj.MENU_LAYOUT_5:case m.Tj.MENU_LAYOUT_6:default:return{x:m.eF,y:m.JJ}}}},67677:(e,t,i)=>{i.d(t,{_:()=>m,a:()=>o});var s,o,n=i(6172),r=i(29311),a=i(91171),l=i(80088),d=i(47683),c=i(85144),h=i(67055),u=i(18546),p=i(20656),g=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};!function(e){e[e.VERSION_VIEWPORT_FIX=2]="VERSION_VIEWPORT_FIX",e[e.VERSION_3=3]="VERSION_3",e[e.VERSION_4=4]="VERSION_4",e[e.VERSION_5=5]="VERSION_5"}(s||(s={})),function(e){e.GETTY="getty",e.PIXABAY="pixabay",e.STORYBLOCKS="storyblocks",e.STORYBLOCKS_ILLUSTRATIONS="storyblocks_illustrations",e.STORYBLOCKS_ILLUSTRATIONS_DASH="storyblocks-illustrations",e.PIXABAY_ILLUSTRATIONS="pixabay-illustrations",e.GETTY_ILLUSTRATIONS="getty-illustrations",e.PMW_SHAPES="pmw-shapes",e.UPLOAD="upload"}(o||(o={}));class m extends n.ck{constructor(e){super(e),this.gitype=r.Z.VECTOR,this.fileName="",this.isCustomisable=!0,this.fill=new h.de({getRadialGradientOpts:f})}toObject(){return Object.assign(Object.assign({},super.toObject()),{fill:this.fill.toObject(),fileName:this.fileName,source:this.source,isCustomisable:this.isCustomisable})}initFabricObject(){const e=Object.create(null,{initFabricObject:{get:()=>super.initFabricObject}});return g(this,void 0,void 0,(function*(){yield e.initFabricObject.call(this),yield this.onItemInitialized()}))}onItemInitialized(){return g(this,void 0,void 0,(function*(){this.hasTooManyPaths(this.fabricObject)&&(yield this.convertVectorToImage()),yield this.updateFabricObject()}))}isVisible(){return super.isVisible()&&(this.fill.hasFill()&&this.alpha>0||this.border.solidBorderThickness>0)}getFabricObjectForItem(){return g(this,void 0,void 0,(function*(){const{paths:e}=yield(0,c.nT)(this.fileName,this.source),t=Object.assign({},this.getInitOptionsForView());this.initValsFromPaths(e),this.preparePaths(e);const i=window.fabric.util.groupSVGElements(e,t);return this.patchScale(i),i}))}applyShadowToFabricObject(){this.fabricObject.set("shadow",this.aura.getItemAura({shadowDistance:2}))}patchScale(e){this.width&&(this.scaleX=this.getScaledWidth()/e.width,this.scaleY=this.getScaledHeight()/e.height)}initValsFromPaths(e){if(!this.width||this.width<0){if(e.length>0){this.border.solidBorderType=u.T.RECTANGLE_BORDER,this.border.solidBorderThickness=e[0].strokeWidth*this.scaleX,(0,c.FF)(e)&&(this.fill.fillColor[0]=(0,a.nA)(e[0].fill));const t=(0,a.nA)(e[0].stroke);null!==t&&(this.border.solidBorderColor=t)}this.initializeFillType(e)}(0,c.FF)(e)||(this.isCustomisable=!1)}setControlsVisibility(){super.setControlsVisibility(),this.fabricObject.setControlsVisibility({ml:!this.isLocked(),mt:!this.isLocked(),mr:!this.isLocked(),mb:!this.isLocked()})}hasSinglePath(){return this.version>=s.VERSION_3?"group"!==this.fabricObject.type:"path"===this.fabricObject.type}getMaxOutlineThickness(){return this.hasSinglePath()?100:40}copyVals(e){const{fill:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["fill"]);super.copyVals(i),this.fill.copyVals(t)}updateFabricObject(){const e=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return g(this,void 0,void 0,(function*(){yield e.updateFabricObject.call(this),this.setFill(),this.applyFixForVersion4(),yield this.applyFixForVersion5()}))}applyBorder(){if(this.isCustomisable){const e=(0,l.w3)(this.fabricObject),t=`${(0,a.KN)(this.border.solidBorderColor)}`;for(let i=0;i<e.length;i++)e[i].set({stroke:t});this.fabricObject.set(Object.assign({},this.border.getBorder()))}}getColors(){let e=super.getColors();return this.fill.hasFill()&&(e=[...e,...this.fill.fillColor]),e.push(this.border.solidBorderColor),e}itemObjectHasDestructiveChanges(e){return!!this.fabricObject&&!(!this.isCustomisable||this.hasSinglePath()||e.border.solidBorderThickness===this.border.solidBorderThickness)}getInitOptionsForView(){return{perPixelTargetFind:!0,selectable:!0,lockUniScaling:!1}}preparePaths(e){if(this.isCustomisable)for(const t of e)t.set({strokeWidth:this.border.solidBorderThickness,strokeUniform:!0})}initializeFillType(e){if(e.length>0&&!e[0].fill){for(let t=0;t<e.length;t++)if(e[t].fill)return;this.fill.fillType=h.fz.NONE}}applyFixForVersion4(){if(!this.isMultipathVectorUniformStrokeFixed()&&!this.hasSinglePath()){const e=this.fabricObject.calcACoords(),t=Math.cos((0,d.Id)(this.rotation)),i=Math.sin((0,d.Id)(this.rotation)),o=t*this.border.solidBorderThickness/2,n=i*this.border.solidBorderThickness/2;this.x=e.tl.x+o-n,this.y=e.tl.y+o+n,this.fabricObject.set({originX:"left",originY:"top",left:this.x,top:this.y}),this.version=s.VERSION_4}}isMultipathVectorUniformStrokeFixed(){return this.version>=s.VERSION_4}doesOpacityWorkOnStroke(){return this.version>=s.VERSION_5}applyFixForVersion5(){return g(this,void 0,void 0,(function*(){this.doesOpacityWorkOnStroke()||(this.isCustomisable&&(this.fill.fillAlpha=this.alpha),this.alpha=1,this.version=s.VERSION_5,yield this.updateFabricObject())}))}hasTooManyPaths(e){return(0,l.w3)(e).length>200}hasMultiplePaths(){return(0,l.w3)(this.fabricObject).length>1}fixChanges(){if(this.page.poster.version<p.aj.FABRIC_2_UPDATE&&(this.border.solidBorderThickness=Math.round(this.border.solidBorderThickness*Math.max(this.scaleX,this.scaleY))),this.page.poster.version<p.aj.FABRIC_3_UPDATE)switch(this.fileName){case"38":case"41":case"28":case"34":case"35":case"30":case"50":case"10":case"9":this.applyVectorPositionFix({a:-.013468013468013,b:-.23878787878788,c:1.9692929292929,d:-.32727272727273});break;case"12":case"11":case"24":case"7":case"8":return void this.applyVectorPositionFix({a:-.019418426691154,b:-.099467401285583,c:1.0419467401286,d:-1.1844628099174});case"33":case"32":case"36":case"20":case"6":this.applyVectorPositionFix({a:-.1724436282012,b:-.058475665748393,c:3.4995041322314,d:1.1639669421488})}}applyVectorPositionFix(e){const t=Math.round((e.a*this.scaleX+e.b)*this.border.solidBorderThickness+e.c*this.scaleX+e.d),i=Math.round((e.a*this.scaleY+e.b)*this.border.solidBorderThickness+e.c*this.scaleY+e.d);let s=-i*Math.sin(this.rotation*Math.PI/180),o=i*Math.cos(this.rotation*Math.PI/180);s+=t*Math.cos(this.rotation*Math.PI/180),o+=t*Math.sin(this.rotation*Math.PI/180),this.x+=s,this.y+=o}setFill(){this.isCustomisable&&this.fabricObject.set("fill",this.fill.getFill(this.fabricObject.width,this.fabricObject.height))}convertVectorToImage(){return g(this,void 0,void 0,(function*(){this.setFill(),this.fabricObject.set({scaleX:this.scaleX,scaleY:this.scaleY}),this.applyBorder();const e=yield(0,l.NX)(this.fabricObject,{multiplier:this.page.poster.scaling.scale});if(!e.width||!e.height)throw new Error("Failed to get image for vector");this.scaleX*=this.fabricObject.get("width")/e.width,this.scaleY*=this.fabricObject.get("height")/e.height,this.setFabricObject(e),this.isCustomisable=!1}))}}const f=(e,t,i,s=1)=>{const o=e/2,n=t/2,r=Math.max(o,n);return{colorStops:[{offset:0,color:(0,a.KN)(i[0],s)},{offset:.75,color:(0,a.KN)(i[1],s)}],type:"radial",coords:{r1:.1*r*2,r2:2*r,x1:r,y1:r,x2:r,y2:r}}}},85144:(e,t,i)=>{i.d(t,{FF:()=>h,Hx:()=>l,nT:()=>d});var s=i(96593),o=i(28202),n=i(80088),r=i(67677),a=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const l=e=>a(void 0,void 0,void 0,(function*(){const{paths:t,metaData:i}=yield d(e,r.a.PMW_SHAPES);return window.fabric.util.groupSVGElements(t,{height:i.height,width:i.width,selectable:!0,lockUniScaling:!1})})),d=(e,t)=>a(void 0,void 0,void 0,(function*(){return new Promise(((i,s)=>{const o=c(e,t);window.fabric.loadSVGFromURL(o,((e,t)=>{!e||Array.isArray(e)&&0===e.length?s(new Error(`Failed to load vector from url: ${o}`)):i({paths:e,metaData:t})}))}))})),c=(e,t)=>{const i=(0,s.wA)();let n;switch(t){case r.a.GETTY:case r.a.PIXABAY:case r.a.STORYBLOCKS:case r.a.STORYBLOCKS_ILLUSTRATIONS:case r.a.STORYBLOCKS_ILLUSTRATIONS_DASH:case r.a.PIXABAY_ILLUSTRATIONS:case r.a.GETTY_ILLUSTRATIONS:case r.a.UPLOAD:n=`uploads/${e}.svg`;break;case r.a.PMW_SHAPES:n=`pmwstockmedia/pmwstockshapes/${e}.svg`;break;default:throw new Error(`Unhandled source for vector filename: ${e}, source: ${t}`)}return`${(0,o._2)(n,i)}ts=1689664600`},h=e=>void 0===e||!(e[0]&&e[0].fill&&e[0].fill instanceof window.fabric.Pattern)&&(0,n.t7)(e)},43439:(e,t,i)=>{i.d(t,{m:()=>l});var s=i(40141),o=i(29311),n=i(80843),r=i(20656),a=i(55642);class l extends s.xD{constructor(){super(...arguments),this.gitype=o.Z.VIDEO,this.fileExtension=s.mK}hasGettyContent(){return this.videoSource===n.bu.GETTY}isPremium(){return this.hasGettyContent()}toObject(){return Object.assign(Object.assign({},super.toObject()),{fileExtension:this.fileExtension,videoSource:this.videoSource})}getVideoUrl(){return this.page.poster.mode.isWebpage()?(0,n.GI)(this,n.vQ.SCREEN):(0,n.GI)(this)}getSpriteUrl(){return""}loadSprite(){return!1}fixChanges(){super.fixChanges(),this.fixBrightness()}fixBrightness(){this.page.poster.version<r.aj.FABRIC_2_UPDATE&&(this.effects.brightness=(0,a.a)(this.effects.brightness,-100,100,-.4,.4))}}},79963:(e,t,i)=>{i.d(t,{dF:()=>a,e3:()=>r,j7:()=>l,lU:()=>n});var s=i(91171),o=i(22114);const n=e=>e/113,r=e=>113*e,a=e=>{if(1===e.backgroundType)return(0,s.KN)(e.backgroundColor,e.backgroundColorAlpha)},l=e=>o.ul*e.textStyles.fontSize},14173:(e,t,i)=>{i.d(t,{r:()=>p});var s,o,n=i(96486),r=i(28721),a=i(46714),l=i(6172),d=i(47683),c=i(7074);!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(s||(s={})),function(e){e.X="x",e.Y="y"}(o||(o={}));const h={DEFAULT:.04,TEXT:4};var u;!function(e){e.UP="up",e.DOWN="down"}(u||(u={}));class p{constructor(e){this.page=e,this.alignment=new a.v2(this.page)}onSelectionCreated(){var e,t;if(this.getActiveObject()instanceof window.fabric.ActiveSelection){const i=this.getSelectedViews();for(let s=0;s<i.length;s++){const o=(0,l.Ug)(i[s]),n=null===(t=null===(e=window.posterEditor)||void 0===e?void 0:e.whiteboard)||void 0===t?void 0:t.getItemForId(o);if(i[s]instanceof window.fabric.Textbox&&n&&((null==n?void 0:n.isText())||(null==n?void 0:n.isSlideshow()))){i[s]=n.fabricObject,this.discardActiveObject();const e=new window.fabric.ActiveSelection(i,{canvas:this.page.fabricCanvas});this.setActiveObject(e)}}}}onObjectScaling(e){var t,i;if((null==e?void 0:e.target)instanceof window.fabric.ActiveSelection){const s=e.target.getObjects();for(const e of s){const s=(0,l.Ug)(e),o=null===(i=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===i?void 0:i.getItemForId(s);o&&o.onScaling()}}}onViewModified(e){if((null==e?void 0:e.target)instanceof window.fabric.ActiveSelection){const t=e.target;this.updateVisuals(t.getObjects(),t)}}updateVisuals(e,t,i=!0){const s=this.page.items.toObject();for(const i of e){const e=(0,l.Ug)(i);s.itemsHashMap[e]=this.getUpdatedItemVisual(i,t)}this.page.items.updateFromObject(s,{undoable:i})}getUpdatedItemVisual(e,t){let i,s,o,n=0,r=0,a=e.angle;return t&&(i=Math.abs(e.left*t.scaleX+t.width*t.scaleX/2),s=Math.abs(e.top*t.scaleY+t.height*t.scaleY/2),o=Math.hypot(i,s),n=Math.atan(s/i),Number.isNaN(n)&&(n=0),r=n+(0,d.Ht)(t.angle),a=t.angle+e.angle>=360?t.angle+e.angle-360:t.angle+e.angle),{x:t?t.left+(null!=o?o:0)*Math.cos(r):e.left,y:t?t.top+(null!=o?o:0)*Math.sin(r):e.top,width:e.width,height:e.height,rotation:a,scaleX:t?t.scaleX*e.scaleX:e.scaleX,scaleY:t?t.scaleY*e.scaleY:e.scaleY,flipX:e.flipX,flipY:e.flipY}}clearSelection(){const e=this.getActiveObjects();e&&0!==e.length&&(this.discardActiveObject(),this.page.fabricCanvas.requestRenderAll())}deleteSelectedItems(){const e=this.getActiveObjects();if(!e||0===e.length)return;const t=[];for(let i=0;i<e.length;i+=1)t.push(e[i].__PMWID);this.page.poster.deleteItemByIds(t),this.clearSelection()}sortByXaxis(e,t){const i=e.getCornerPoints(e.getCenterPoint()),s=t.getCornerPoints(t.getCenterPoint()),o=Math.round(Math.min(i.tl.x,i.tr.x,i.br.x,i.bl.x)),n=Math.round(Math.min(s.tl.x,s.tr.x,s.br.x,s.bl.x));return o<n?-1:o>n?1:0}getFilledSpace(e,t,i){let s=0;const n=e[0].getCornerPoints(e[0].getCenterPoint()),r=e[e.length-1].getCornerPoints(e[e.length-1].getCenterPoint()),a=Math.min(n.tl[i],n.tr[i],n.br[i],n.bl[i]),l=Math.max(r.tl[i],r.tr[i],r.br[i],r.bl[i]);let d,c,h,u;d=i===o.X?a+t.width/2+(t.width/2-l):a+t.height/2+(t.height/2-l),d>3*t.padding&&(d=2*t.padding,i===o.X?e[0].set({left:d/2+(e[0].left-a)-t.width/2}):o.Y&&e[0].set({top:d/2+(e[0].top-a)-t.height/2}));for(let t=0;t<e.length;t+=1)c=e[t].getCornerPoints(e[t].getCenterPoint()),h=Math.min(c.tl[i],c.tr[i],c.br[i],c.bl[i]),u=Math.max(c.tl[i],c.tr[i],c.br[i],c.bl[i]),s+=u-h;return s+d}sortByYaxis(e,t){const i=e.getCornerPoints(e.getCenterPoint()),s=t.getCornerPoints(t.getCenterPoint()),o=Math.round(Math.min(i.tl.y,i.tr.y,i.br.y,i.bl.y)),n=Math.round(Math.min(s.tl.y,s.tr.y,s.br.y,s.bl.y));return o<n?-1:o>n?1:0}onVerticalGroupSpacing(){const e=this.getActiveObject(),t=this.getActiveObjects();if(!t||!e)return;t.sort(((e,t)=>this.sortByXaxis(e,t)));const i=this.getFilledSpace(t,e,o.X),s=(e.width-i)/(t.length-1);for(let e=1;e<t.length;e+=1){t[e].set({left:t[e-1].left});const i=t[e-1].getCornerPoints(t[e-1].getCenterPoint()),o=t[e].getCornerPoints(t[e].getCenterPoint()),n=Math.max(i.tl.x,i.tr.x,i.br.x,i.bl.x),r=Math.min(o.tl.x,o.tr.x,o.br.x,o.bl.x);t[e].set({left:t[e].left+(n-t[e-1].left)+s+(t[e].left-r)})}this.updateVisuals(t,e)}onHorizontalSpacing(){const e=this.getActiveObject(),t=this.getActiveObjects();if(!t||!e)return;t.sort(((e,t)=>this.sortByYaxis(e,t)));const i=this.getFilledSpace(t,e,o.Y),s=(e.height-i)/(t.length-1);for(let e=1;e<t.length;e+=1){t[e].set({top:t[e-1].top});const i=t[e-1].getCornerPoints(t[e-1].getCenterPoint()),o=t[e].getCornerPoints(t[e].getCenterPoint()),n=Math.max(i.tl.y,i.tr.y,i.br.y,i.bl.y),r=Math.min(o.tl.y,o.tr.y,o.br.y,o.bl.y);t[e].set({top:t[e].top+(n-t[e-1].top)+s+(t[e].top-r)})}this.updateVisuals(t,e)}onGroupSpacing(e){switch(e){case s.HORIZONTAL:this.onHorizontalSpacing();break;case s.VERTICAL:this.onVerticalGroupSpacing();break;default:throw new Error("unhandled spacing type for grouped items")}}onDuplicate(){return this.duplicateSelection(this.page.getSelectedItems(),15,15)}orderGraphicItems(e){const t=this.page.fabricCanvas.getObjects(),i=[],s=[],o=[],n={};for(let e=0;e<t.length;e+=1)n[t[e].__PMWID]=e;for(let t=0;t<e.length;t+=1)void 0!==n[e[t].uid]?i[n[e[t].uid]]=e[t]:s.push(e[t]);for(let e=0;e<i.length;e+=1)i[e]&&o.push(i[e]);for(let e=0;e<s.length;e+=1)o.push(s[e]);return o}duplicateSelection(e,t=15,i=15){if(0===e.length)return;const s=[],o=this.orderGraphicItems(e);for(let e=0;e<o.length;e+=1){const a=(0,n.cloneDeep)(o[e]);if(a.uid=(0,r.Z)(),a.isNew=!0,a.isSlideshow()){a.selectedSlideUID="";for(const[e,t]of Object.entries(a.slides.slidesHashMap)){t.uid=(0,r.Z)(),a.slides.slidesHashMap[t.uid]=t,delete a.slides.slidesHashMap[e];const i=a.slides.slidesOrder.indexOf(e);-1!==i&&(a.slides.slidesOrder[i]=t.uid),t.isTextSlide()&&(t.background.uid=(0,r.Z)())}}else a.isText()&&(a.background.uid=(0,r.Z)());(t||i)&&(a.x+=t,a.y+=i),a.isMenu()&&a.updateCopiedItems(a.itemIds),s.push(a)}this.page.items.addItems.addItemsFromItemType(s)}selectFabricObjects(e){if(this.discardActiveObject(),1===e.length)this.setActiveObject(e[0]);else{const t=new window.fabric.ActiveSelection(e,{canvas:this.page.fabricCanvas});this.setActiveObject(t)}this.page.fabricCanvas.requestRenderAll()}resizeActiveSelection(e,t=u.UP){let i=1;t===u.DOWN&&(i=-1);const s=this.page.getSelectedItems();if(0===s.length||s&&s[0].isLocked())return;1===s.length&&e.preventDefault();const o=h.DEFAULT*i,n=h.TEXT*i;if(1===s.length)if(s[0].isText()&&(-1===i&&s[0].textStyles.fontSize>c.C||1===i&&s[0].textStyles.fontSize<c.H)){let e=s[0].textStyles.fontSize+n;e<c.C?e=c.C:e>c.H&&(e=c.H),s[0].updateFromObject({textStyles:{fontSize:e},width:s[0].width*(e/s[0].textStyles.fontSize)})}else!s[0].isText()&&(s[0].scaleX>h.DEFAULT&&s[0].scaleY>h.DEFAULT||1===i)&&s[0].updateFromObject({scaleX:s[0].scaleX+o,scaleY:s[0].scaleY+o});else if(s.length>1){const e=this.getActiveObject();if(!e)return;(e.scaleX>h.DEFAULT&&e.scaleY>(null==h?void 0:h.DEFAULT)||1===i)&&this.updateGroupSelection({scaleX:e.scaleX+o,scaleY:e.scaleY+o})}}updateGroupSelection(e,t=!0){const i=this.getActiveObject();i.set(e),this.updateVisuals(i.getObjects(),i,t)}setActiveObject(e){this.page.fabricCanvas instanceof window.fabric.Canvas&&this.page.fabricCanvas.setActiveObject(e)}getActiveObject(){return this.page.fabricCanvas instanceof window.fabric.Canvas?this.page.fabricCanvas.getActiveObject():void 0}discardActiveObject(){this.page.fabricCanvas instanceof window.fabric.Canvas&&this.page.fabricCanvas.discardActiveObject()}getActiveObjects(){return this.page.fabricCanvas instanceof window.fabric.Canvas?this.page.fabricCanvas.getActiveObjects():[]}getSelectedViews(){const e=this.getActiveObject();let t=[];return e&&(e instanceof window.fabric.ActiveSelection?t=e.getObjects():t[0]=e),t}}},68402:(e,t,i)=>{i.d(t,{Ey:()=>l,Yo:()=>a});var s=i(98577),o=i(67055),n=i(91171),r=(i(13561),function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))});class a extends s.A{constructor(e){super(e),this.type=s.O.COLOR,this.fill=new o.de({getLinearGradientOpts:d,getRadialGradientOpts:c})}copyVals(e){const{fill:t}=e,i=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["fill"]);super.copyVals(i),this.fill.copyVals(t)}invalidate(){return r(this,void 0,void 0,(function*(){this.page.setBackgroundColor(this.fill.getFill(this.page.fabricCanvas.width/this.page.fabricCanvas.getZoom(),this.page.fabricCanvas.height/this.page.fabricCanvas.getZoom())),this.page.setBackgroundImage(null)}))}toObject(){return{type:this.type,fill:this.fill.toObject()}}}const l=(e,t={})=>r(void 0,void 0,void 0,(function*(){const i=new a(e);return yield i.updateFromObject(t,{undoable:!1}),i})),d=(e,t,i=1)=>{const s=e,o=[];for(let e=0;e<t.length;e++)o.push({offset:(e+1)/t.length,color:(0,n.ZP)(t[e],i)});return{colorStops:o,coords:{x1:0,x2:0,y1:-s,y2:s},type:"linear"}},c=(e,t,i,s=1)=>{const o=e/2,r=t/2;return{colorStops:[{offset:0,color:(0,n.ZP)(i[0],s)},{offset:1,color:(0,n.ZP)(i[1],s)}],type:"radial",coords:{x1:o,y1:r,r1:0,x2:o,y2:r,r2:Math.max(e,t)}}}},81189:(e,t,i)=>{i.d(t,{j:()=>p,q:()=>m});var s=i(56566),o=i(1483),n=i(37785),r=i(60028),a=i(94275),l=i(57427),d=i(49369),c=i(49195),h=i(45893),u=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};class p extends s.M{constructor(e){super(),this.page=e}copySelection(e){const t=this.page.getSelectedItems();if(null==t?void 0:t.length){let i=[];for(let e=0;e<t.length;e++){const s=t[e];i.push(s)}if(i.length){e&&e.preventDefault(),i=this.page.activeSelection.orderGraphicItems(i);const t=i.map((e=>e.toObject())),{poster:s}=this.page,o=this.page.activeSelection.getActiveObject(),n={key:s.copyKey,graphicItemObjects:t,posterInfo:{width:s.width,height:s.height,idGalleryTemplate:s.idGalleryTemplate,idGalleryTemplateCreator:s.idGalleryTemplateCreator},group:{left:o?o.left:t[0].x,top:o?o.top:t[0].y}},r=JSON.stringify(n);navigator.clipboard.writeText(r)}else(0,o.ve)({title:window.i18next.t("pmwjs_copying_error_title"),text:window.i18next.t("pmwjs_title_copy_disabled")})}}pasteItems(e,t={isPasteFromRightClick:!1}){return u(this,void 0,void 0,(function*(){const{poster:i}=this.page,s=yield g();if(s)if(this.isPasteAllowed(s)){e&&e.preventDefault(),(0,n.QP)("pastingGraphicItems");let o=15,u=15;const p=[];let g=s.graphicItemObjects.length>1;!this.isMultipleItemsPasteAllowed(s)&&g&&(s.graphicItemObjects=s.graphicItemObjects.slice(0,1),g=!1,(0,r.r)({text:window.i18next.t("pmwjs_only_one_item_paste_limit"),type:h.oA.PREMIUM})),i.width===s.posterInfo.width&&i.height===s.posterInfo.height||(o=40-s.group.left,u=40-s.group.top);const m=(0,a.n5)(),f=(0,a.u8)(),b=[];for(let e=0;e<s.graphicItemObjects.length;e++)b.push(new Promise(((i,o)=>{(0,l._Q)(this.page,s.graphicItemObjects[e]).then((e=>{var r,a;if(m&&f&&e.idOriginalOwner&&e.idOriginalOwner!==m)return(0,n.Zk)("pastingGraphicItems"),(0,d.y)({title:window.i18next.t("pmwjs_pasting_error_title"),message:window.i18next.t("pmwjs_item_pasting_error")}),void o();s.posterInfo.idGalleryTemplate&&(e.idOriginalOwner=s.posterInfo.idGalleryTemplateCreator);const l=null===(r=t.eventCanvasOffset)||void 0===r?void 0:r.left,c=null===(a=t.eventCanvasOffset)||void 0===a?void 0:a.top;t.isPasteFromRightClick&&void 0!==l&&void 0!==c&&(e.x=l+(e.x-s.group.left),e.y=c+(e.y-s.group.top)),p.push(e),i()})).catch(o)})));const O=yield Promise.allSettled(b);for(const e of O)"rejected"===e.status&&console.error("Item failed to paste details:",e);t.isPasteFromRightClick&&(o=g?c.lf.PMW_CONTROL_PADDING:p[0].getSelectorPadding(),u=o),this.page.activeSelection.duplicateSelection(p,o,u),(0,n.Zk)("pastingGraphicItems")}else(0,o.ve)({title:window.i18next.t("pmwjs_pasting_error_title"),text:window.i18next.t("pmwjs_pasting_error")})}))}isPasteAllowed(e){var t;return(null===(t=window.PMW.currentUserOnPageLoad)||void 0===t?void 0:t.isSuper)||e.key===this.page.poster.copyKey||!e.posterInfo.idGalleryTemplate||e.posterInfo.idGalleryTemplateCreator===(0,a.n5)()||!(0,a.n5)()||!(0,a.u8)()}isMultipleItemsPasteAllowed(e){var t;return(null===(t=window.PMW.currentUserOnPageLoad)||void 0===t?void 0:t.isSuper)||e.key===this.page.poster.copyKey||!e.posterInfo.idGalleryTemplate||e.posterInfo.idGalleryTemplateCreator===(0,a.n5)()}}const g=()=>u(void 0,void 0,void 0,(function*(){let e;try{const t=yield navigator.clipboard.readText();e=JSON.parse(t)}catch(e){return}const t=m(e);if(t)return t})),m=e=>{if("object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"key")&&Object.prototype.hasOwnProperty.call(e,"graphicItemObjects")&&Object.prototype.hasOwnProperty.call(e,"posterInfo")&&Object.prototype.hasOwnProperty.call(e,"group"))return e}},93901:(e,t,i)=>{i.d(t,{NF:()=>o,NN:()=>n,Wi:()=>s,_4:()=>r});const s=300,o=4,n=10,r="ffffff"},88021:(e,t,i)=>{i.d(t,{zu:()=>n});var s,o=i(81679);!function(e){e.INCHES="INCHES",e.MILLI_METER="MILLI_METER"}(s||(s={}));class n extends o.v{constructor(e){super(),this.enabled=!1,this.val=.125,this.unit=s.INCHES,this.poster=e}toObject(){return{enabled:this.enabled,unit:this.unit,val:this.val}}updateFromObject(e){this.copyVals(e),this.poster.redux.updateReduxData()}getValInPixel(){let e;switch(this.unit){case s.MILLI_METER:e=3.779;break;case s.INCHES:e=96;break;default:throw new Error("Unhanlded bleedunit")}return this.val*e}}},20656:(e,t,i)=>{var s;i.d(t,{Ei:()=>c,FH:()=>n,Zm:()=>a,aj:()=>s,bY:()=>d,c6:()=>o,u3:()=>r,ul:()=>l}),function(e){e[e.CURRENT=14]="CURRENT",e[e.FABRIC_3_UPDATE=12]="FABRIC_3_UPDATE",e[e.FABRIC_2_UPDATE=11]="FABRIC_2_UPDATE",e[e.HTML5=10]="HTML5",e[e.LEGACY=3]="LEGACY"}(s||(s={}));const o=600,n=333,r=1e3,a=18e4;var l,d;!function(e){e.PAGE_TIME_UPDATED="PAGE_TIME_UPDATED",e.POSTER_SEEKED="POSTER_SEEKED",e.TEXT_SLIDE_ADDED="TEXT_SLIDE_ADDED",e.FABRIC_CANVAS_TOUCH_START_DETECTED="FABRIC_CANVAS_TOUCH_START_DETECTED"}(l||(l={})),function(e){e[e.IMAGES=6]="IMAGES",e[e.VIDEOS=3]="VIDEOS"}(d||(d={}));const c=100},60580:(e,t,i)=>{i.d(t,{P:()=>o});var s=i(26217);class o extends s.Ar{doLayout(e){const t=e.getObjects(),i=e.width,s=t[0].calcTextHeight(),o=t.length,n=(i-s*o)/o;for(let i=0;i<o;i++)0===i?t[i].set({left:-e.width/2+s+n/2,top:-e.height/2+this.edgePadding}):t[i].set({left:t[i-1].left+n+s,top:-e.height/2+this.edgePadding})}}},91171:(e,t,i)=>{i.d(t,{He:()=>a,K9:()=>b,KN:()=>d,Ss:()=>v,ZP:()=>c,Zd:()=>h,_$:()=>S,dw:()=>m,hq:()=>p,nA:()=>O,oo:()=>u,pJ:()=>g,rP:()=>f,rm:()=>w,vq:()=>l});var s=i(97234),o=i(46581),n=i.n(o),r=(i(67055),i(70836),i(78937),i(40340));const a={NEUTRAL_0:"#FFFFFF",NEUTRAL_1:"#FAFAFA",NEUTRAL_3:"#F2F2F5",NEUTRAL_6:"#E6E6EC",NEUTRAL_11:"#DCDCE1",NEUTRAL_18:"#CBCBD0",NEUTRAL_28:"#A1A1AA",NEUTRAL_70:"#403F5D"},l=(e,t)=>void 0===t?(0,s.Z)({r:e[0],g:e[1],b:e[2]}).toHex():(0,s.Z)({r:e[0],g:e[1],b:e[2],a:t}).toHex8(),d=(e,t)=>void 0===t?(0,s.Z)({r:e[0],g:e[1],b:e[2]}).toHexString():(0,s.Z)({r:e[0],g:e[1],b:e[2],a:t}).toHex8String(),c=(e,t)=>void 0===t?(0,s.Z)({r:e[0],g:e[1],b:e[2]}).toRgbString():(0,s.Z)({r:e[0],g:e[1],b:e[2],a:t}).toRgbString(),h=e=>e.length>1&&"#"===e[0]?e.slice(1):e,u=e=>{const t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return[t>>16,(65280&t)>>8,255&t]},p=e=>(0,s.Z)(e).toHex(),g=e=>(0,s.Z)(e).toHexString(),m=e=>/^([A-Fa-f0-9]{6})$/i.test(e),f=e=>{let t=e;return m(e)||(t=e=(e=>e?e.replace(/[^a-fA-F0-9]+/,""):"")(e),e.length<4&&(t=e[0]?e[0]+e[0]:"0",t=e[1]?t+e[1]+e[1]:t,t=e[2]?t+e[2]+e[2]:t),t=`${t}000000`.slice(0,6)),t},b=e=>((e,t)=>{const i=g(e),s=new(n())(i).tints(20).map((e=>e.hexString()));return(0,r.Od)(s,s.length-1)})(e),O=e=>{try{if("object"==typeof e)return e;let t=e;if("string"==typeof e){t=e.toLowerCase().replace("rgb","").replace("(","").replace(")","");const i=e.split(",");if(3===i.length)return[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)];if(0===t.indexOf("0x"))t=parseInt(t,10);else{if(-1!==t.indexOf("#"))return u(t);t=parseInt(t,10),isNaN(t)&&(t=0)}}return[t>>16&255,t>>8&255,255&t]}catch(e){return[0,0,0]}},w=e=>e&&e.length>3?`rgba(${e[0]},${e[1]},${e[2]},${e[3]})`:"",v=e=>(.2126*e[0]+.7152*e[1]+.0722*e[2])/255*100,S=(e,t=100)=>{const i=v(e)>50?-1*t:t,s=l(e),o=parseInt(s,16);let n=(o>>16)+i;n>255?n=255:n<0&&(n=0);let r=(o>>8&255)+i;r>255?r=255:r<0&&(r=0);let a=(255&o)+i;return a>255?a=255:a<0&&(a=0),""+`000000${(a|r<<8|n<<16).toString(16)}`.slice(-6)}},78116:(e,t,i)=>{i(85518)},69568:(e,t,i)=>{i.d(t,{N:()=>l,o:()=>d});var s=i(68736),o=i(44422),n=i(37526),r=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const a={},l=(e,t,i=!0)=>r(void 0,void 0,void 0,(function*(){if(i&&Object.prototype.hasOwnProperty.call(a,e))return a[e];if("bullets"===e)return`${window.PMW.util.asset_url("fonts/bullets.woff")}`;let o=(0,s.qs)(e);return/http/.test(o)?(/\.css/.test(o)&&(o=yield((e,t)=>r(void 0,void 0,void 0,(function*(){let i;const s=yield(0,n.EN)(e,"text",4e3);if(!s)return"";for(let e=0;e<t.length;e++){const o=t[e],n=new RegExp(`.*format\\(['"]${o}['"]\\)`,"i");if(i=s.match(n),i)break}if(!i)return"";if(i=i[0].match(/url\(['"]\S*['"]\)/i),!i)return"";const o=i[0].replace(/url/g,"").replace(/[()'"]/g,"");return/http/.test(o)?o:(r=o,(a=e).slice(0,a.lastIndexOf("/")+1)+r);var r,a})))(o,t)),o?(a[e]=o,o):""):""})),d=(e,t)=>r(void 0,void 0,void 0,(function*(){try{const i=yield l(e,["woff","truetype"]);if(!i)return!1;const s=yield o.ZP.load(i);let n;return!Array.from(t).some((e=>{return!((t=e).charCodeAt(0)>=0&&t.charCodeAt(0)<=32||(n=s.charToGlyph(e),n&&n.unicodes.length&&".notdef"!==n.name));var t}))}catch(t){return console.error(`could not check text support for font ${e}`),console.error("error details: ",t),!1}}))},21555:(e,t,i)=>{i.d(t,{EL:()=>h,JF:()=>a,W_:()=>c,X1:()=>n,fY:()=>u,fn:()=>g,pD:()=>r,pz:()=>d,qz:()=>p,xd:()=>l}),i(94275);var s=i(37526),o=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function a(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};const n=(e,t)=>o(void 0,void 0,void 0,(function*(){return yield window.PMW.writeLocal("posterimage/removeBackground",{sourceURL:e,destURLScreen:t})})),r=e=>o(void 0,void 0,void 0,(function*(){return yield window.PMW.writeLocal("posterimage/removeUserImageBackground",{userImageHashedFilename:e})})),a=e=>""!==e&&-1!==e.indexOf("image/"),l=e=>"webp"!==e||(0,s.on)()?e:"png",d=e=>o(void 0,void 0,void 0,(function*(){const t=yield u(e);return[t.naturalWidth,t.naturalHeight]})),c=e=>o(void 0,void 0,void 0,(function*(){const t=document.createElement("canvas"),i=t.getContext("2d");if(!i)throw new Error("Failed to get context of canvas");t.width=e.width,t.height=e.height,i.drawImage(e,0,0);const s=i.getImageData(0,0,e.width,e.height),o=s.data;for(let e=0,t=o.length;e<t;e+=4)o[e+3]<3&&(o[e+3]=0);i.putImageData(s,0,0);const n=t.toDataURL();return u(n)})),h=e=>{const t=document.createElement("canvas"),i=t.getContext("2d");if(!i)throw new Error("Failed to get context of canvas");t.width=e.width,t.height=e.height,i.drawImage(e,0,0);const{data:s}=i.getImageData(0,0,t.width,t.height);let o=!1;for(let e=3,t=s.length;e<t;e+=4)if(s[e]<255){o=!0;break}return o},u=e=>new Promise(((t,i)=>{const s=new Image;s.onload=()=>{t(s)},s.crossOrigin="anonymous",s.onerror=i,s.src=e})),p=(e,t,i,s=!0)=>{const o=new Image;o.onload=t.bind(void 0,o),s&&(o.crossOrigin="anonymous"),o.onerror=i,o.onabort=i,o.src=e},g=e=>new Promise(((t,i)=>{const s=document.createElement("img");s.src=e,s.onload=()=>{const e=s.width,o=s.height,n=document.createElement("canvas");n.width=s.width,n.height=s.height;const r=n.getContext("2d");r?(r.drawImage(s,0,0),t(r.getImageData(0,0,e,o).data)):i(new Error("Failed to get context of canvas"))}}))},79565:(e,t,i)=>{i.d(t,{H7:()=>h,Hb:()=>a,JB:()=>c,JX:()=>o,Og:()=>n,kC:()=>r,r:()=>l,vV:()=>d});var s=i(28721);const o=(e,t)=>{let i=e;for(let s=0;s<=Object.keys(t).length&&(s>0&&(i=`${e} (${s.toString()})`),t[i]);s++);return i},n=(e,t)=>{let i="",s=e;if(u(s)){for(let e=s.length-1;e>=0;e--)if("("===s[e]){i=` (${parseInt(s.substring(e+1,s.length-1),10)+1})`,s=s.substring(0,e).trim();break}}else i=" (1)";return t?`${s.substring(0,t-i.length)}${i}`:`${s}${i}`},r=e=>e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase(),a=()=>(0,s.Z)(),l=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#x2F;"),d=e=>/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e),c=e=>{let t="";for(let i=0;i<e.length;i+=2)t+=String.fromCharCode(parseInt(e.substring(i,i+2),16));return t},h=e=>{const t=e.match(/[^A-Z0-9]/gi);return!(t&&t.length>0)},u=e=>/\([0-9]+\)$/.test(e)}}]);
//# sourceMappingURL=3091.26bf33ab9170b661ae52.bundle.js.map
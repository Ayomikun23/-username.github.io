/*! For license information please see 5937.d0d881aad9205ddd1a5f.bundle.js.LICENSE.txt */
(self.webpackChunkpmw=self.webpackChunkpmw||[]).push([[5937],{55950:(t,e,i)=>{"use strict";i.d(e,{x:()=>s.x});var s=i(37673)},26338:(t,e,i)=>{"use strict";i.d(e,{v:()=>s.v});var s=i(27769)},29396:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const s={"-large":"z3BD8hIbuBsGSeQ3W8cQ",container:"zXwbeV1rSSUumsTN9HvQ",audioContentContainer:"pJNGBcYpJlWthCJ6l56m",isSelected:"nThO35myfjXMvbkZRWmQ",draggableIcon:"n11tv5gCd9XH9zCU9h9c",audioIcon:"LvnqG5F5n6sF6p8pQKSe",audioNameText:"beHUcXWsoD1JnFWoDv39",selectedAudioContainer:"SjwRhTZXGeEn0xodDMUv",unselectedAudioContainer:"fUzks7xzjSFwR287G1DG",leftSideContainer:"qIZm4crcDSxrDDnbmDZH",draggableIconContainer:"f6zncDWStfoVMuJl3ms6",audioIconContainer:"RFvTSLWQvIxziNTbPK63"}},57751:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const s={selector:"Nr2eptb_IZGBDKRO5SAd",selected:"sOgLtpx80lkZwfjDQcnt"}},9473:(t,e,i)=>{"use strict";i.d(e,{f:()=>b,v:()=>u});var s=i(67294),o=i(85444),n=i(86867),r=i(11811),a=i(50746),l=i(10106),c=i(48034),h=i(26606);const d={transparentBorder:"ozSWpJLte6nfX9s4kkrj"};var u,p=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function b(t){var{className:e="",customPopup:i,hasDefaultSpacing:b=!1,customSelector:g,dropdownSelectorText:f="",dropdownItems:m=[],selectedItemId:y="",alignment:x=o.dO.BOTTOM_END,popupWidth:O=254,popupMaxHeight:w=360,children:v=null,position:T=o.H2.ABSOLUTE,selectorType:S=u.GHOST,isLoading:C=!1,isDisabled:j=!1,onClick:E=(()=>{}),leftOffset:I=0,isForSubOption:k=!1,selectorClasses:M="",selectorIcon:P="",selectorSvg:F,popUpHasCustomWidth:L=!0,popUpHasCustomHeight:B=!0}=t,D=p(t,["className","customPopup","hasDefaultSpacing","customSelector","dropdownSelectorText","dropdownItems","selectedItemId","alignment","popupWidth","popupMaxHeight","children","position","selectorType","isLoading","isDisabled","onClick","leftOffset","isForSubOption","selectorClasses","selectorIcon","selectorSvg","popUpHasCustomWidth","popUpHasCustomHeight"]);const[A,R]=(0,s.useState)(""),N=(0,s.useRef)(!0);return(0,s.useEffect)((()=>{null==m||m.forEach((t=>{String(t.id)===String(y)&&R(t.text)}))}),[y]),s.createElement(n.W,{key:D.id,label:D.label,className:e,optionControl:s.createElement(r.L,{popupSpacingClass:(b?"spacing-p-2":"spacing-p-t-2 spacing-p-r-2 spacing-p-l-2")+" ",position:T,alignment:x,popUpHasCustomWidth:L,popUpHasCustomHeight:B,selector:(()=>{if(g)return g;switch(S){case u.GHOST:return s.createElement(c.L,{icon:P,svg:F,className:`${k?d.transparentBorder:""} ${M}`,isLoading:C,isDisabled:j,text:f||A});case u.DEFAULT:return s.createElement(h.n,{icon:P,className:M,isLoading:C,text:f||A});default:throw new Error("Unhandled dropdown selector type")}})(),popup:(()=>{if(i)return i;const t=m.map((t=>("number"==typeof t.id&&(N.current=!1),{id:String(t.id),text:t.text,type:l.A.DEFAULT_3,isSelected:String(t.id)===String(y),icon:"icon-media"})));return s.createElement("div",{style:{width:L?`${O}px`:"100%",maxHeight:`${w}px`}},s.createElement(a.h,{className:"spacing-m-0",id:"unqiue-list-id",items:t,onClick:t=>{t!==y&&E(N.current?t:Number(t))}}))})(),leftOffset:I,popupClassName:"border-s-standard"})},v)}!function(t){t.GHOST="ghost",t.DEFAULT="default"}(u||(u={}))},91138:(t,e,i)=>{"use strict";i.d(e,{l:()=>c});var s=i(67294),o=i(86867),n=i(60001),r=i(35697);const a={inputField:"PWfZBFlLEhscOAJjoQSv"};var l=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function c(t){var{className:e="",hasIcon:i="",placeholder:c="",inputLabel:h="",onInputChange:d=(()=>{}),onInputChangeEnded:u=(()=>{}),onInputFocus:p=(()=>{}),onInputBlur:b=(()=>{}),onInputSubmit:g=(()=>{}),showErrorState:f=!1,errorText:m="",elementTitle:y="",isControlled:x=!0,isDisabled:O=!1,size:w=r.r3.SMALL}=t,v=l(t,["className","hasIcon","placeholder","inputLabel","onInputChange","onInputChangeEnded","onInputFocus","onInputBlur","onInputSubmit","showErrorState","errorText","elementTitle","isControlled","isDisabled","size"]);return s.createElement(o.W,{key:v.id,className:`${a.inputField} ${e}`,optionItemsHaveGap:!h,optionControl:s.createElement(n.U,{id:v.id,size:w,hasIcon:i,label:h,placeholder:c,onInputChange:t=>d(t),elementTitle:y,onInputFocus:p,onInputBlur:b,onInputSubmit:g,onInputChangeEnded:u,input:v.value,controls:v.controls,state:f?r.Ef.ERROR:r.Ef.DEFAULT,information:f?m:"",isMultiline:v.isMultiline,maxLength:v.maxLength,maxNumberOfRows:v.maxNumberOfRows,isControlled:x,isDisabled:O})})}},82767:(t,e,i)=>{"use strict";i.d(e,{j:()=>p});var s,o,n=i(67294),r=i(99111),a=i(57790),l=i(12092);!function(t){t.MINUTES="MINUTES",t.SECONDS="SECONDS"}(s||(s={})),function(t){t.UP="UP",t.DOWN="DOWN"}(o||(o={}));var c=i(80174),h=i(35685);const d={"-large":"pdRCZBLfgp5veuuz_svG",container:"sBlDV3YA7ZarNkMEJUVE",clickEffect:"FApdAMjjpItp_4v94QEf",durationColon:"mQ17ef25nLx4LXSlbveQ",durationControlsContainer:"atqgKkR3kzVkH4jAkta9",durationControl:"AC8nS3huxsw58GGYqCYN",disabled:"og4KzZZ9y9M850UD2vpa",durationControlDown:"N7iAUr4osWTJ5zHWLSj7",durationControlUp:"c7gIshAUv_vjIKGvADXE",durationTextContainer:"E2Pzh0A6jEL5JEaQuZWN",input:"SYD9teMHJTxX2XoP9nNw",iconDisabled:"nQ_1mPeuqG4ML2bO07hZ",secondsInput:"Rk_qRNJmsh8IroKJBFTj"};var u=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function p(t){var{onDurationChangeEnded:e=(()=>{})}=t,i=u(t,["onDurationChangeEnded"]);const p=t=>{const e=Math.floor(t/60);return{minutes:e,seconds:t-60*e}},b=t=>t.seconds+60*t.minutes,[g,f]=(0,n.useState)(i.seconds),[m,y]=(0,n.useState)(s.SECONDS),x=(0,n.useRef)(null),O=(0,n.useRef)(null),w=(0,n.useRef)(null),v=(0,n.useRef)(null),T=(0,n.useRef)(null),S=(0,n.useRef)(),C=(0,n.useRef)(!0);(0,n.useEffect)((()=>{f(i.seconds)}),[i.seconds]),(0,h.Z)((()=>{C.current?C.current=!1:E()}),[g]),(0,c.Z)(x,(()=>{j()}));const j=()=>{y(s.SECONDS)},E=()=>{i.seconds!==g&&(i.onDurationChangedCallback(g),I())},I=()=>{S&&clearTimeout(S.current),S.current=window.setTimeout((()=>{e(g)}),600)},k=t=>{const e=Number(t.target.value),i=p(g),s=b(Object.assign(Object.assign({},i),{seconds:e}));F(s)},M=t=>{const e=Number(t.target.value),i=p(g),s=b(Object.assign(Object.assign({},i),{minutes:e}));F(s)},P=t=>{"ArrowUp"===t.key?!D()&&(()=>{var t;v&&v.current&&(null===(t=v.current)||void 0===t||t.classList.add(d.clickEffect),window.setTimeout((()=>{var t;null===(t=v.current)||void 0===t||t.classList.remove(d.clickEffect)}),150))})():"ArrowDown"===t.key&&!A()&&(()=>{var t;T&&T.current&&(null===(t=T.current)||void 0===t||t.classList.add(d.clickEffect),window.setTimeout((()=>{var t;null===(t=T.current)||void 0===t||t.classList.remove(d.clickEffect)}),150))})()},F=t=>{f((e=>t>=i.max?i.max:t<=i.min?i.min:t))},L=()=>{const t=Math.floor(i.max/60);let e="9";return t.toString().split("").forEach((t=>{e+="9"})),Number(e)},B=()=>`${d.iconDisabled} ${d.disabled}`,D=()=>Math.ceil(g)>=i.max,A=()=>Math.floor(g)<=i.min,R=t=>t<10?`0${Math.floor(t)}`:`${Math.floor(t)}`,N=t=>{y(t)},W=(t,e)=>{var i,n;let r=0;if(m===s.SECONDS)r=1;else{if(m!==s.MINUTES)throw`Unhandled focus state: ${m}`;r=60}if(t===o.UP)F(g+r);else{if(t!==o.DOWN)throw`Unhandled control state: ${t}`;F(g-r)}m===s.SECONDS&&(null===(i=w.current)||void 0===i||i.select()),m===s.MINUTES&&(null===(n=O.current)||void 0===n||n.select())};return n.createElement("div",{id:i.id,ref:x,className:`${d.container} flexbox border-s-darker radius-4`},(()=>{const t=p(g),e={onKeyDown:P,onMouseUp:t=>{t.target.select()},type:"number"};return n.createElement("div",{className:`${d.durationTextContainer} flexbox flex-items-center spacing-p-l-3 spacing-p-r-3 hover-transition-all`},n.createElement("input",Object.assign({onFocus:N.bind(null,s.MINUTES),className:`${d.input} spacing-m-r-1 _borderless hover-transition-all`,ref:O,id:`${i.id}-minutes`,name:"minutes",min:0,max:L(),value:R(t.minutes),onInput:M},e)),n.createElement(r.xv,{val:":",className:`${d.durationColon}`,type:r.Xi.BODY,size:r.JB.XSMALL}),n.createElement("input",Object.assign({onFocus:N.bind(null,s.SECONDS),className:`${d.input} ${d.secondsInput} spacing-m-l-1 _borderless hover-transition-all`,ref:w,id:`${i.id}-seconds`,name:"seconds",max:99,value:R(t.seconds),onInput:k},e)))})(),n.createElement("div",{className:`flex-v-row ${d.durationControlsContainer}`},n.createElement(a.J,{className:`${d.durationControlUp} ${d.durationControl} ${D()?B():""}`,icon:"icon-caret-up",size:l.ZG.SIZE_ICON_16,onClick:W.bind(null,o.UP),isDisabled:D(),ref:v}),n.createElement(a.J,{className:`${d.durationControlDown} ${d.durationControl} ${A()?B():""}`,icon:"icon-caret-down",size:l.ZG.SIZE_ICON_16,onClick:W.bind(null,o.DOWN),isDisabled:A(),ref:T})))}},99139:(t,e,i)=>{"use strict";i.d(e,{T:()=>x});var s=i(67294);const o={"-large":"mKLrCMub3NTDO2G1vy3C",container:"iuIgCv3dmNAO4rJxu0PS",selectedContainer:"o0lNSoxrsOmP_0Net0fY",img:"e_k8GiwwlX1sbyCcjweL"};var n=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function r(t){var{className:e="",isSelected:i=!1,doScrollIntoView:r=!1}=t,a=n(t,["className","isSelected","doScrollIntoView"]);const l=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var t;l&&l.current&&r&&i&&(null===(t=l.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"}))}),[i,r]),s.createElement("li",{ref:l,id:a.id,onClick:()=>{a.onClick()},className:`${o.container} spacing-p-l-2 spacing-p-b-0 ${i?o.selectedContainer:""} radius-4 _full-width ${e}`},s.createElement("img",{loading:"lazy",className:o.img,src:a.imgSrc,alt:window.i18next.t("pmwjs_image")}))}var a=i(96593),l=i(99111);const c={"-large":"ocW7xXdTHVzs_nEfDbkm",container:"J0n11IOb4HXlvzmPAKe0",text:"DZD_D69NaLZ41NTmmXZZ",thumbnailContainer:"PFq2Sf4BP6sesU56uGLA",borderSelected:"GCAukGQuBQzAl5Fh4Fdf",border:"jZv1yE12p6PSVlSpoMXk",selectedWithoutBorder:"Y0644GCvBpGYWfhFIAVp"};var h,d=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function u(t){var{onClick:e=(()=>{}),state:i=h.WITH_BORDER,isSelected:o=!1,id:n="",className:r="",text:a="",doScrollIntoView:u=!0}=t,p=d(t,["onClick","state","isSelected","id","className","text","doScrollIntoView"]);const b=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var t;b&&b.current&&u&&(null===(t=b.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"}))}),[o]),s.createElement("div",{id:n,onClick:()=>{e(n)},className:`${c.container} ${r} flex-v-row flex-items-center spacing-p-r-2 spacing-p-l-2`},s.createElement("div",{className:`flex-center ${c.thumbnailContainer} ${i===h.WITH_BORDER?o?c.borderSelected:c.border:i===h.WITHOUT_BORDER&&o?c.selectedWithoutBorder:""} radius-4`},p.thumbnail),a?s.createElement(l.xv,{val:a,size:l.JB.XXSMALL,bold:o,className:`${c.text} ${o?"color-link-visited":""} spacing-m-t-1`}):null)}!function(t){t.WITH_BORDER="with_border",t.WITHOUT_BORDER="without_border"}(h||(h={}));var p=i(70793),b=i(73682),g=i(57790),f=i(12092);const m={"-large":"zUMC9CqRPVTSBqMSHMN7",listItemContainer:"keqclRg7ZicSK1pvlmrT",horizontalListItem:"OVvJiSpyuu3Ovk8TOAaj",horizontalContainer:"N39y_du76wISGVRjZawr",horizontalListContainer:"lTmXOrPvjvUxGdglnRgb",iconLeft:"UQCWqSWcHjjd4l1k4sF1",iconRight:"yu9p6LTGAQOVVpa5D5sJ"};var y=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function x(t){var{hasMarginTop:e=!1,className:i="",showHorizontalVersion:o=!1,doScrollIntoView:n=!1}=t,l=y(t,["hasMarginTop","className","showHorizontalVersion","doScrollIntoView"]);const[c,h]=(0,s.useState)(null),[d,x]=(0,s.useState)(0),[O,w]=(0,s.useState)(!1);(0,s.useEffect)((()=>c&&o?(c.addEventListener("scroll",v),()=>{c.removeEventListener("scroll",v)}):()=>{}),[c]);const v=()=>{c&&x(c.scrollLeft)},T=t=>`${window.PMW.util.repoURL(`fonts/${t}.png?`,(0,a.bE)())}`,S=t=>`${(0,a.Vh)(`texteffects/small/${t}.webp`)}`;(0,s.useEffect)((()=>{c&&n&&!O&&w(!0)}),[c]);const C=(t,e)=>s.createElement(r,{isSelected:t===l.selectedId,className:m.listItemContainer,key:t,id:t,imgSrc:e,onClick:()=>{l.onClick(t)},doScrollIntoView:O}),j=(t,e,i)=>s.createElement(u,{className:m.horizontalListItem,id:t,key:t,text:e,thumbnail:s.createElement(p.p,{data:{type:p.h.IMAGE,imageSrc:i}}),isSelected:t===l.selectedId,onClick:()=>{l.onClick(t)}}),E=()=>s.createElement("ul",{ref:t=>{h(t)},className:`${i} ${o?`${m.horizontalContainer} flex-h-row`:""} ${e?"spacing-m-t-2":""}`},l.data.type===b.l.FONT?l.data.fancyTextFonts.map((t=>{return e=t,o?j(String(e.idfont),e.fontFamily,T(e.fontFamily)):C(String(e.idfont),T(e.fontFamily));var e})):(t=>t.map((t=>(t=>o?j(t.id,t.name,S(t.id)):C(t.id,S(t.id)))(t))))(l.data.fancyTextStyles));return o?s.createElement("div",{className:m.horizontalListContainer},0===d?null:s.createElement("div",{className:m.iconLeft},s.createElement(g.J,{onClick:()=>{c&&(c.scrollLeft=c.scrollLeft-c.clientWidth+78)},isDisabled:!1,size:f.ZG.SIZE_ICON_20,type:f.e1.SHADOW,shape:f.q0.CIRCLE,icon:"icon-arrow-left"})),E(),c&&d===c.scrollWidth-c.clientWidth?null:s.createElement("div",{className:m.iconRight},s.createElement(g.J,{onClick:()=>{c&&(c.scrollLeft=c.scrollLeft+c.clientWidth-78)},size:f.ZG.SIZE_ICON_20,type:f.e1.SHADOW,shape:f.q0.CIRCLE,icon:"icon-arrow-right"}))):E()}},6742:(t,e,i)=>{"use strict";i.d(e,{E:()=>c});var s=i(67294),o=i(41330),n=i(89597);const r={"-large":"uCHM09dEg6FyJ6x8QVlK",menuLayouts:"KS36w3WhNcaF45p9hKiM",menuLayout:"kq4JkMdj2NnEaYY5ayZA",menuLayoutSelected:"mWXp5MwOsDpedHzl8trX",smallLayoutImage:"vcOHV8OIPi_uhgRcEsPP",bigLayoutImage:"QjuJn4ufz61ee4QpZBnG",menuLayoutImage:"eRPC76Jxf6SS22XNEF0F",smallScreenSection:"eGeo5ZSEfG8ru786_ipA"};var a=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};const l="selected-";function c(t){var{className:e=""}=t,i=a(t,["className"]);const[c,h]=(0,s.useState)(i.layout),d=t=>t!==c||t!==n.oV.SLANTED_SPORTS_LAYOUT&&t!==n.oV.STRAIGHT_SPORTS_LAYOUT?"":l;return(0,s.useEffect)((()=>{h(i.layout)}),[i.layout]),s.createElement("ul",{className:`${e} ${r.menuLayouts} ${i.big?"":r.smallScreenSection}`},i.styleImages.map((t=>s.createElement("li",{className:`${r.menuLayout} ${t===c?r.menuLayoutSelected:""}`,key:t,onClick:()=>(t=>{h(t),i.onLayoutSelected(t)})(t)},s.createElement(o.Z,{className:`${r.menuLayoutImage} ${i.showSmallImages?r.smallLayoutImage:r.bigLayoutImage}`,src:`${i.layoutPath+d(t)+t}.png`,alt:window.i18next.t("pmwjs_image")})))))}},49927:(t,e,i)=>{"use strict";i.d(e,{Er:()=>s,HI:()=>n,h0:()=>o,hd:()=>r});const s=["FFFFFF","E0E4CC","E8DDCB","D5DED9","D9CEB2","C8C8A9","CDB380","ECD078","99B2B7","A7DBD8","69D2E7","4ECDC4","CFF09E","A8DBA8","79BD9A","3B8686","0B486A","036564","033649","031634","F38630","FA6900","D95B43","C02942","542437","FF6B6B","F9CDAD","FC9D9A","FE4365","C44D58","C7F464","000000","7A6A53"],o="Background-gradient-type-dropdown";var n,r;!function(t){t[t.SOLID=0]="SOLID",t[t.GRADIENT=1]="GRADIENT"}(n||(n={})),function(t){t.LINEAR="linear",t.RADIAL="radial"}(r||(r={}))},26391:(t,e,i)=>{"use strict";i.d(e,{C:()=>d,Z:()=>p});var s=i(67294),o=i(79490),n=i(99111),r=i(57790),a=i(12092),l=i(79565),c=i(29051),h=i(48993);var d;!function(t){t.DEFAULT="DEFAULT",t.DANGER="DANGER"}(d||(d={}));const u={small:{minWidth:0,maxWidth:550},large:{minWidth:551}},p=function(t){var e,{text:i,type:p=d.DEFAULT,textClassName:b="",className:g="",icon:f="icon-exclamation-triangle",showIcon:m=!0,footer:y=null,header:x=null}=t,O=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i}(t,["text","type","textClassName","className","icon","showIcon","footer","header"]);const w=(0,s.useRef)(null),v=(0,h.D)(w,u),T=(0,s.useRef)(null!==(e=O.panelId)&&void 0!==e?e:(0,l.Hb)());return(0,c.Z)(T.current),s.createElement(o.s_,{ref:w,className:`${g}`,panelHeader:x,panelContent:s.createElement(o.KG,{className:`uIT03t6I8xh91661Yzvw ${p===d.DANGER?"q2HAV_xRMKvNr1uvfgxt":""} flex-center flex-v-row spacing-p-t-7 spacing-p-b-7 spacing-p-l-12 spacing-p-r-12`},m?s.createElement("div",{className:"Lq9mDb5P3jsDG8fMyPDc flexbox spacing-m-r-0 spacing-m-t-2 spacing-p-9"},s.createElement(r.J,{icon:f,className:(p===d.DANGER?"color-danger-100":"color-primary-darker")+" _unmargin",size:a.ZG.SIZE_ICON_48,type:a.e1.NONE,shape:a.q0.NONE})):null,s.createElement(n.xv,{className:`${b} V2Q9DGdrUpIjowBizEkq spacing-m-t-6`,dangerouslySetInnerHTML:!0,size:v.small?n.JB.XSMALL:n.JB.SMALL,val:i})),panelFooter:y})}},35108:(t,e,i)=>{"use strict";i.d(e,{R:()=>l});var s=i(67294),o=i(57790),n=i(12092);const r={"-large":"h_Za5q6LG4rBLKOREyBB",container:"TC2Q5VyNnTLSOl3qHBI0",icon:"ifsCZmLLMSdlyMqPWoyo"};var a=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function l(t){var{id:e="",className:i="",iconClassName:l=""}=t,c=a(t,["id","className","iconClassName"]);return s.createElement("div",{id:e,className:`${i} ${r.container} radius-8 flex-center hover-transition-all`},s.createElement(o.J,{className:`${r.icon} ${l}`,icon:c.icon,size:n.ZG.SIZE_ICON_24}))}},80407:(t,e,i)=>{"use strict";i.d(e,{E:()=>h});var s=i(67294),o=i(4289),n=i(94018),r=i(85444),a=i(71231),l=i(5425),c=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function h(t){var{dropdownType:e=o.v.GHOST,isLoading:i=!1,isSubOptionDisabled:h=!1,selectorClasses:d="",isBeingOpenedFromModal:u=!1}=t,p=c(t,["dropdownType","isLoading","isSubOptionDisabled","selectorClasses","isBeingOpenedFromModal"]);const b=t=>{t!==p.textShape&&p.updateShape(Number(t))},g=t=>{p.updateMorphAmount(t)},f=t=>{p.updateMorphAmountEnded(t)},m=()=>p.textShape!==n.G.CURVE_UP&&p.textShape!==n.G.CURVE_DOWN&&p.textShape!==n.G.WAVE?null:p.textShape===n.G.CURVE_UP?s.createElement(a.k,{id:"curve-up",value:p.morphAmount,label:window.i18next.t("pmwjs_curve_amount"),range:{min:0,max:350},onChange:g,onChangeEnded:f,isDisabled:h}):p.textShape===n.G.CURVE_DOWN?s.createElement(a.k,{id:"curve-down",value:p.morphAmount,label:window.i18next.t("pmwjs_curve_amount"),range:{min:-350,max:0},transformDisplay:{min:0,max:100},onChange:g,onChangeEnded:f,isDisabled:h}):s.createElement(a.k,{id:"curve-up-slider",value:p.morphAmount,label:window.i18next.t("pmwjs_curve_amount"),range:{min:1,max:3},transformDisplay:{min:1,max:3},onChange:g,onChangeEnded:f,isDisabled:h}),y=()=>[{id:n.G.NONE,text:window.i18next.t("pmwjs_straight")},{id:n.G.CURVE_UP,text:window.i18next.t("pmwjs_curve_up")},{id:n.G.CURVE_DOWN,text:window.i18next.t("pmwjs_curve_down")},{id:n.G.WAVE,text:window.i18next.t("pmwjs_wave")},{id:n.G.WEDGE_LEFT,text:window.i18next.t("pmwjs_wedge_left")},{id:n.G.WEDGE_RIGHT,text:window.i18next.t("pmwjs_wedge_right")},{id:n.G.ROOF,text:window.i18next.t("pmwjs_roof")}];return u?s.createElement(o.f,{dropdownItems:y(),position:r.H2.FIXED,id:p.id,label:window.i18next.t("pmwjs_text_shape"),onClick:b,selectorType:e,selectedItemId:p.textShape,isLoading:i,isDisabled:i,selectorClasses:d,popupMaxHeight:250,popUpHasCustomWidth:!1},m()):s.createElement(l.uo,{dropdownItems:y(),position:r.H2.FIXED,id:p.id,label:window.i18next.t("pmwjs_text_shape"),onClick:b,selectorType:e,selectedItemId:p.textShape,isLoading:i,isDisabled:i,selectorClasses:d},m())}},5425:(t,e,i)=>{"use strict";i.d(e,{uo:()=>d});var s=i(67294),o=i(4289),n=i(36131),r=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};const a=254,l=360,c=184,h=250;function d(t){var e=r(t,[]);const i=(0,n.C)((t=>t.posterEditor.isSidebarSmall));return s.createElement(o.f,Object.assign({popupMaxHeight:i?h:l,popupWidth:i?c:a},e))}},43806:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var s=i(67294),o=i(90417),n=i(57790),r=i(12092);const a={"-large":"dijDD8HQiwbOu6qOByrB",iconContainer:"ai0O8N90L2VSWLPxEmD2",icon:"xsy5GjxgkJKEG2d35TvJ",toggleSwitch:"VvFCaVqTGDbA2jC7me0M",switch:"wUrWA0qb0VoDTRyo1eQC",unCheckedToggleSwitch:"isg7urQAo3EaZBIe3t0C",checkedToggleSwitch:"BnyFe0pCKEHRXcOOrDBW",checked:"EDL_ag2LMhN8fpDjO8r7",switchHandle:"rHslPFdJ0znWLXfc_34d",disabledHandle:"BiHsm8tn8pxhaUuwJYva",unCheckedHandle:"vRsibQV1009oR86QG2wU"};var l=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};function c(t){var{id:e="",className:i="",isLoading:c=!1,icon:h="",isDisabled:d=!1,onMouseEnter:u=(()=>{}),onMouseLeave:p=(()=>{})}=t,b=l(t,["id","className","isLoading","icon","isDisabled","onMouseEnter","onMouseLeave"]);const g=!d&&b.isChecked;return s.createElement("label",{onMouseEnter:()=>{u()},onMouseLeave:()=>{p()},id:e,className:i,"aria-label":e},s.createElement("span",{className:`${a.toggleSwitch} ${g?a.checkedToggleSwitch:a.unCheckedToggleSwitch} hover-transition-all`},s.createElement("input",{type:"checkbox",checked:b.isChecked,disabled:d,"aria-labelledby":e,onChange:()=>{c||b.onChange()}}),s.createElement("span",{className:`${g?a.checked:""} ${a.switch}`},s.createElement("span",{className:`${a.switchHandle}  radius-round ${d?a.disabledHandle:""}  ${g||d?"":`${a.unCheckedHandle} `} `},h||c?s.createElement("div",{className:`${a.iconContainer} flex-center`},c?s.createElement(o.p0,{color:g?o.pT.PRIMARY_DARK:o.pT.DARK,size:o.MN.XSMALL,classes:"spacing-m-0"}):h?s.createElement(n.J,{icon:"icon-check",size:r.ZG.SIZE_ICON_16,className:`${g?"color-link-visited":a.icon} `}):null):null))))}},16414:(t,e,i)=>{"use strict";var s=i(61933),o=i(37785);window.PMW.mergePMW(PMW,{showLoading:(t,e={})=>{(0,o.QP)(t,e)},toggleSaveReminderDisplaying:t=>{window.PMW.redux.store.dispatch((0,s.$L)(t))},toggleProgressBarDisplaying:t=>{window.PMW.redux.store.dispatch((0,s.jh)(t))},hideLoading:t=>{(0,o.Zk)(t)},eventProgressHandler:(t,e)=>{(0,o.ee)(t,e)},updateLoadingProgress:(t,e)=>{(0,o.WV)(t,e)},updateLoadingText:(t,e)=>{(0,o.vu)(t,e)},isLoaderActiveForKey:t=>(0,o.e2)(t)})},53197:(t,e,i)=>{"use strict";var s=i(5517),o=i(28721),n=i(30263);window.PMW.mergePMW(window.PMW,{showMessageGrowl:t=>{window.PMW.redux.store.dispatch((0,s.RT)({key:(0,o.Z)(),type:n.o.PREMIUM,text:t}))}})},48020:(t,e,i)=>{"use strict";var s=i(46842),o=i(1483),n=i(27098),r=i(54),a=i(176),l=i(76855),c=i(15405),h=i(17996),d=i(35805),u=i(80267),p=i(87753);window.PMW.mergePMW(PMW,{openErrorModal(t={}){(0,s.h7)(s.fX.ERROR_MODAL_ID,t)},openRemoveBackgroundPurchaseModal(t={}){(0,s.h7)(s.fX.REMOVE_BG_PURCHASE_MODAL_ID,t)},openMessageModal(t){(0,o.ve)(t)},closeMessageModal(){(0,o.we)()},openCropperModal(t){(0,p.R)(t)},openTrimAudioModal(t){(0,r.B)(t)},openTrimVideoModal(t){(0,a.U)(t)},closeModal(t){Object.values(s.fX).includes(t)&&(0,s.Mr)(t)},openConfirmDeleteModal(t){(0,n.y)(t)},openMenuListModal(t={}){(0,s.h7)(s.fX.MENU_LIST_MODAL,t)},openSettingsModal(t={}){(0,s.h7)(s.fX.SETTINGS_MODAL_ID,t)},openSaveConflictModal(t){(0,l.A)(t)},openResizeModal(t){(0,h.R)(t)},openChangePlanModal(){(0,d.Q)()},openMaskingModal(t){(0,u.x)(t)},disableModals(){c.u.disableModals()}})},96097:(t,e,i)=>{"use strict";i.d(e,{h:()=>s});const s=t=>window.PMW.util.site_url(`posterbuilder/load/${t}`)},68693:(t,e,i)=>{"use strict";i.d(e,{I:()=>s});const s=t=>{const e=document.createElement("a");e.setAttribute("id",t),document.body.appendChild(e)}},45392:(t,e,i)=>{"use strict";i.d(e,{D:()=>s});const s=(t,e,i)=>{let s=[];if(t.length>=3)for(let e=0;e<t.length-2;e++)s=s.concat(n(t[e],t[e+1],t[e+2],i));return o(s,t,e,i)},o=(t,e,i,s)=>{const o=e.length;if(o<2)return;let r="";if(2===o)r+=`M${e[0].x},${e[0].y}L${e[1].x},${e[1].y}`;else{let a;for(r+=`M${e[0].x},${e[0].y}Q${t[0].x},${t[0].y},${e[1].x},${e[1].y}`,a=2;a<o-1;a+=1)r+=`C${t[2*(a-1)-1].x},${t[2*(a-1)-1].y},${t[2*(a-1)].x},${t[2*(a-1)].y},${e[a].x},${e[a].y}`;if(r+=`Q${t[2*(a-1)-1].x},${t[2*(a-1)-1].y},${e[a].x},${e[a].y}`,i){const t=n(e[e.length-1],e[0],e[1],s);r+=`Q${t[0].x},${t[0].y},${e[0].x},${e[0].y}`}}return new window.fabric.Path(r)},n=(t,e,i,s)=>{const o=r(t,i),n=a(t,e),l=a(e,i),c=n+l,h=(t=>t?.5:0)(s);return[{x:e.x-o.x*h*n/c,y:e.y-o.y*h*n/c},{x:e.x+o.x*h*l/c,y:e.y+o.y*h*l/c}]},r=(t,e)=>({x:e.x-t.x,y:e.y-t.y}),a=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},99053:(t,e,i)=>{"use strict";i.d(e,{F:()=>s});class s extends(/^(2046|330|4840)$/.test(i.j)?Error:null){constructor(t){super(),this.audioItemId=t}}},43682:(t,e,i)=>{"use strict";i.d(e,{m:()=>s});class s extends(/^(2046|330|4840)$/.test(i.j)?Error:null){}},96653:(t,e,i)=>{"use strict";i.d(e,{g:()=>s});class s{constructor(t,e,i){if(!s.possibleTypes.includes(e))throw new Error("DrawableStackFrame::constructor | invalid type");this.page=t,this.type=e,this.targets=i}get getTargets(){return this.targets}get isEraserFrame(){return this.type===s.eraserType}get isDrawingFrame(){return this.type===s.drawingType}static get possibleTypes(){return[s.eraserType,s.drawingType]}static get eraserType(){return"eraser"}static get drawingType(){return"drawing"}}},20674:(t,e,i)=>{"use strict";i.d(e,{x:()=>s});class s{constructor(t){this.target=t}get getTarget(){return this.target}}},46960:(t,e,i)=>{"use strict";i.d(e,{S:()=>s});class s{constructor(t,e){this.target=t,this.removedPath=e}get getTarget(){return this.target}get getRemovedPath(){return this.removedPath}}},93084:(t,e,i)=>{"use strict";if(i.d(e,{g:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(81679);class o extends(/^(2046|330|4840)$/.test(i.j)?s.v:null){constructor(t){super(),this.id="",this.poster=t}toObject(){return{id:this.id}}updateFromObject(t){this.copyVals(t)}}},10770:(t,e,i)=>{"use strict";i.d(e,{z:()=>s});const s="webp"},57427:(t,e,i)=>{"use strict";i.d(e,{F4:()=>M,Hw:()=>I,I3:()=>O,OW:()=>C,UQ:()=>w,Vi:()=>j,_Q:()=>E,as:()=>T,jJ:()=>v,uL:()=>S});var s=i(49195),o=i(29311),n=i(16156),r=i(43439),a=i(94018),l=i(89086),c=i(73598),h=i(67677),d=i(88268),u=i(68483),p=i(1477),b=i(35397),g=i(92962),f=i(63845),m=i(16308),y=i(48),x=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};const O=t=>2*v(t),w=t=>2*T(t),v=t=>t?s.lf.PMW_CONTROL_PADDING/t:1,T=t=>t?s.lf.PMW_CONTROL_PADDING/t:1,S=t=>t?t.scaleY*S(t.group):1,C=t=>t?t.scaleX*C(t.group):1,j=t=>{let e;for(const i of t)i&&(!e||e.getPlayDuration()<i.getPlayDuration())&&(e=i);return e},E=(t,e)=>x(void 0,void 0,void 0,(function*(){if(!e.gitype)throw console.error("Need gitype to initiailize item"),new Error("Need gitype to initiailize item");const i=new(k(e.gitype))(t),s=yield i.formatItemObjectWithDefaultValues(e);return yield i.updateFromObject(s,{updateRedux:!1,undoable:!1}),i})),I=(t,e)=>{const i=e.toObject(),s=new(k(i.gitype))(t);return s.copyVals(i),s},k=t=>{switch(t){case o.Z.QR_CODE:return n.$R;case o.Z.VIDEO:return r.m;case o.Z.FANCY_TEXT:return a.N;case o.Z.TEXT:return l.Jy;case o.Z.IMAGE:return c.v;case o.Z.VECTOR:return h._;case o.Z.STICKER:return d.d;case o.Z.TABLE:return u.r8;case o.Z.MENU:return p.sN;case o.Z.TAB:return b.LM;case o.Z.SLIDESHOW:return g.a;default:throw new Error(`Couldn't load item. Unknown type: ${t}`)}},M=(t,e,i)=>x(void 0,void 0,void 0,(function*(){if(!i.gitype)throw new Error("Need gitype to initiailize slide item");const s=new((t=>{switch(t){case o.Z.TEXTSLIDE:return f.B;case o.Z.IMAGESLIDE:return m.t;case o.Z.VIDEOSLIDE:return y.Q;default:throw new Error(`Couldn't load slide item. Unknown type: ${t}`)}})(i.gitype))(t,e);return yield s.updateFromObject(i,{updateRedux:!1,undoable:!1,doInvalidate:!1}),s}))},1477:(t,e,i)=>{"use strict";i.d(e,{NW:()=>m,PH:()=>g,rk:()=>b,sN:()=>f});var s=i(29311),o=i(49195),n=i(68483),r=i(17236);if(/^(2046|330|4840)$/.test(i.j))var a=i(47683);var l=i(98810),c=i(45630),h=i(18546),d=i(6730),u=i(56927),p=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};const b="OpenSansRegular",g="Abel";class f extends(/^(2046|330|4840)$/.test(i.j)?n.r8:null){constructor(){super(...arguments),this.gitype=s.Z.MENU,this.itemIds=[],this.copiedItemIds=[],this.iconsColor=[0,0,0],this.iconsSize=0,this.wrappingInfo=null,this.totalIconsToLoad=0,this.numIconsLoaded=0}setControlsVisibility(){super.setControlsVisibility();const t=this.isLocked();this.fabricObject.setControlsVisibility({pmwMr:!t,pmwMl:!t})}onInitItem(){this.modelSnapshot=new f(this.page),this.modelSnapshot.xSpacing=this.xSpacing,this.modelSnapshot.x=this.x}getFabricObjectForItem(){return p(this,void 0,void 0,(function*(){return new Promise((t=>{t(new window.fabric.CustomBorderTable([],{objectCaching:!1,perPixelTargetFind:!1,pmwBmBtnText:window.i18next.t("pmwjs_edit_item"),pmwBmBtnIcon:o.nI.editIcon}))}))}))}initEvents(){super.initEvents(),this.fabricObject.on("pmwMr:moved",this.onResizeWithRightHandle.bind(this)),this.fabricObject.on("pmwMl:moved",this.onResizeWithLeftHandle.bind(this))}editItem(){(0,l.mp)(this)}onItemDoubleClicked(){(0,l.mp)(this)}updateFromMenuData(t,e){var i;const s=(0,c.m)(t,e);s.border=Object.assign(Object.assign({},this.border),{solidBorderType:e!==d.Tj.MENU_LAYOUT_4||this.border.solidBorderType?this.border.solidBorderType:h.T.RECTANGLE_BORDER}),0===(null===(i=s.itemIds)||void 0===i?void 0:i.length)?this.page.poster.deleteItemById(this.uid):this.updateFromObject(s)}updateFabricObject(){const t=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return p(this,void 0,void 0,(function*(){yield t.updateFabricObject.call(this),this.invalidateIcons(),this.width=this.fabricObject.width}))}invalidateIcons(){let t;const e=this.layoutDataMap.iconsList;let i=[];for(t=0;t<e.length;t++){const s=e[t].getValue();for(let t=0;t<s.length;t++)s[t]in r._P||i.push(s[t])}for(i=i.filter(((t,e,i)=>i.indexOf(t)===e)),this.totalIconsToLoad=i.length,this.numIconsLoaded=0,t=0;t<i.length;t++)(0,r.gT)(i[t],this.onIconLoaded.bind(this,i[t]))}onIconLoaded(t,e,i){this.numIconsLoaded+=1,i.selectable=!1,i.editable=!1,i.scaleX=1,i.scaleY=1,i.left=-i.width/2,i.top=-i.height/2,e&&(r._P[t]=window.fabric.util.groupSVGElements(e,i)),this.totalIconsToLoad===this.numIconsLoaded&&(this.updateFabricObject().catch((()=>{})),this.fabricObject.setCoords())}onResizeWithRightHandle(t){return p(this,void 0,void 0,(function*(){const e=t.delta/this.fabricObject.scaleX;this.modelSnapshot.xSpacing+e<0||(yield this.updateModelSnapshot(),this.modelSnapshot.xSpacing+=e,this.refreshView(this.modelSnapshot))}))}onResizeWithLeftHandle(t){return p(this,void 0,void 0,(function*(){const e=t.delta/this.fabricObject.scaleX;this.modelSnapshot.xSpacing+e<0||(yield this.updateModelSnapshot(),this.modelSnapshot.xSpacing+=e,this.refreshView(this.modelSnapshot),this.modelSnapshot.x=this.fabricObject.left-t.delta*Math.cos((0,a.Ht)(this.fabricObject.angle)),this.modelSnapshot.y=this.fabricObject.top-t.delta*Math.sin((0,a.Ht)(this.fabricObject.angle)),this.fabricObject.set({left:this.modelSnapshot.x,top:this.modelSnapshot.y}))}))}onFabricObjectModified(){this.updateFromObject(Object.assign({xSpacing:this.modelSnapshot.xSpacing},this.getValuesOnFabricObjectModified())).catch((t=>{console.error(`Failed to update item on fabric object modified, Details:${JSON.stringify(t)}`)}))}getWrappedLines(){return this.layout.getWrappingInfo(this.fabricObject)}updateModelSnapshot(){return p(this,void 0,void 0,(function*(){const{xSpacing:t,x:e}=this.modelSnapshot;yield this.modelSnapshot.updateFromObject(this.toObject(),{undoable:!1,updateRedux:!1}),this.modelSnapshot.xSpacing=t,this.modelSnapshot.x=e}))}toObject(){return Object.assign(Object.assign({},super.toObject()),{itemIds:this.itemIds,copiedItemIds:this.copiedItemIds,iconsColor:this.iconsColor,iconsSize:this.iconsSize,wrappingInfo:this.wrappingInfo})}hasTableStyleBorder(){return this.layoutStyle===d.Tj.MENU_LAYOUT_4}updateCopiedItems(t){this.copiedItemIds=t}}const m=(t,e)=>{var i,s;const o=null===(s=null===(i=window.posterEditor)||void 0===i?void 0:i.whiteboard)||void 0===s?void 0:s.getCurrentPage();o&&o.items.addItems.addMenuItem(Object.assign({type:u.$d.MENU},(0,c.m)(t,e)),{},!0)}},45630:(t,e,i)=>{"use strict";i.d(e,{m:()=>a,n:()=>l});var s=i(460),o=i(1052),n=i(92461),r=i(96486);const a=(t,e)=>{const i=(0,r.cloneDeep)((0,o.bC)(e));Object.keys(i).forEach((e=>{var s;for(let o=0;o<t.length;o++){const r=null!==(s=t[o][e])&&void 0!==s&&s;i[e].push(new n.bL(e,r).toObject())}}));const s=t.map((t=>t.id));return{layoutDataMap:i,rows:t.length,columns:(0,o.uq)(e),itemIds:s,layoutStyle:e}},l=t=>{const e=[],i=t.layoutDataMap;for(let o=0;o<t.itemIds.length;o++)e.push({type:s.$z.USER_MENU_ITEM,id:`${t.itemIds[o]}`,name:i.name[o].getValue(),description:i.description[o].getValue(),price:i.price[o].getValue(),iconsList:i.iconsList[o].getValue(),variationsList:i.variationsList?i.variationsList[o].getValue():i.sizesList[o].getValue(),addOnsList:i.addOnsList[o].getValue(),categories:[],locations:[]});return e}},16156:(t,e,i)=>{"use strict";i.d(e,{$R:()=>c,w6:()=>h});var s=i(6172),o=i(92592),n=i(91171),r=i(56927),a=i(29311),l=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};class c extends(/^(2046|330|4840)$/.test(i.j)?s.ck:null){constructor(){super(...arguments),this.message="https://www.postermywall.com",this.qrForegroundColor=[0,0,0],this.qrBackgroundColor=[255,255,255],this.isBackgroundTransparent=!0,this.gitype=a.Z.QR_CODE,this.itemObjectHasDestructiveChanges=t=>t.message!==this.message||t.qrForegroundColor!==this.qrForegroundColor||t.isBackgroundTransparent!==this.isBackgroundTransparent||t.qrBackgroundColor!==this.qrBackgroundColor}isPDFSafe(){return l(this,void 0,void 0,(function*(){return!0}))}hasClickableLink(){return!1}toObject(){return Object.assign(Object.assign({},super.toObject()),{message:this.message,qrForegroundColor:this.qrForegroundColor,qrBackgroundColor:this.qrBackgroundColor,isBackgroundTransparent:this.isBackgroundTransparent})}getFabricObjectForItem(){return l(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{o.toString(this.message,{type:"svg",width:256,errorCorrectionLevel:"medium",margin:0,color:{light:this.isBackgroundTransparent?"#FFFFFF01":(0,n.KN)(this.qrBackgroundColor),dark:(0,n.KN)(this.qrForegroundColor)}}).then((i=>{window.fabric.loadSVGFromString(i,((i,s)=>{if(!i)return void e();const o=window.fabric.util.groupSVGElements(i,s);o.set(this.getCommonOptions()),t(o)}))})).catch((t=>e(t)))}))}))}}const h=()=>{var t,e;const i=null===(e=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===e?void 0:e.getCurrentPage();i&&i.items.addItems.addQRItem({type:r.$d.QR_CODE})}},63845:(t,e,i)=>{"use strict";i.d(e,{B:()=>c,H:()=>h});var s=i(89086),o=i(29311),n=i(57427);if(/^(2046|330|4840)$/.test(i.j))var r=i(99377);var a=i(56927),l=i(25154);class c extends(/^(2046|330|4840)$/.test(i.j)?s.Jy:null){constructor(t,e){super(t),this.gitype=o.Z.TEXTSLIDE,this.isNewSlide=!1,this.slideDuration=r.$,this.slideshow=e}getCommonOptions(){const t=super.getCommonOptions(),{left:e,top:i,opacity:s}=t;return function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i}(t,["left","top","opacity"])}applyFixForVersion3(){var t;if(this.visible=!0,this.isTextVersion2()){const e=null!==(t=this.slideshow.scaleX)&&void 0!==t?t:this.scaleX;this.baseWidth=this.width-(0,n.I3)(e)-this.getStrokeWidth()-this.list.width,this.version=s.SN.TEXT_VERSION_3}}getAppliedSidebarProps(){const t=this.textStyles.toObject();return delete t.script,{textStyles:t,aura:this.aura.toObject(),list:this.list.toObject(),background:this.background.toObject(),verticalAlign:this.verticalAlign,scaleX:this.scaleX,scaleY:this.scaleY}}toObject(){return Object.assign(Object.assign({},super.toObject()),{slideDuration:this.slideDuration,isNewSlide:this.isNewSlide})}getSlideDuration(){return this.slideDuration}setSlideDuration(t){this.slideDuration=t}isChildItem(){return!0}getColors(){return super.getColors()}}const h=()=>{var t,e;const i=null===(e=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===e?void 0:e.getCurrentPage();i&&(i.items.addItems.addTextSlideshowItem({type:a.$d.SLIDESHOW}),(0,l.G8)(l.Y4.ADD_SLIDESHOW))}},99377:(t,e,i)=>{"use strict";i.d(e,{$:()=>s});const s=3},68483:(t,e,i)=>{"use strict";i.d(e,{$N:()=>O,r8:()=>y,zy:()=>x});var s=i(6172),o=i(29311),n=i(91171),r=i(92461),a=i(1052),l=i(79963),c=i(49195),h=i(68736),d=i(22114),u=i(21226),p=i(98810),b=i(60660),g=i(56927),f=i(6730),m=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};class y extends(/^(2046|330|4840)$/.test(i.j)?s.ck:null){constructor(t){super(t),this.gitype=o.Z.TABLE,this.rows=0,this.columns=0,this.fontSize=0,this.layoutDataMap={},this.unusedData={},this.layoutStyle=f.Tj.TABLE_LAYOUT,this.alternateBackgroundColor1=[180,180,180],this.alternateBackgroundColor2=[0,0,0],this.alternateColor1Alpha=.5,this.alternateColor2Alpha=.5,this.highlightedBackgroundColor=[180,180,180],this.highlightedBackgroundColorAlpha=1,this.highlightedTextColor=[75,75,75],this.xSpacing=0,this.ySpacing=0,this.fontFamily2="",this.isBold2=!1,this.isItalic2=!1,this.underLine2=!1,this.lineThrough2=!1,this.backgroundType=0,this.backgroundColor=[184,184,184],this.backgroundColorAlpha=1,this.textStyles=new d.k7}setControlsVisibility(){super.setControlsVisibility(),this.fabricObject.setControlsVisibility({pmwBmBtn:!0})}initEvents(){super.initEvents(),this.fabricObject.on("pmwBmBtn:clicked",this.editItem.bind(this))}setFabricObject(t){this.fabricObject=t,this.fabricObject.__PMWID=this.uid,this.initEvents(),this.page.poster.isHighRes||this.updateItemDimensions(),this.setControlsVisibility()}initFabricObject(){const t=Object.create(null,{initFabricObject:{get:()=>super.initFabricObject}});return m(this,void 0,void 0,(function*(){yield this.loadFonts(),yield t.initFabricObject.call(this),this.refreshView(this),this.updateItemDimensions()}))}onItemDoubleClicked(){this.editItem()}editItem(){this.isCustomTableLayout()?(0,p.fZ)(this):(0,p.UD)(this)}updateFabricObject(){const t=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return m(this,void 0,void 0,(function*(){yield t.updateFabricObject.call(this),yield this.loadFonts(),this.refreshView(this)}))}getFabricObjectForItem(){return m(this,void 0,void 0,(function*(){return new Promise((t=>{t(new window.fabric.Table([],{perPixelTargetFind:!1,pmwBmBtnText:window.i18next.t("pmwjs_edit_item"),pmwBmBtnIcon:c.nI.editIcon,objectCaching:!this.page.poster.isHighRes}))}))}))}loadFonts(){return m(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{(0,h.rR)(this.getFonts(!0),(()=>{t()}),e)}))}))}toObject(){const t={},e={};for(const[e,i]of Object.entries(this.layoutDataMap)){t[e]=[];for(const s of i)t[e].push(s.toObject())}if(Object.keys(this.unusedData).length)for(const[t,i]of Object.entries(this.unusedData)){e[t]=[];for(const s of i)e[t].push(s.toObject())}return Object.assign(Object.assign({},super.toObject()),{textStyles:this.textStyles.toObject(),rows:this.rows,columns:this.columns,layoutDataMap:t,unusedData:e,layoutStyle:this.layoutStyle,alternateBackgroundColor1:this.alternateBackgroundColor1,alternateBackgroundColor2:this.alternateBackgroundColor2,alternateColor1Alpha:this.alternateColor1Alpha,alternateColor2Alpha:this.alternateColor2Alpha,highlightedBackgroundColor:this.highlightedBackgroundColor,highlightedBackgroundColorAlpha:this.highlightedBackgroundColorAlpha,highlightedTextColor:this.highlightedTextColor,xSpacing:this.xSpacing,ySpacing:this.ySpacing,fontFamily2:this.fontFamily2,isBold2:this.isBold2,isItalic2:this.isItalic2,underLine2:this.underLine2,lineThrough2:this.lineThrough2,backgroundType:this.backgroundType,backgroundColor:this.backgroundColor,backgroundColorAlpha:this.backgroundColorAlpha})}updateFromTableData(t){this.updateFromObject({layoutDataMap:(0,b.Mp)(t),columns:t.columns,rows:t.rows})}updateFromScheduleData(t){this.updateFromObject({layoutDataMap:(0,b.O5)(t),unusedData:(0,b.IV)(t),columns:t.columns,rows:t.rows,layoutStyle:t.layoutStyle})}getChangesOnLayoutChange(t){const e=this.getDataForLayout(t),i={columns:(0,a.uq)(t),layoutStyle:t,layoutDataMap:e.layoutDataMap,unusedData:e.unusedData};return t!==f.Tj.TABLE_LAYOUT&&this.hasAlternateColorBackground()&&(i.backgroundType=f.WC.COLOR),i}getDataForLayout(t){const e=(0,a.bC)(t),i={},s=Object.assign(Object.assign({},this.unusedData),this.layoutDataMap),o={};for(const[t,e]of Object.entries(s))o[t]=e.map((t=>t.toObject()));return Object.keys(e).forEach((t=>{i[t]=o[t],delete o[t]})),{layoutDataMap:i,unusedData:o}}copyVals(t){const{textStyles:e,layoutDataMap:i,unusedData:s}=t,o=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i}(t,["textStyles","layoutDataMap","unusedData"]);if(super.copyVals(o),this.textStyles.copyVals(e),i){this.layoutDataMap={};for(const[t,e]of Object.entries(i))if(this.layoutDataMap[t]=[],e)for(const i of e)this.layoutDataMap[t].push((0,r.$1)(i))}if(s){this.unusedData={};for(const[t,e]of Object.entries(s))if(this.unusedData[t]=[],e)for(const i of e)this.unusedData[t].push((0,r.$1)(i))}}refreshView(t){void 0!==this.layout&&t.layoutStyle===this.layout.getLayoutName()||(this.layout=(0,a.EN)(t.layoutStyle)),this.layout.setItems(this.fabricObject,t);const e={};e.fontSize=t.textStyles.fontSize,e.columns=y.getColumnsForTable(t),e.rows=t.rows,e.layoutType=this.layout.layoutType,$.extend(!0,e,this.textStyles.getTextStyles(this.fabricObject.width,this.fabricObject.height)),e.backgroundColor=(0,l.dF)(t),2===t.backgroundType?(e.alternateBackgroundColor1=(0,n.KN)(t.alternateBackgroundColor1,t.alternateColor1Alpha),e.alternateBackgroundColor2=(0,n.KN)(t.alternateBackgroundColor2,t.alternateColor2Alpha)):(e.alternateBackgroundColor1="",e.alternateBackgroundColor2="");const i=this.getHighlightedRowsData();e.highlightedRowsBackgroundColor=i.color,e.highlightedRows=i.rows,e.strokeWidth=0,e.strokeLineJoin="miter",t.border.solidBorderType>0?(e.strokeWidth=t.border.solidBorderThickness,e.stroke=(0,n.KN)(t.border.solidBorderColor,1),2===t.border.solidBorderType&&(e.strokeLineJoin="round")):e.strokeWidth=0,this.fabricObject.set(e),this.applyFontVariationOnTable(this.fabricObject),this.applyTextStrokeOnTable(this.fabricObject),this.layout.doLayout(this.fabricObject,t)}applyBorder(){}isCustomTableLayout(){return this.layoutStyle===f.Tj.CUSTOM_TABLE_LAYOUT}getHighlightedRowsData(){const t={color:(0,n.KN)(this.highlightedBackgroundColor,this.highlightedBackgroundColorAlpha),rows:[]},e=this.layoutDataMap.highlight;for(let i=0;i<e.length;i++)e[i].getValue()&&t.rows.push(i);return t}applyFontVariationOnTable(t){if([f.Tj.CUSTOM_TABLE_LAYOUT,f.Tj.TABLE_LAYOUT].includes(this.layout.layoutType))if(t instanceof window.fabric.Table||t instanceof window.fabric.Group){const e=t.getObjects();for(let t=0;t<e.length;t++)this.applyFontVariationOnTable(e[t])}else t instanceof window.fabric.IText&&(t.set(this.textStyles.getTextStyles(t.width,t.height)),this.applyTextEmphasisStylesOnTable(t))}applyTextEmphasisStylesOnTable(t){t.set({underline:this.textStyles.underLine}),t.set({linethrough:this.textStyles.lineThrough})}applyTextStrokeOnTable(t){if([f.Tj.CUSTOM_TABLE_LAYOUT,f.Tj.TABLE_LAYOUT].includes(this.layout.layoutType))if(t instanceof window.fabric.Table||t instanceof window.fabric.Group){const e=t.getObjects();for(let t=0;t<e.length;t++)this.applyTextStrokeOnTable(e[t])}else t instanceof window.fabric.IText&&(this.textStyles.stroke?t.set({stroke:(0,n.KN)(this.textStyles.strokeColor,1),strokeLineJoin:"round",paintFirst:"stroke",strokeWidth:t.fontSize*this.textStyles.strokeWidth*d.jK}):this.textStyles.isBold||t.set({stroke:null,strokeLineJoin:"miter",paintFirst:"fill",strokeWidth:d.tA}))}getColumns(){const t=Object.keys(this.layoutDataMap);return t.pop(),t}getFonts(t){const e=[t?(0,h.cr)(this.textStyles.fontFamily,this.textStyles.isBold,this.textStyles.isItalic):this.textStyles.fontFamily];return(0,a.d3)(this.layoutStyle)&&""!==this.fontFamily2&&(e[e.length]=t?(0,h.cr)(this.fontFamily2,this.isBold2,this.isItalic2):this.fontFamily2),e}hasAlternateColorBackground(){return this.backgroundType===f.WC.ALTERNATE}static getColumnsForTable(t){return!t.isCustomTableLayout()&&r.lT.TIME in t.layoutDataMap&&y.isTimeColumnDisabled(t)?t.columns-1:t.columns}static isTimeColumnDisabled(t){return t.layoutDataMap[r.lT.TIME][0].value.timeFormat===u.zt.DISABLE}getColors(){let t=super.getColors();return this.textStyles.fill.hasFill()&&(t=[...t,...this.textStyles.fill.fillColor]),1===this.backgroundType&&t.push(this.backgroundColor),t}}const x=t=>{var e,i;const s=null===(i=null===(e=window.posterEditor)||void 0===e?void 0:e.whiteboard)||void 0===i?void 0:i.getCurrentPage();s&&s.items.addItems.addTableItem(Object.assign({type:g.$d.TABLE},t),{},!0)},O=t=>{var e,i;const s=null===(i=null===(e=window.posterEditor)||void 0===e?void 0:e.whiteboard)||void 0===i?void 0:i.getCurrentPage();s&&s.items.addItems.addScheduleItem(Object.assign(Object.assign({},t),{type:g.$d.TABLE}),{},!0)}},60660:(t,e,i)=>{"use strict";i.d(e,{IV:()=>x,Mp:()=>m,O5:()=>y,QY:()=>l,WJ:()=>p,dU:()=>d,fs:()=>b,qw:()=>g,s6:()=>h,vJ:()=>c,xI:()=>u});var s=i(92461),o=i(1052),n=i(21226),r=i(69755),a=i(6730);const l=3,c=3,h=5,d=40,u=()=>{const t=[];for(let e=0;e<l;e++){const e=[];for(let t=0;t<c;t++)e.push(window.i18next.t("pmwjs_add_text"));t.push(e)}return t},p=(t,e)=>{const i=[],o=[];for(let n=0;n<e;n++){const e=[];Object.keys(t).forEach((i=>{if(i!==s.lT.HIGHLIGHT){const s=t[i][n].value?t[i][n].value:"";e.push(s)}else t[i][n].value&&o.push(n)})),i.push(e)}return{tableData:i,highlightedRows:o}},b=()=>{const t=[],e=[],i=n.t6.FORMAT_6,c=(0,o.bC)(a.Tj.SLANTED_SPORTS_LAYOUT);for(let o=0;o<l;o++){const o=[];Object.keys(c).forEach((t=>{t!==s.lT.HIGHLIGHT&&(o.push((0,r.Hb)(t,n.zt.STANDARD,i)),e.includes(t)||e.push(t))})),t.push(o)}return{unusedData:[],highlightedRows:[],tableData:t,columnData:e,dateFormat:i,columns:e.length,timeFormat:n.zt.STANDARD}},g=t=>{const e=t.layoutDataMap,i=f(t),o=[],r=[],a=[];let l,c=n.t6.FORMAT_1;for(let i=0;i<t.rows;i++){const t=[];Object.keys(e).forEach((o=>{if(o===s.lT.DATE){let s=e[o][i].value;s=Object.assign(Object.assign({},s),{type:o}),t.push(s),r.includes(o)||r.push(o),c=s.dateFormat}else if(o===s.lT.TIME){let s,a=e[o][i].value;s=a.timeFormat?a.timeFormat:a.meridiem.length?n.zt.STANDARD:n.zt.MILITARY,a=Object.assign(Object.assign({},a),{type:o,timeFormat:s}),l=a.timeFormat,t.push(a),r.includes(o)||r.push(o)}else if(o!==s.lT.HIGHLIGHT){const s=e[o][i].value?e[o][i].value:"";t.push({type:o,value:s}),r.includes(o)||r.push(o)}else e[o][i].value&&a.push(i)})),o.push(t)}return{tableData:o,columnData:r,dateFormat:c,columns:r.length,highlightedRows:a,unusedData:i.unusedData,timeFormat:l||i.timeFormat}},f=t=>{const e=t.unusedData,i=[];let o=n.zt.STANDARD;for(let a=0;a<t.rows;a++){const t=[];Object.keys(e).forEach((i=>{if(e[i][a])if(i===s.lT.TIME){let s,r=e[i][a].value;s=r.timeFormat?r.timeFormat:r.meridiem.length?n.zt.STANDARD:n.zt.MILITARY,r=Object.assign(Object.assign({},r),{type:i,timeFormat:s}),o=r.timeFormat,t.push(r)}else{const s=e[i][a].value?e[i][a].value:"";t.push({type:i,value:s})}else t.push((0,r.Hb)(i,o,void 0))})),i.push(t)}return{unusedData:i,timeFormat:o}},m=t=>{const{tableData:e}=t,i={};for(let o=0;o<t.rows;o++){for(let n=0;n<t.columns;n++){const t=e[o][n],r=`column${n}`;void 0===i[r]&&(i[r]=[]),i[r].push(new s.bL(r,t).toObject())}void 0===i[s.lT.HIGHLIGHT]&&(i[s.lT.HIGHLIGHT]=[]),i[s.lT.HIGHLIGHT].push(new s.bL(s.lT.HIGHLIGHT,t.highlightedRows.includes(o)).toObject())}return i},y=t=>{const{tableData:e}=t,i={};for(let o=0;o<t.rows;o++){for(let n=0;n<t.columns;n++){const r=t.columnsData[n];let a;a=r===s.lT.DATE||r===s.lT.TIME?e[o][n]:e[o][n].value,void 0===i[r]&&(i[r]=[]),i[r].push(new s.bL(r,a).toObject())}void 0===i[s.lT.HIGHLIGHT]&&(i[s.lT.HIGHLIGHT]=[]),i[s.lT.HIGHLIGHT].push(new s.bL(s.lT.HIGHLIGHT,t.highlightedRows.includes(o)).toObject())}return i},x=t=>{const e=t.unusedData,i={};for(let t=0;t<e.length;t++)for(let o=0;o<e[t].length;o++){const n=e[t][o].type;let r;r=n===s.lT.DATE||n===s.lT.TIME?e[t][o]:e[t][o].value,void 0===i[n]&&(i[n]=[]),i[n].push(new s.bL(n,r).toObject())}return i}},35397:(t,e,i)=>{"use strict";i.d(e,{Cx:()=>s,LM:()=>b,X8:()=>g});var s,o=i(6172),n=i(29311),r=i(91171),a=i(79963),l=i(68736),c=i(22114),h=i(60580),d=i(6730),u=i(56927),p=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID",t[t.DASHED=2]="DASHED"}(s||(s={}));class b extends(/^(2046|330|4840)$/.test(i.j)?o.ck:null){constructor(t){super(t),this.gitype=n.Z.TAB,this.text="",this.numTabs=0,this.separatorColor=[0,0,0],this.separatorType=0,this.backgroundType=0,this.backgroundColor=[184,184,184],this.backgroundColorAlpha=1,this.padding=25,this.textStyles=new c.k7}init(){return p(this,void 0,void 0,(function*(){this.isInitialzed||(yield this.initFabricObject(),this.onInitItem(),this.layout=new h.P,this.isInitialzed=!0)}))}initFabricObject(){const t=Object.create(null,{initFabricObject:{get:()=>super.initFabricObject}});return p(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{(0,l.rR)([this.textStyles.getFontFamilyToLoad()],(()=>p(this,void 0,void 0,(function*(){yield t.initFabricObject.call(this),e()}))),i)}))}))}updateFabricObject(){const t=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});return p(this,void 0,void 0,(function*(){yield t.updateFabricObject.call(this);const e=Object.assign(Object.assign({},yield this.getLoadedTextStyles(this.fabricObject.width,this.fabricObject.height)),{text:this.text,backgroundColor:(0,a.dF)(this)});this.removeSeparators(),this.addOrRemoveItems(),this.fabricObject.set(e),this.adjustFontSize(),this.layout.doLayout(this.fabricObject),this.separatorType!==s.NONE&&this.addSeparators(),this.applyFontVariationOnTabs(),this.textStyles.isBold||this.applyTextStrokeOnTabs()}))}getTextStyles(t,e){const i=this.textStyles.getTextStyles(t,e);return this.filterTextStylesForTab(i)}getLoadedTextStyles(t,e){return p(this,void 0,void 0,(function*(){const i=yield this.textStyles.getLoadedTextStyles(t,e);return this.filterTextStylesForTab(i)}))}filterTextStylesForTab(t){let e=t;null==e||delete e.fontSize;const i=this.textStyles.getFontFamilyToLoad(),s=!(l.y4[i]!==l.rx.LOADED)&&(0,l._X)(this.textStyles.fontFamily);return this.textStyles.isBold&&!s&&(e=Object.assign(Object.assign({},e),{strokeWidth:c.ul})),e}getFabricObjectForItem(){return p(this,void 0,void 0,(function*(){return new Promise((t=>{const e={width:this.width,height:this.height,perPixelTargetFind:!1};e.width=this.width,e.height=this.height,e.perPixelTargetFind=!1;const i=[];for(let t=0;t<this.numTabs;t++)i.push(new window.fabric.IText(this.text,{angle:90}));let s=this.y/this.width;s>1&&(s=1/s),this.padding=.045*this.width*s,this.padding<25&&(this.padding=25),t(new window.fabric.Tabs(i,e))}))}))}removeSeparators(){let t=this.fabricObject.getObjects();for(;t[t.length-1]instanceof window.fabric.Line;)this.fabricObject.remove(t[t.length-1]),t=this.fabricObject.getObjects()}addOrRemoveItems(){let t;const e=this.fabricObject.getObjects().length,i=this.numTabs;let s;if(e!==i){const o=i-e;if(o<0)for(t=0;t<Math.abs(o);t++)s=this.fabricObject.getObjects(),this.fabricObject.remove(s[s.length-1]);else for(t=0;t<o;t++)this.fabricObject.add(new window.fabric.IText("",{angle:90}))}}adjustFontSize(){const t=this.fabricObject.getObjects(),e=t.length,i=t[0],s=i._textLines.length*e;let o=(this.fabricObject.width-e*this.padding)/s;o>100&&(o=100),o<=8&&(o=8),this.fabricObject.set("fontSize",o),this.fabricObject.set({height:i.calcTextWidth()+2*this.fabricObject.padding})}addSeparators(){const t=this.fabricObject.getObjects(),e=t[0],i=t.length;let o=[];const n=.05*e.fontSize,a=e.calcTextWidth(),l=(0,r.KN)(this.separatorColor,1);if(this.separatorType===s.DASHED){const t=.2*e.fontSize;o=[t,t]}for(let e=0;e<i-1;e++)this.fabricObject.add(new window.fabric.Line([0,0,0,a],{stroke:l,strokeWidth:n,strokeDashArray:o,strokeLineCap:"round",angle:0,left:(t[e].getCenterPoint().x+t[e+1].getCenterPoint().x)/2,top:t[e].top}))}applyFontVariationOnTabs(){const t=this.fabricObject.getObjects(),e=t.length;for(let i=0;i<e;i++)if(t[i]instanceof window.fabric.IText){const e=this.getTextStyles(t[i].width,t[i].height);t[i].set(e),this.applyTextEmphasisStylesOnTabs(t[i])}}applyTextStrokeOnTabs(){const t=this.fabricObject.getObjects(),e=t.length;for(let i=0;i<e;i++)t[i]instanceof window.fabric.IText&&(this.textStyles.stroke?t[i].set({stroke:(0,r.KN)(this.textStyles.strokeColor,1),strokeLineJoin:"round",paintFirst:"stroke",strokeWidth:t[i].fontSize*this.textStyles.strokeWidth*c.jK}):t[i].set({stroke:null,strokeLineJoin:"miter",paintFirst:"fill",strokeWidth:c.tA}))}applyTextEmphasisStylesOnTabs(t){t.stroke&&!this.textStyles.stroke&&t.set({strokeWidth:t.strokeWidth*t.fontSize}),t.set({underline:this.textStyles.underLine}),t.set({linethrough:this.textStyles.lineThrough})}toObject(){return Object.assign(Object.assign({},super.toObject()),{text:this.text,textStyles:this.textStyles.toObject(),numTabs:this.numTabs,separatorColor:this.separatorColor,separatorType:this.separatorType,backgroundType:this.backgroundType,backgroundColor:this.backgroundColor,backgroundColorAlpha:this.backgroundColorAlpha})}copyVals(t){const{textStyles:e}=t,i=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i}(t,["textStyles"]);super.copyVals(i),this.textStyles.copyVals(e)}getFonts(t){return[t?(0,l.cr)(this.textStyles.fontFamily,this.textStyles.isBold,this.textStyles.isItalic):this.textStyles.fontFamily]}hasBackground(){return this.backgroundType!==d.WC.NONE}getColors(){let t=super.getColors();return this.textStyles.fill.hasFill()&&(t=[...t,...this.textStyles.fill.fillColor]),this.hasBackground()&&t.push(this.backgroundColor),t}}const g=()=>{var t,e;const i=null===(e=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===e?void 0:e.getCurrentPage();i&&i.items.addItems.addNewItems([{type:u.$d.TAB}])}},89086:(t,e,i)=>{"use strict";i.d(e,{Jy:()=>F,SN:()=>k,hp:()=>j,m7:()=>L,vq:()=>B});var s=i(57427),o=i(6172),n=i(29311),r=i(79963),a=i(49195);if(/^(2046|330|4840)$/.test(i.j))var l=i(47683);var c=i(91171),h=i(67677);if(/^(2046|330|4840)$/.test(i.j))var d=i(79565);var u=i(49432),p=i(56030),b=i(22114),g=i(67055),f=i(62678),m=i(81189),y=i(89091),x=i(20656),O=i(69568),w=i(56927),v=i(85518),T=i(68736),S=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))},C=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(i[s[o]]=t[s[o]])}return i};const j="10000",E=/^(2046|330|4840)$/.test(i.j)?[184,184,184]:null,I=/^(2046|330|4840)$/.test(i.j)?["BermudaSquiggle","PrincessSofiaRegular","Bevan"]:null;var k;!function(t){t[t.TEXT_VERSION_1=1]="TEXT_VERSION_1",t[t.TEXT_VERSION_2=2]="TEXT_VERSION_2",t[t.TEXT_VERSION_3=3]="TEXT_VERSION_3"}(k||(k={}));const M=26;let P=u.Cs.NONE;class F extends(/^(2046|330|4840)$/.test(i.j)?o.ck:null){constructor(t){super(t),this.gitype=n.Z.TEXT,this.text="",this.backgroundType=0,this.backgroundColor=[184,184,184],this.backgroundColorAlpha=1,this.editable=!0,this.baseWidth=0,this.fontSize=0,this.wrappedLines=[],this.verticalAlign=b.rN.TOP,this.verticalPadding=0,this.fabricBulletTextbox=null,this.version=k.TEXT_VERSION_3,this.clone=null,this.textChangedTimeout=0,this.textStyles=new b.k7,this.list=new u.Gn({})}fixChanges(){this.applyFixForUnsupportedFonts(),this.fixVersioningChanges(),this.updateBaseWidth()}fixVersioningChanges(){this.applyFixForVersion3(),this.page.poster.version<x.aj.HTML5&&this.textStyles.letterSpacing>0&&(this.width+=this.textStyles.letterSpacing),this.page.poster.version<x.aj.LEGACY&&(this.textStyles.leading=120)}updateFromObject(t,{updateRedux:e=!0,undoable:i=!0,doInvalidate:o=!0}={}){return S(this,void 0,void 0,(function*(){const{background:n}=t,r=C(t,["background"]);this.copyVals(r),yield this.ensureFontsAreLoaded(),void 0!==n?this.background?this.background.copyVals(n):this.background=yield(0,s._Q)(this.page,Object.assign(Object.assign(Object.assign({},this.getDefaultBackgroundProperties()),n),{width:1})):this.background||(this.background=yield(0,s._Q)(this.page,Object.assign(Object.assign({},this.getDefaultBackgroundProperties()),{width:1}))),yield this.init(),o&&(yield this.invalidate()),i&&this.page.poster.history.add(),e&&this.page.poster.redux.updateReduxData()}))}copyVals(t){const{textStyles:e,list:i,background:s}=t,o=C(t,["textStyles","list","background"]);super.copyVals(o),this.textStyles.copyVals(e),this.list.copyVals(i)}ensureFontsAreLoaded(){return S(this,void 0,void 0,(function*(){yield this.checkForFontsLoad(),yield this.checkForBulletsFontLoad()}))}updateBaseWidth(){0===this.baseWidth&&(0===this.width?(this.baseWidth=this.textStyles.fontSize*(this.text.length/2),this.width=this.baseWidth+2*this.getManualSelectorPadding()+b.tA):this.baseWidth=this.calculateBaseWidthFromWidth())}applyFixForVersion3(){this.isTextVersion1()&&(this.width=Number(this.width)+(0,s.I3)(this.scaleX)+b.tA,this.height=Number(this.height)+(0,s.UQ)(this.scaleY)+b.tA,this.x-=this.getHorizontalDisplacementForVersion2(),this.y-=this.getVerticalDisplacementForVersion2(),this.version=k.TEXT_VERSION_2),this.isTextVersion2()&&(this.baseWidth=this.calculateBaseWidthFromWidth(),this.version=k.TEXT_VERSION_3)}calculateBaseWidthFromWidth(){return this.width?this.width-(0,s.I3)(this.scaleX)-this.getStrokeWidth()-(this.list?this.list.width:0):0}applyFixForUnsupportedFonts(){-1!==I.indexOf(this.textStyles.fontFamily)&&(this.textStyles.fontFamily=b.iR),"MountainsOfChristmas"===this.textStyles.fontFamily&&(this.textStyles.fontFamily="MountainsofChristmas")}hasOldVersionBackground(){return 1===this.backgroundType}isTextVersion1(){return this.version===k.TEXT_VERSION_1}isTextVersion2(){return this.version===k.TEXT_VERSION_2}isTextEmpty(){return""===this.text}getHorizontalDisplacementForVersion2(){return Math.sqrt(2*Math.pow(11,2))*Math.cos(window.fabric.util.degreesToRadians(45+this.rotation))}getVerticalDisplacementForVersion2(){return Math.sqrt(2*Math.pow(11,2))*Math.sin(window.fabric.util.degreesToRadians(45+this.rotation))}getFonts(t){return[t?(0,T.cr)(this.textStyles.fontFamily,this.textStyles.isBold,this.textStyles.isItalic):this.textStyles.fontFamily]}hasUnsupportedText(){return S(this,void 0,void 0,(function*(){const t=this.getFonts(!0).map((t=>(0,O.o)(t,this.text)));return(yield Promise.all(t)).some((t=>!t))}))}hasBackground(){var t;return null===(t=this.background)||void 0===t?void 0:t.fill.hasFill()}isPDFSafe(){return S(this,void 0,void 0,(function*(){if("SANTORegular"===this.textStyles.fontFamily)return!1;try{const t=["arabic","hebrew"],e=yield this.hasUnsupportedText(),i=this.textStyles.letterSpacing>0&&(this.textStyles.underLine||this.textStyles.lineThrough)||this.textStyles.lineThrough&&this.textStyles.underLine||this.textStyles.stroke;return!(this.aura.hasAura()||this.list.isUnordered()||t.includes(this.textStyles.script)||e||i)}catch(t){return!1}}))}hasCenterHorizontalAlignment(){return this.textStyles.textAlign===b.zP.CENTER}hasRightHorizontalAlignment(){return this.textStyles.textAlign===b.zP.RIGHT}getDefaultBackgroundProperties(){return{gitype:n.Z.VECTOR,fileName:"804",source:h.a.PMW_SHAPES,fill:{fillType:g.fz.NONE,fillColor:[E]},border:{solidBorderThickness:0}}}toObject(){return Object.assign(Object.assign({},super.toObject()),{textStyles:this.textStyles.toObject(),baseWidth:this.baseWidth,fontFamily:this.textStyles.fontFamily,wrappedLines:this.wrappedLines,verticalAlign:this.verticalAlign,verticalPadding:this.verticalPadding,background:this.background.toObject(),list:this.list.toObject(),text:this.text,backgroundType:this.backgroundType,backgroundColor:this.backgroundColor,backgroundColorAlpha:this.backgroundColorAlpha})}initFabricObject(){const t=Object.create(null,{initFabricObject:{get:()=>super.initFabricObject}});return S(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{(0,T.rR)([this.textStyles.getFontFamilyToLoad()],(()=>S(this,void 0,void 0,(function*(){yield t.initFabricObject.call(this),this.addBackgroundToGroup(),e()}))),i)}))}))}addBackgroundToGroup(){this.setBackgroundParams(),this.fabricObject.insertAt(0,this.background.fabricObject)}setBackgroundParams(){var t;null===(t=this.background)||void 0===t||t.fabricObject.set({left:-this.fabricObject.width/2,top:-this.fabricObject.height/2,scaleX:this.fabricObject.width/this.background.fabricObject.width,scaleY:this.fabricObject.height/this.background.fabricObject.height})}init(){return S(this,void 0,void 0,(function*(){this.isInitialzed||(this.fixChanges(),yield this.initList(),yield this.initFabricObject(),this.onInitItem(),this.isInitialzed=!0)}))}initList(){return S(this,void 0,void 0,(function*(){return this.list=this.list?new u.Gn({fill:this.list.fill,type:this.list.type,style:this.list.style,width:this.list.width}):new u.Gn({}),this.list.hasList()?new Promise((t=>{(0,T.g9)(T.pG,(()=>{t()}))})):new Promise((t=>{t()}))}))}getBaseWidth(){const t=(0,s.OW)(this.fabricObject);return this.fabricObject.width-this.getBulletsWidth()-(0,s.I3)(t)-this.getStrokeWidth()}upgradeBackground(){this.background&&(this.background.fill.fillType=g.fz.NONE,this.background.fill.fillColor[0]=this.backgroundColor,this.background.fill.fillAlpha=this.backgroundColorAlpha)}onScaling(){this.updateFabricGroupHeight(),this.updateFabricGroupWidth(),this.setBackgroundParams(),this.setTextChildPosition()}initEvents(){super.initEvents(),this.fabricObject.on("scaling",this.onScaling.bind(this)),this.fabricObject.on("mousedown:before",this.onMouseDownBefore.bind(this)),this.fabricObject.on("mouseup",this.onMouseUp.bind(this)),this.fabricObject.on("pmwMr:moved",this.onResizeWithRightHandle.bind(this)),this.fabricObject.on("pmwMl:moved",this.onResizeWithLeftHandle.bind(this)),this.fabricObject.on("pmwMb:moved",this.onResizeWithBottomHandle.bind(this)),this.fabricObject.on("pmwMt:moved",this.onResizeWithTopHandle.bind(this)),this.fabricObject.on("deselected",this.onDeselected.bind(this))}onDeselected(){var t,e;null===(e=null===(t=this.page)||void 0===t?void 0:t.spellCheck)||void 0===e||e.clearSquigglyLineStyle(this.fabricTextbox)}getFabricObjectForItem(){const t=Object.create(null,{getCommonOptions:{get:()=>super.getCommonOptions}});return S(this,void 0,void 0,(function*(){return new Promise((e=>{var i;this.fabricTextbox=new window.fabric.Textbox(this.text,Object.assign(Object.assign({},this.textStyles.getTextStyles(this.baseWidth,100)),{statefullCache:!0,width:this.baseWidth,_fontSizeFraction:null!==(i=D[this.textStyles.fontFamily])&&void 0!==i?i:.18,targetFindTolerance:this.getPixelTargetFindTolerance()})),e(new window.fabric.Group([this.fabricTextbox],Object.assign(Object.assign({},t.getCommonOptions.call(this)),{width:this.calculateGroupWidth(),height:this.calculateGroupHeight(),useSelectedFlag:!0,selected:!1,delegateProperties:!1,caterCacheForTextChildren:!0,perPixelTargetFind:!0,targetFindTolerance:this.getPixelTargetFindTolerance()})))}))}))}getPixelTargetFindTolerance(){return v.tq?30:10}getSelectorPadding(){return 0}updateFabricObject(){const t=Object.create(null,{updateFabricObject:{get:()=>super.updateFabricObject}});var e,i;return S(this,void 0,void 0,(function*(){yield t.updateFabricObject.call(this),yield this.background.updateFabricObject(),this.fabricObject.set(this.getOptionsForGroupItem()),this.fabricTextbox.set(this.getOptionsForTextItem()),this.fabricTextbox.set(Object.assign(Object.assign({},this.textStyles.getTextStyles(this.fabricTextbox.width,this.fabricTextbox.height)),{text:this.text,width:this.baseWidth})),this.fabricTextbox.set("fontStyle",this.textStyles.getFontStyle()),this.fabricTextbox.hiddenTextarea&&(this.fabricTextbox.hiddenTextarea.value=this.text),this.applyTextStroke(this.fabricTextbox),this.setBulletPoints(),this.updateFabricGroupHeight(),this.updateFabricGroupWidth(),this.setBulletsPosition(),this.setBackgroundParams(),this.setCloneProperties(),this.setTextChildPosition(),this.clone&&(null===(i=null===(e=this.page)||void 0===e?void 0:e.spellCheck)||void 0===i||i.checkSpell(this.clone,!0).catch((()=>{})))}))}checkForFontsLoad(){return new Promise(((t,e)=>{(0,T.rR)([this.textStyles.getFontFamilyToLoad()],t,e)}))}checkForBulletsFontLoad(){return S(this,void 0,void 0,(function*(){return new Promise((t=>{this.list.hasList()?(0,T.g9)(T.pG,(()=>{t()})):t()}))}))}getActiveText(){return this.text}getOptionsForGroupItem(){return{width:this.width,height:this.height}}getOptionsForTextItem(){return{text:this.text,shadow:this.aura.getItemAura({shadowDistance:this.getShadowDistance()}),cursorWidth:this.editable?2:0,width:this.baseWidth,opacity:this.clone?0:1,cursorColor:this.getCursorColor(),_fontSizeFraction:this.textStyles.fontFamily in D?D[this.textStyles.fontFamily]:.18,cacheExpansionFactor:this.textStyles.fontFamily in A?A[this.textStyles.fontFamily]:1}}applyShadowToFabricObject(){}getCursorColor(){return`#${(0,c.vq)(this.textStyles.fill.fillColor[0])}`}onFabricObjectModified(){this.updateFromObject(Object.assign(Object.assign({},this.getValuesOnFabricObjectModified()),{baseWidth:this.fabricTextbox.width,verticalPadding:this.getVerticalPadding()})).catch((t=>{console.error(`Failed to update item on fabric object modified, Details:${JSON.stringify(t)}`)}))}getShadowDistance(){return Math.max(1,Math.floor(this.textStyles.fontSize/14))}applyTextStroke(t){this.textStyles.stroke?(t.set("strokeWidth",this.textStyles.fontSize*this.textStyles.strokeWidth*b.jK),t.set("strokeLineJoin","round"),t.set("paintFirst","stroke"),t.set("stroke",(0,c.KN)(this.textStyles.strokeColor,1))):this.textStyles.isBold||(t.set("strokeWidth",b.tA),t.set("strokeLineJoin","miter"),t.set("paintFirst","fill"),t.set("stroke",void 0))}setControlsVisibility(){super.setControlsVisibility();const t=this.isLocked();this.fabricObject.setControlsVisibility({pmwMr:!t,pmwMl:!t,pmwMt:!t,pmwMb:!t})}onMouseDownBefore(){this.fabricObject===this.page.activeSelection.getActiveObject()&&this.beforeEnterEditMode()}onMouseUp(t){t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button||this.onEnterEditMode(t.e)}enterEditMode(t){this.beforeEnterEditMode(),this.onEnterEditMode(t)}beforeEnterEditMode(){this.fabricObject.selected=!0}onEnterEditMode(t){var e;!this.clone&&this.fabricObject.selected&&this.editable&&(this.enterCloneEditMode(t),null===(e=this.clone)||void 0===e||e.selectAll())}onResizeWithRightHandle(t){const e=this.fabricObject.width+t.delta/this.fabricObject.scaleX;e<this.getMinWidth()||(this.fabricObject.set({width:e}),this.onModifyWidth())}onResizeWithLeftHandle(t){const e=this.fabricObject.width+t.delta/this.fabricObject.scaleX;e<this.getMinWidth()||(this.fabricObject.set({width:e,left:this.fabricObject.left-t.delta*Math.cos((0,l.Ht)(this.fabricObject.angle)),top:this.fabricObject.top-t.delta*Math.sin((0,l.Ht)(this.fabricObject.angle))}),this.onModifyWidth())}onResizeWithBottomHandle(t){const e=this.fabricObject.height+t.delta/this.fabricObject.scaleY;e<this.getMinHeight()||(this.fabricObject.set({height:e}),this.onModifyHeight())}onResizeWithTopHandle(t){const e=this.fabricObject.height+t.delta/this.fabricObject.scaleY;e<this.getMinHeight()||(this.fabricObject.set({height:e,left:this.fabricObject.left+t.delta*Math.sin((0,l.Ht)(this.fabricObject.angle)),top:this.fabricObject.top-t.delta*Math.cos((0,l.Ht)(this.fabricObject.angle))}),this.onModifyHeight())}enterCloneEditMode(t){var e,i;const s=this.page.fabricCanvas,o=s.getObjects().indexOf(this.fabricObject);this.clone=new window.fabric.Textbox(null!==(e=this.fabricTextbox.text)&&void 0!==e?e:"",{}),this.clone.__PMWID=this.uid,this.clone.padding=0,this.fabricTextbox.set("opacity",0),s.add(this.clone),s.moveObjectTo(this.clone,o+1),s instanceof window.fabric.Canvas&&s.setActiveObject(this.clone),this.clone.on("editing:entered",this.onTextEditModeEntered.bind(this)),this.clone.on("editing:exited",this.onEditingExited.bind(this)),this.clone.enterEditing(t),this.setCloneProperties(),(null===(i=this.clone)||void 0===i?void 0:i.hiddenTextarea)&&window.fabric.util.addListener(this.clone.hiddenTextarea,"paste",this.onPasteText.bind(this)),this.clone.on("changed",(()=>{var t;this.onCanvasTextChange(null===(t=this.clone)||void 0===t?void 0:t.text)})),this.clone.on("selection:changed",(()=>{var t,e;(0,y.D$)(this.clone)?(0,y.SF)(this.clone):(0,p.Zs)()&&this.clone?null===(e=null===(t=this.page)||void 0===t?void 0:t.spellCheck)||void 0===e||e.handleSuggestionPopupMenu(this.clone):(0,y.TM)()})),s.on("touch:dbltap",(()=>{(0,y.Ot)(this.clone)})),s.on("touch:longpress",(()=>{(0,y.Ot)(this.clone)}))}onPasteText(t){return S(this,void 0,void 0,(function*(){(yield(0,f.E)())&&(null==t||t.preventDefault());const e=yield B();if(this.clone&&e){const t=this.clone.selectionStart;P=yield(0,u.FZ)();const i=this.clone.text,s=i.substring(0,this.clone.selectionStart)+e+i.substring(this.clone.selectionEnd,i.length);this.onCanvasTextChange(s),this.clone.selectionStart=t+e.length,this.clone.selectionEnd=t+e.length}}))}onCanvasTextChange(t=""){var e,i;if(this.textChangedTimeout>0&&window.clearTimeout(this.textChangedTimeout),this.clone){const o={width:this.clone.width+this.clone.strokeWidth,height:this.clone.height+this.clone.strokeWidth},n=this.clone.height+this.clone.strokeWidth+(0,s.UQ)(this.fabricObject.scaleY),r=Math.min(Math.max(this.fabricObject.height-n,0),this.verticalPadding),a=this.clone.getCenterPoint(),l=this.fabricObject.aCoords.bl;if(this.clone.width=Math.max(null!==(e=this.clone.dynamicMinWidth)&&void 0!==e?e:0,this.baseWidth),P&&!(null===(i=this.list)||void 0===i?void 0:i.type)){const t=this.getDefaultList();t.type=P,this.list=t}this.setBulletPoints(!0),this.updateGroupDimensions(o,r);const c=this.getUpdatedModelCoords(a,l,this.clone);this.fabricObject.set({left:null==c?void 0:c.x,top:null==c?void 0:c.y}),this.setBulletsPosition(),this.clone.set(this.getTextCloneAbsolutePosition(this.clone)),this.setBackgroundParams(),this.textChangedTimeout=window.setTimeout(this.updateText.bind(this,t,c,r),500)}}updateText(t="",e={x:this.x,y:this.y},i=this.verticalPadding){this.updateFromObject({text:t,width:this.fabricObject.width,height:this.fabricObject.height,verticalPadding:i,x:e.x,y:e.y,textStyles:this.textStyles.getLanguageScriptAndFontForText(t)})}updateActiveText(t=""){this.updateText(t)}getUpdatedModelCoords(t,e,i){switch(this.verticalAlign){case b.rN.TOP:return this.getCoordsForTopVerticalAlign();case b.rN.CENTER:return this.getCoordsForCenterVerticalAlign(t,i);case b.rN.BOTTOM:return this.getCoordsForBottomVerticalAlign(e);default:throw new Error("Invalid text align type")}}getCoordsForTopVerticalAlign(){var t;const e=this.hasParentGroupGraphicItem()?this.fabricObject.group:this.fabricObject;if(e){const i=e.getCenterPoint(),s=window.fabric.util.degreesToRadians(null!==(t=e.angle)&&void 0!==t?t:0);return{x:i.x-this.fabricObject.width*e.scaleX/2*Math.cos(s)+this.fabricObject.height*e.scaleY/2*Math.sin(s),y:i.y-this.fabricObject.width*e.scaleY/2*Math.sin(s)-this.fabricObject.height*e.scaleY/2*Math.cos(s)}}return{}}getCoordsForCenterVerticalAlign(t,e){var i;const s=this.hasParentGroupGraphicItem()&&null!==(i=this.fabricObject.group)&&void 0!==i?i:this.fabricObject,o=this.fabricObject.width-this.getBulletsWidth(e),n=window.fabric.util.degreesToRadians(s.angle);return{x:t.x-o*s.scaleX/2*Math.cos(n)+this.fabricObject.height*s.scaleY/2*Math.sin(n)-this.getBulletsWidth(e)*s.scaleX*Math.cos(n),y:t.y-o*s.scaleY/2*Math.sin(n)-this.fabricObject.height*s.scaleY/2*Math.cos(n)-this.getBulletsWidth(e)*s.scaleY*Math.sin(n)}}getCoordsForBottomVerticalAlign(t){var e;const i=this.hasParentGroupGraphicItem()&&null!==(e=this.fabricObject.group)&&void 0!==e?e:this.fabricObject,s=(0,l.Ht)(i.angle);return{x:t.x+this.fabricObject.height*i.scaleX*Math.sin(s),y:t.y-this.fabricObject.height*i.scaleY*Math.cos(s)}}updateGroupDimensions(t,e){this.fabricObject.set({height:t.height+(0,s.UQ)(this.fabricObject.scaleY)+e,width:t.width+(0,s.I3)(this.fabricObject.scaleX)+this.getBulletsWidth(this.clone)})}setCloneProperties(){var t;if(null!==this.clone){this.clone.hiddenTextarea&&(this.clone.hiddenTextarea.value=null!==(t=this.fabricTextbox.text)&&void 0!==t?t:""),this.clone.set("text",this.text),this.clone.set(this.textStyles.getTextStyles(this.clone.width,this.clone.height));const e=Object.assign(Object.assign({},this.getCommonOptions()),this.getPropertiesForClone());this.clone.set(e),this.applyTextStroke(this.clone),this.clone.set(this.getTextCloneAbsolutePosition(this.clone)),this.page.fabricCanvas.moveObjectTo(this.clone,this.page.fabricCanvas.getObjects().indexOf(this.fabricObject)+1),this.clone.setCoords()}}getPropertiesForClone(){return{_fontSizeFraction:this.fabricTextbox._fontSizeFraction,cacheExpansionFactor:this.fabricTextbox.cacheExpansionFactor,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,hasControls:!1,cursorColor:this.getCursorColor(),cursorWidth:this.fabricTextbox.cursorWidth,fontSize:this.fabricTextbox.fontSize,width:this.fabricTextbox.width,fill:this.fabricTextbox.fill,shadow:this.fabricTextbox.shadow,dirty:!0}}doesfabricObjBelongtoItem(t){return this.fabricObject===t||this.fabricTextbox===t||this.clone===t}onTextEditModeEntered(){var t,e;this.clone&&this.clone.hiddenTextarea&&(this.clone.hiddenTextarea.setAttribute("maxlength",j),null===(e=null===(t=this.page)||void 0===t?void 0:t.spellCheck)||void 0===e||e.checkSpell(this.clone,!0).catch((()=>{})))}onEditingExited(){var t,e;this.clone&&(this.page.fabricCanvas.remove(this.clone),this.fabricTextbox.set({opacity:1}),this.clone=null,null===(e=null===(t=this.page)||void 0===t?void 0:t.spellCheck)||void 0===e||e.closeSuggestionPopUp(),(0,y.TM)())}getTextChildAbsolutePosition(t){var e;const i=this.hasParentGroupGraphicItem()&&null!==(e=this.fabricObject.group)&&void 0!==e?e:this.fabricObject,s=t.getCornerPoints(i.getCenterPoint());let o,n,r;switch(i&&i.setCoords(),this.verticalAlign){case b.rN.TOP:o=(0,l.Ht)(45+i.angle),n=Math.sqrt(2*Math.pow(a.lf.PMW_CONTROL_PADDING,2)),r={top:i.aCoords.tl.y+n*Math.sin(o),left:i.aCoords.tl.x+n*Math.cos(o)};break;case b.rN.CENTER:r={top:(s.tl.y+s.bl.y)/2,left:(s.tl.x+s.bl.x)/2};break;case b.rN.BOTTOM:o=(0,l.Ht)(45+i.angle),n=Math.sqrt(2*Math.pow(a.lf.PMW_CONTROL_PADDING,2)),r={top:i.aCoords.bl.y-n*Math.cos(o),left:i.aCoords.bl.x+n*Math.sin(o)};break;default:throw new Error("Invalid text align type")}return r.originY=this.verticalAlign,r}getPaddedTextChildAbsolutePosition(t){var e;const i=this.hasParentGroupGraphicItem()&&null!==(e=this.fabricObject.group)&&void 0!==e?e:this.fabricObject,s=t.getCornerPoints(i.getCenterPoint());let o;switch(i&&i.setCoords(),this.verticalAlign){case b.rN.TOP:o={top:i.aCoords.tl.y,left:i.aCoords.tl.x};break;case b.rN.CENTER:o={top:(s.tl.y+s.bl.y)/2,left:(s.tl.x+s.bl.x)/2};break;case b.rN.BOTTOM:o={top:i.aCoords.bl.y,left:i.aCoords.bl.x};break;default:throw new Error("Invalid text align type")}return o.originY=this.verticalAlign,o}getTextCloneAbsolutePosition(t){var e;const i=this.hasParentGroupGraphicItem()&&null!==(e=this.fabricObject.group)&&void 0!==e?e:this.fabricObject,s=this.getTextChildAbsolutePosition(t),o=(0,l.Ht)(90-i.angle),n=this.getBulletsWidth(t)*i.scaleX;return this.verticalAlign===b.rN.CENTER?(s.top+=n*Math.cos(o)/2,s.left+=n*Math.sin(o)/2):(s.top+=n*Math.cos(o),s.left+=n*Math.sin(o)),s.originY=this.verticalAlign,s}getMinWidth(){var t,e;const i=this.hasParentGroupGraphicItem()&&null!==(e=null===(t=this.fabricObject.group)||void 0===t?void 0:t.scaleX)&&void 0!==e?e:this.fabricObject.scaleX;return this.fabricTextbox.getMinWidth()+this.getBulletsWidth()+this.fabricTextbox.strokeWidth+(0,s.I3)(i)}onModifyWidth(){this.updateTextChildWidth(),this.setBulletPoints(),this.setBulletsPosition(),this.updateFabricGroupHeight(),this.setTextChildPosition(),this.setBackgroundParams()}updateTextChildWidth(){this.fabricTextbox.set({width:this.calculateBaseWidth()})}calculateGroupWidth(){const t=(0,s.OW)(this.fabricObject);return this.getTextStrokedWidth()+(0,s.I3)(t)+this.getBulletsWidth()}calculateGroupHeight(){const t=(0,s.uL)(this.fabricObject);return this.getTextStrokedHeight()+(0,s.UQ)(t)+this.verticalPadding}calculateBaseWidth(){const t=(0,s.OW)(this.fabricObject);return this.fabricObject.width-this.getBulletsWidth()-(0,s.I3)(t)-this.getStrokeWidth()}getStrokeWidth(){return this.textStyles.isBold&&!(0,T._X)(this.textStyles.fontFamily)?(0,r.j7)(this):this.textStyles.stroke?this.getOutlineStrokeWidth():b.tA}getOutlineStrokeWidth(){return b.jK*this.textStyles.fontSize*this.textStyles.strokeWidth}getManualSelectorPadding(){return a.lf.PMW_CONTROL_PADDING}updateFabricGroupHeight(){this.fabricObject.height=this.calculateGroupHeight()}updateFabricGroupWidth(){this.fabricObject.width=this.calculateGroupWidth()}getTextStrokedWidth(){return this.fabricTextbox.width+this.fabricTextbox.strokeWidth}getTextStrokedHeight(){return this.fabricTextbox.height+this.fabricTextbox.strokeWidth}setTextChildPosition(){this.setTextTopPositionByVerticalAlignment(),this.setTextLeftPosition()}setTextTopPositionByVerticalAlignment(){const t=(0,s.uL)(this.fabricObject);switch(this.verticalAlign){case b.rN.TOP:this.fabricTextbox.set({top:-this.fabricObject.height/2+(0,s.as)(t)});break;case b.rN.CENTER:this.fabricTextbox.set({top:-this.getTextStrokedHeight()/2});break;case b.rN.BOTTOM:this.fabricTextbox.set({top:this.fabricObject.height/2-(0,s.as)(t)-this.getTextStrokedHeight()});break;default:throw new Error("Invalid text align type")}}setTextLeftPosition(){const t=(0,s.OW)(this.fabricObject);this.fabricTextbox.set({left:-this.fabricObject.width/2+this.getBulletsWidth()+(0,s.jJ)(t)})}getMinHeight(){var t,e;const i=this.hasParentGroupGraphicItem()&&null!==(e=null===(t=this.fabricObject.group)||void 0===t?void 0:t.scaleY)&&void 0!==e?e:this.fabricObject.scaleY;return this.getTextStrokedHeight()+(0,s.UQ)(i)}onModifyHeight(){this.setBulletsPosition(),this.setTextChildPosition(),this.setBackgroundParams()}getVerticalPadding(){var t,e;const i=this.hasParentGroupGraphicItem()&&null!==(e=null===(t=this.fabricObject.group)||void 0===t?void 0:t.scaleY)&&void 0!==e?e:this.fabricObject.scaleY;return this.fabricObject.height-this.getTextStrokedHeight()-(0,s.UQ)(i)}setBulletPoints(t=!1){this.fabricBulletTextbox&&(this.fabricObject.remove(this.fabricBulletTextbox),this.fabricBulletTextbox=null),this.list.type&&(this.fabricBulletTextbox=new window.fabric.Textbox("",{}),this.fabricObject.insertAt(2,this.fabricBulletTextbox),this.fabricBulletTextbox.__PMWID=this.uid,this.setBulletsProperties(this.fabricBulletTextbox),this.setBulletsText(this.fabricBulletTextbox,t,this.shouldBulletsObjectHaveText()),this.applyBulletColor(),this.shouldBulletsObjectHaveText()||this.fabricBulletTextbox.set({width:this.fabricBulletTextbox.calcTextWidth()}))}setBulletsProperties(t){var e,i;const s=this.getBulletsProperties(),o=this.slideshow?null!==(e=this.slideshow.clone)&&void 0!==e?e:this.fabricTextbox:null!==(i=this.clone)&&void 0!==i?i:this.fabricTextbox,n=new window.fabric.Textbox("",{});t.set(s),n.set(s),t.set("shadow",this.aura.getItemAura({shadowDistance:this.getShadowDistance()})),this.setBulletsText(n),this.list.isOrdered()&&this.applyFontVariationForBullets(),this.shouldBulletsObjectHaveText()&&t.set("width",o.width+n.calcTextWidth())}setBulletsText(t,e=!1,i=!1){let s;s=this.slideshow?e&&this.slideshow.clone?this.slideshow.clone:this.fabricTextbox:e&&this.clone?this.clone:this.fabricTextbox;let o=1,n=!1,r="";for(let e=0;e<s._textLines.length;e++){let a=r.length;n?s.isEndOfWrapping(e)&&(n=!1,o+=1):(r+=this.getBulletTextboxLineText(o),a=r.length,r+=i?s.textLines[e]:"",n=!s.isEndOfWrapping(e),n||(o+=1)),s._textLines.length!==e+1&&(r+="\n"),t.set("text",r),this.list.isUnordered()&&t.setSelectionStyles({fontFamily:"bullets"},a-1,a),this.shouldBulletsObjectHaveText()&&(t.setSelectionStyles({fill:"rgba(0,0,0,0)"},a,r.length),t.setSelectionStyles({stroke:"rgba(0,0,0,0)"},a,r.length))}}getBulletTextboxLineText(t){var e;return this.list?this.list.isUnordered()&&u.aC.has(this.list.style)?(0,d.JB)(null!==(e=u.aC.get(this.list.style))&&void 0!==e?e:""):`${this.getOrderedBulletStyle(t)}.`:""}getOrderedBulletStyle(t){switch(this.list.style){case u.v5.NUMBERED_DECIMAL:return t.toString();case u.v5.NUMBERED:return t<10?`0${t}`:t.toString();case u.v5.ALPHA_UPPER:if(t%M!=0){let e=String.fromCharCode("@".charCodeAt(0)+t%M);return e=Math.floor(t/M)>0?e.repeat(Math.floor(t/M)+1):e,e}return String.fromCharCode("@".charCodeAt(0)+M).repeat(Math.floor(t/M));case u.v5.ALPHA_LOWER:if(t%M!=0){let e=String.fromCharCode("`".charCodeAt(0)+t%M);return e=Math.floor(t/M)>0?e.repeat(Math.floor(t/M)+1):e,e}return String.fromCharCode("`".charCodeAt(0)+M).repeat(Math.floor(t/M));case u.v5.ROMAN_UPPER:return(0,l.ix)(t);case u.v5.ROMAN_LOWER:return(0,l.ix)(t).toLowerCase();default:throw new Error(`Invalid ordered bullet style: ${this.list.style}`)}}getBulletsProperties(){return{lineHeight:this.fabricTextbox.lineHeight,opacity:this.alpha,editable:!1,fontSize:this.fabricTextbox.fontSize,fontFamily:this.fabricTextbox.fontFamily,_fontSizeFraction:this.fabricTextbox._fontSizeFraction,textAlign:this.shouldBulletsObjectHaveText()?this.textStyles.textAlign:b.zP.RIGHT}}shouldBulletsObjectHaveText(){return this.hasCenterHorizontalAlignment()||this.hasRightHorizontalAlignment()}applyFontVariationForBullets(){if(this.fabricBulletTextbox){const t=(0,T.cr)(this.textStyles.fontFamily,this.textStyles.isBold,this.textStyles.isItalic),e=T.y4[t]===T.rx.LOADED,i=!!e&&(0,T._X)(this.textStyles.fontFamily),s=!!e&&(0,T.MR)(this.textStyles.fontFamily);if(this.fabricBulletTextbox.set("fontStyle",this.textStyles.isItalic&&!s?T.Hy.ITALIC:b.RD),this.list&&this.textStyles.isBold&&!i){let t,e;this.list.hasLinearGradientBulletFill()?(t=(0,g.dC)(this.fabricBulletTextbox.height,this.list.fill.fillColor),e=new window.fabric.Gradient(t)):this.list.hasRadialGradientBulletFill()?(t=(0,g.BT)(this.fabricBulletTextbox.width,this.fabricBulletTextbox.height,this.list.fill.fillColor),e=new window.fabric.Gradient(t)):e=(0,c.KN)(this.list.fill.fillColor[0],1),this.fabricBulletTextbox.set("stroke",e),this.fabricBulletTextbox.set("strokeLineJoin","round"),this.fabricBulletTextbox.set("strokeWidth",(0,r.j7)(this))}else this.fabricBulletTextbox.set("strokeWidth",b.tA),this.fabricBulletTextbox.set("strokeLineJoin","miter"),this.fabricBulletTextbox.set("stroke",void 0)}}applyBulletColor(){var t;if(this.list&&this.fabricBulletTextbox){const e=null!==(t=this.clone)&&void 0!==t?t:this.fabricTextbox;this.list.hasLinearGradientBulletFill()?this.fabricBulletTextbox.set("fill",new window.fabric.Gradient((0,g.dC)(e.height,this.list.fill.fillColor))):this.list.hasRadialGradientBulletFill()?this.fabricBulletTextbox.set("fill",new window.fabric.Gradient((0,g.BT)(e.width,e.height,this.list.fill.fillColor))):this.fabricBulletTextbox.set("fill",(0,c.KN)(this.list.fill.fillColor[0],1))}}setBulletsPosition(t=this.clone){if(this.fabricBulletTextbox){const e=()=>{const e=null!=t?t:this.fabricTextbox;return e.height+e.strokeWidth},i=(0,s.OW)(this.fabricObject),o=(0,s.uL)(this.fabricObject);let n;switch(this.fabricBulletTextbox.set("left",-this.fabricObject.width/2+(0,s.jJ)(i)),this.verticalAlign){case b.rN.TOP:n=-this.fabricObject.height/2+(0,s.as)(o);break;case b.rN.BOTTOM:n=this.fabricObject.height/2-(0,s.as)(o)-e();break;case b.rN.CENTER:n=-e()/2;break;default:throw new Error("Invalid text align type")}n-=this.list.isUnordered()?this.textStyles.fontSize/16:0,this.fabricBulletTextbox.set("top",n),this.fabricBulletTextbox.setCoords()}}getBulletsWidth(t){let e=0;const i=t||this.fabricTextbox;return this.fabricBulletTextbox&&(e=this.fabricBulletTextbox.width+this.textStyles.fontSize/4,e-=this.shouldBulletsObjectHaveText()?i.width:0),e}getFill(){return this.fabricTextbox.fill}hasEditMode(){return!0}getDefaultList(){const t=new u.Gn(this.list.toObject());return t.type=u.Cs.UNORDERED,t.style=u.n6.CIRCLE_1,t.fill=this.list.fill,t}getColors(){let t=super.getColors();return this.textStyles.fill.hasFill()&&(t=[...t,...this.textStyles.fill.fillColor]),this.hasBackground()&&(t=[...t,...this.background.fill.fillColor]),t}}const L=()=>{var t,e;const i=null===(e=null===(t=window.posterEditor)||void 0===t?void 0:t.whiteboard)||void 0===e?void 0:e.getCurrentPage();i&&i.items.addItems.addTextItem({type:w.$d.TEXT})},B=()=>S(void 0,void 0,void 0,(function*(){let t;try{t=yield navigator.clipboard.readText()}catch(t){return}try{const e=JSON.parse(t),i=(0,m.q)(e);return i&&1===i.graphicItemObjects.length&&i.graphicItemObjects[0].gitype===n.Z.TEXT?i.graphicItemObjects[0].text:void 0}catch(e){return t}})),D={AccidentalPresidency:.18,Acknowledgement:.3,AdventProRegular:.15,AgentOrange:.285,AlexBrushRegular:.285,AnimeAce:.27,AnuDaw:.235,ArbuckleRemix:.38,ArchivoBlackRegular:.39,AsapRegular:.18,AYummyApology:.39,Bangers:.22,BerkshireSwashRegular:.12,BigApple:.31,Blackout2am:.35,BlackoutMidnight:.28,BlackRose:.21,BostonTraffic:.29,BowlbyOneSCRegular:.04,BubbleBoy2:0,BurnstownDam:.42,CACChampagne:.34,Caeldera:.39,Chancery:0,Chopin:0,Chumbly:.45,Coda:.28,ComingSoon:.35,Concielian:.42,DayPosterBlack:.02,DigitalDream:.34,Effloresce:.29,EraserRegular:.15,FingerPaintRegular:.02,FrijoleRegular:.1,FugazOneRegular:.08,GermaniaOneRegular:.22,HamburgerHeaven:.18,HennyPennyRegular:0,HoltwoodOneSC:-.08,JockeyOneRegular:.05,JosefinSlabRegular:.39,KaushanScriptRegular:.03,LeagueSpartanBold:.38,LemonRegular:.09,LiberationSerif:.42,Liquidism:.34,LoveYaLikeASister:.2,MerriweatherSansRegular:.15,MetalLord:.38,MetalManiaRegular:.19,Monoton:-.05,MountainsofChristmas:.2,MouseMemoirsRegular:.18,NixieOneRegular:.18,Oklahoma:.1,OldStandardRegular:.36,OpenSansRegular:.36,OperatingInstructions:.36,OriginalSurferRegular:.14,PaprikaRegular:-.03,PompiereRegular:.19,Porter:.38,Primitive:.2,SacramentoRegular:.2,SancreekRegular:.09,SevenMonkeyFury:.23,SFCollegiate:.34,SFSpeedwaystar:.45,ShadowsIntoLightTwoRegular:.02,Shermlock:.065,SirinStencilRegular:-.05,SixCaps:.025,SmokumRegular:.14,SoftSugar:.325,Solov2:.42,SpecialElite:.42,SpiraxRegular:.19,Sveningsson:.19,TagsXtreme:.36,Titania:.22,TulpenOneRegular:.25,Ultra:.12,WaitingfortheSunrise:0,Windsong:.32},A={AmsterdamOne:2.6}},7074:(t,e,i)=>{"use strict";i.d(e,{C:()=>s,H:()=>o});const s=1,o=999},97488:(t,e,i)=>{"use strict";if(i.d(e,{Ls:()=>r,Sk:()=>a,Wq:()=>l,hG:()=>c,o7:()=>o,wR:()=>n}),/^(2046|330|4840)$/.test(i.j))var s=i(81679);const o=/^(2046|330|4840)$/.test(i.j)?[0,0,0,1]:null,n="pencil",r="circle",a="spray",l="eraser";class c extends(/^(2046|330|4840)$/.test(i.j)?s.v:null){constructor(){super(...arguments),this.strokeColor=[...o],this.strokeWeight=10,this.brush=n}toObject(){return{strokeColor:this.strokeColor,strokeWeight:this.strokeWeight,brush:this.brush}}}},46714:(t,e,i)=>{"use strict";var s,o,n;i.d(e,{Ew:()=>s,MR:()=>n,Sw:()=>o,v2:()=>r}),function(t){t.TOP="top",t.BOTTOM="bottom",t.CENTER="center"}(s||(s={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(o||(o={})),function(t){t.CENTER="center",t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"}(n||(n={}));class r{constructor(t){this.page=t}horizontalAlignment(t){const e=this.page.activeSelection.getActiveObjects();if(!e||0===e.length)return;const i=this.page.activeSelection.getActiveObject();i&&i.horizontalAlignment(t)}verticalAlignment(t){const e=this.page.activeSelection.getActiveObjects();if(!e||0===e.length)return;const i=this.page.activeSelection.getActiveObject();i&&i.verticalAlignment(t)}alignItems(t,e=!0){const i=this.page.activeSelection.getActiveObject();if(!i)return;const s=this.page.getSelectedItems(),o=s.length>1,r=this.page.fabricCanvas.getCenter(),a=i.getCenterPoint(),l=new window.fabric.Point({x:0,y:0});switch(t){case n.VERTICAL:l.x=a.x,l.y=r.top/this.page.poster.scaling.scale;break;case n.HORIZONTAL:l.x=r.left/this.page.poster.scaling.scale,l.y=a.y;break;case n.CENTER:l.x=r.left/this.page.poster.scaling.scale,l.y=r.top/this.page.poster.scaling.scale;break;case n.LEFT:{const t=i.getCornerPoints(a),e=Math.min(t.tl.x,t.tr.x,t.bl.x,t.br.x);l.x=a.x-e+10,l.y=a.y;break}case n.RIGHT:{const t=i.getCornerPoints(a),e=Math.max(t.tl.x,t.tr.x,t.bl.x,t.br.x);l.x=a.x+this.page.fabricCanvas.width/this.page.poster.scaling.scale-e-10,l.y=a.y;break}case n.TOP:{const t=i.getCornerPoints(a),e=Math.min(t.tl.y,t.tr.y,t.bl.y,t.br.y);l.x=a.x,l.y=a.y-e+10;break}case n.BOTTOM:{const t=i.getCornerPoints(a),e=Math.max(t.tl.y,t.tr.y,t.bl.y,t.br.y);l.x=a.x,l.y=a.y+this.page.fabricCanvas.height/this.page.poster.scaling.scale-e-10;break}default:return}const c=i.getCornerPoints(l);o?(i.set({left:Math.round(c.tl.x),top:Math.round(c.tl.y)}),this.page.activeSelection.updateVisuals(this.page.activeSelection.getSelectedViews(),i,e)):s[0].updateFromObject({x:Math.round(c.tl.x),y:Math.round(c.tl.y)},{undoable:e})}}},98577:(t,e,i)=>{"use strict";if(i.d(e,{A:()=>n,O:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(81679);var o;!function(t){t.COLOR="color",t.IMAGE="image"}(o||(o={}));class n extends(/^(2046|330|4840)$/.test(i.j)?s.v:null){constructor(t){super(),this.page=t}updateFromObject(t,{updateRedux:e=!0,undoable:i=!0,doInvalidate:s=!0}={}){return o=this,n=void 0,a=function*(){this.copyVals(t),s&&(yield this.invalidate()),i&&this.page.poster.history.add(),e&&this.page.poster.redux.updateReduxData()},new((r=void 0)||(r=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r((function(t){t(o)}))).then(i,s)}l((a=a.apply(o,n||[])).next())}));var o,n,r,a}isImage(){return this.type===o.IMAGE}isColor(){return this.type===o.COLOR}onBackgroundCreated(){}}},58343:(t,e,i)=>{"use strict";i.d(e,{i:()=>o});const s=30,o=t=>{const e={text:"",textWidth:0,coords:void 0},i=t.getSelectionContext();function s(s){if(!s.transform||!s.target)return;const o=s.target,a=n(o,s.transform.action);i.font="10px Arial",e.textWidth=i.measureText(a).width,e.text=a,e.coords=r(o,e.textWidth,t,s.transform.corner)}t.on("object:scaling",s),t.on("object:rotating",s),t.on("object:moving",s),t.on("object:pmwBtnMl:modifyingWidth",s),t.on("object:pmwBtnMr:modifyingWidth",s),t.on("before:render",(()=>{t.contextTop&&(t.contextTopDirty=!0)})),t.on("after:render",(()=>{if(e.text&&e.coords){i.font="10px Arial";const t=1.5,s=8;i.save(),i.fillStyle="#ffffff",i.globalAlpha=.3,i.fillRect(e.coords.x-t,e.coords.y-s-t,e.textWidth+2*t,s+2*t+1),i.restore(),i.save(),i.fillStyle="#000000",i.fillText(e.text,Math.round(e.coords.x),Math.round(e.coords.y)),i.restore()}})),t.on("mouse:up",(()=>{e.text="",t.renderAll()}))},n=(t,e)=>{let i="";switch(e){case"drag":{let e,s;const{angle:o}=t,n=t.getCornerPoints(t.getCenterPoint());o>45&&o<135?(e=n.bl.x,s=n.bl.y):o>135&&o<225?(e=n.br.x,s=n.br.y):o>225&&o<315?(e=n.tr.x,s=n.tr.y):(e=n.tl.x,s=n.tl.y),i=`${Math.round(e)}, ${Math.round(s)}`;break}case"rotate":i=`${Math.round(t.angle)}`;break;case"scaleX":case"scaleY":case"scale":i=`${Math.round(t.width*t.scaleX)} x ${Math.round(t.height*t.scaleY)}`;break;default:i=""}return i},r=(t,e,i,o)=>{const n=t.oCoords;let r,a;const{angle:l}=t,c=l*(Math.PI/180),h=e/2;switch(o){case"tl":r=n.tl.x+s*Math.sin(c-Math.PI/4),a=n.tl.y-s*Math.cos(c-Math.PI/4),(l>=0&&l<45||l>225)&&(r-=e);break;case"tr":r=n.tr.x+s*Math.sin(c+Math.PI/4),a=n.tr.y-s*Math.cos(c+Math.PI/4),l>135&&l<315&&(r-=e);break;case"bl":r=n.bl.x-s*Math.sin(c+Math.PI/4),a=n.bl.y+s*Math.cos(c+Math.PI/4),(l>=0&&l<135||l>315)&&(r-=e);break;case"br":r=n.br.x+s*Math.cos(c+Math.PI/4),a=n.br.y+s*Math.sin(c+Math.PI/4),l>45&&l<225&&(r-=e);break;case"mt":case"mtr":r=n.mtr.x-h+(s+h)*Math.sin(c),a=n.mtr.y+4-s*Math.cos(c);break;case"mr":r=n.mr.x-h+(s+h)*Math.cos(c),a=n.mr.y+4+s*Math.sin(c);break;case"mb":r=n.mb.x-h-(s+h)*Math.sin(c),a=n.mb.y+4+s*Math.cos(c);break;case"ml":r=n.ml.x-h-(s+h)*Math.cos(c),a=n.ml.y+4-s*Math.sin(c);break;default:l>45&&l<135?(r=n.bl.x-s*Math.sin(c+Math.PI/4)-e,a=n.bl.y+s*Math.cos(c+Math.PI/4)):l>135&&l<225?(r=n.br.x+s*Math.cos(c+Math.PI/4)-e,a=n.br.y+s*Math.sin(c+Math.PI/4)):l>225&&l<315?(r=n.tr.x+s*Math.sin(c+Math.PI/4)-e,a=n.tr.y-s*Math.cos(c+Math.PI/4)):(r=n.tl.x+s*Math.sin(c-Math.PI/4)-e,a=n.tl.y-s*Math.cos(c-Math.PI/4))}const d=i.width,u=i.height;return r<0?r-=r-3:r+e>d&&(r-=r-d+e+3),a-8<0?a-=a-8-3:a>u&&(a-=a-u+3),new window.fabric.Point(r,a)}},2572:(t,e,i)=>{"use strict";i.d(e,{E:()=>s});const s=10},74834:(t,e,i)=>{"use strict";i.d(e,{j:()=>s});class s{constructor(t){this.gridLines=[],this.bleedLines=[],this.verticalLines=[],this.horizontalLines=[],this.zoom=1,this.page=t,this.viewportTransform=this.page.fabricCanvas.viewportTransform,this.initAligningGuidelines()}initAligningGuidelines(){this.page.fabricCanvas.on("mouse:down",this.onMouseDown.bind(this)),this.page.fabricCanvas.on("object:moving",this.onObjectMoving.bind(this)),this.page.fabricCanvas.on("before:render",this.beforeRender.bind(this)),this.page.fabricCanvas.on("after:render",this.afterRender.bind(this)),this.page.fabricCanvas.on("mouse:up",this.onMouseUp.bind(this))}onMouseDown(){this.viewportTransform=this.page.fabricCanvas.viewportTransform,this.zoom=this.page.fabricCanvas.getZoom()}onMouseUp(){this.verticalLines.length=0,this.horizontalLines.length=0,this.page.fabricCanvas.renderAll()}beforeRender(){this.page.fabricCanvas instanceof window.fabric.Canvas&&this.page.fabricCanvas.contextTop&&(this.page.fabricCanvas.contextTopDirty=!0)}afterRender(){for(let t=this.verticalLines.length-1;t>=0;t--)this.drawVerticalLine(this.verticalLines[t]);for(let t=this.horizontalLines.length-1;t>=0;t--)this.drawHorizontalLine(this.horizontalLines[t])}onObjectMoving(t){if(this.page.fabricCanvas instanceof window.fabric.Canvas&&this.page.poster.alignmentGuides.enabled){const e=t.target;if(!e)return;const i=this.page.fabricCanvas.getObjects(),s=e.getCenterPoint(),o=s.x,n=s.y,r=e.getBoundingRect(),a=r.height/this.viewportTransform[3],l=r.width/this.viewportTransform[0];let c=!1,h=!1;if(!this.page.fabricCanvas._currentTransform)return;for(let t=i.length-1;t>=0;t--)if(i[t]!==e){const s=i[t].getCenterPoint(),r=s.x,d=s.y,u=i[t].getBoundingRect(),p=u.height/this.viewportTransform[3],b=u.width/this.viewportTransform[0];this.isInRange(r,o)&&(h=!0,this.verticalLines.push({x:r,y1:d<n?d-p/2-5:d+p/2+5,y2:n>d?n+a/2+5:n-a/2-5}),e.setPositionByOrigin(new window.fabric.Point(r,n),"center","center")),this.isInRange(r-b/2,o-l/2)&&(h=!0,this.verticalLines.push({x:r-b/2,y1:d<n?d-p/2-5:d+p/2+5,y2:n>d?n+a/2+5:n-a/2-5}),e.setPositionByOrigin(new window.fabric.Point(r-b/2+l/2,n),"center","center")),this.isInRange(r+b/2,o+l/2)&&(h=!0,this.verticalLines.push({x:r+b/2,y1:d<n?d-p/2-5:d+p/2+5,y2:n>d?n+a/2+5:n-a/2-5}),e.setPositionByOrigin(new window.fabric.Point(r+b/2-l/2,n),"center","center")),this.isInRange(d,n)&&(c=!0,this.horizontalLines.push({y:d,x1:r<o?r-b/2-5:r+b/2+5,x2:o>r?o+l/2+5:o-l/2-5}),e.setPositionByOrigin(new window.fabric.Point(o,d),"center","center")),this.isInRange(d-p/2,n-a/2)&&(c=!0,this.horizontalLines.push({y:d-p/2,x1:r<o?r-b/2-5:r+b/2+5,x2:o>r?o+l/2+5:o-l/2-5}),e.setPositionByOrigin(new window.fabric.Point(o,d-p/2+a/2),"center","center")),this.isInRange(d+p/2,n+a/2)&&(c=!0,this.horizontalLines.push({y:d+p/2,x1:r<o?r-b/2-5:r+b/2+5,x2:o>r?o+l/2+5:o-l/2-5}),e.setPositionByOrigin(new window.fabric.Point(o,d+p/2-a/2),"center","center"))}const d=this.gridLines.concat(this.bleedLines);for(let t=0;t<d.length;t++){const i=d[t].y1/this.zoom,s=d[t].x1/this.zoom;this.isInRange(i,n-a/2)&&e.setPositionByOrigin(new window.fabric.Point(o,i+a/2),"center","center"),this.isInRange(i,n+a/2)&&e.setPositionByOrigin(new window.fabric.Point(o,i-a/2),"center","center"),this.isInRange(i,n)&&e.setPositionByOrigin(new window.fabric.Point(o,i),"center","center"),this.isInRange(s,o-l/2)&&e.setPositionByOrigin(new window.fabric.Point(s+l/2,n),"center","center"),this.isInRange(s,o+l/2)&&e.setPositionByOrigin(new window.fabric.Point(s-l/2,n),"center","center"),this.isInRange(s,o)&&e.setPositionByOrigin(new window.fabric.Point(s,n),"center","center")}c||(this.horizontalLines.length=0),h||(this.verticalLines.length=0)}}isInRange(t,e){const i=Math.round(t),s=Math.round(e);for(let t=i-4,e=i+4;t<=e;t++)if(t===s)return!0;return!1}drawVerticalLine(t){this.drawLine(t.x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1)}drawHorizontalLine(t){this.drawLine(t.x1>t.x2?t.x2:t.x1,t.y+.5,t.x2>t.x1?t.x2:t.x1,t.y+.5)}drawLine(t,e,i,s){const o=this.page.fabricCanvas.contextContainer;o.save(),o.lineWidth=1,o.strokeStyle="rgba(63,188,231,1)",o.beginPath(),o.moveTo((t+this.viewportTransform[4])*this.zoom,(e+this.viewportTransform[5])*this.zoom),o.lineTo((i+this.viewportTransform[4])*this.zoom,(s+this.viewportTransform[5])*this.zoom),o.stroke(),o.restore()}}},64611:(t,e,i)=>{"use strict";if(i.d(e,{I:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(55425);class o{constructor(t){this.canvasCleared=!1,this.zoom=1,this.page=t,this.viewportTransform=this.page.fabricCanvas.viewportTransform,this.initAligningGuidelines()}initAligningGuidelines(){this.page.fabricCanvas.on("mouse:down",this.onMouseDown.bind(this)),this.page.fabricCanvas.on("object:moving",this.onObjectMoving.bind(this)),this.page.fabricCanvas.on("before:render",this.beforeRender.bind(this)),this.page.fabricCanvas.on("after:render",this.afterRender.bind(this))}afterRender(){this.drawBleedLines()}beforeRender(){this.page.fabricCanvas instanceof window.fabric.Canvas&&this.page.fabricCanvas.contextTop&&(this.page.fabricCanvas.contextTopDirty=!0,this.canvasCleared=!0)}onMouseDown(){this.viewportTransform=this.page.fabricCanvas.viewportTransform,this.zoom=this.page.fabricCanvas.getZoom()}drawBleedLines(){if(this.page.poster.bleed.enabled&&this.canvasCleared){const t=this.getBleedLines(),e=this.page.fabricCanvas.contextContainer;for(const i of t)e.save(),e.strokeStyle="#3FBCE8",e.lineWidth=2,e.beginPath(),e.moveTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.stroke(),e.restore();this.canvasCleared=!1}}getBleedLines(){const t=[],e=this.page.poster.bleed.getValInPixel()*this.zoom,{width:i,height:s}=this.page.fabricCanvas;return t.push({x1:e,x2:e,y1:e,y2:s-e}),t.push({x1:i-e,x2:i-e,y1:e,y2:s-e}),t.push({y1:e,y2:e,x1:e,x2:i-e}),t.push({y1:s-e,y2:s-e,x1:e,x2:i-e}),t}onObjectMoving(t){if(this.page.poster.bleed.enabled&&this.page.fabricCanvas instanceof window.fabric.Canvas){const e=t.target;if(!e)return;if(!this.page.fabricCanvas._currentTransform)return;(0,s.j)(e,this.getBleedLines(),4,this.viewportTransform,this.zoom)}}isInRange(t,e){const i=Math.round(t),s=Math.round(e);for(let t=i-4,e=i+4;t<=e;t++)if(t===s)return!0;return!1}}},72179:(t,e,i)=>{"use strict";if(i.d(e,{v:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(55425);class o{constructor(t){this.canvasCleared=!1,this.zoom=1,this.page=t,this.viewportTransform=this.page.fabricCanvas.viewportTransform,this.initAligningGuidelines()}initAligningGuidelines(){this.page.fabricCanvas.on("mouse:down",this.onMouseDown.bind(this)),this.page.fabricCanvas.on("object:moving",this.onObjectMoving.bind(this)),this.page.fabricCanvas.on("before:render",this.beforeRender.bind(this)),this.page.fabricCanvas.on("after:render",this.afterRender.bind(this))}beforeRender(){this.page.fabricCanvas instanceof window.fabric.Canvas&&this.page.fabricCanvas.contextTop&&(this.page.fabricCanvas.contextTopDirty=!0,this.canvasCleared=!0)}afterRender(){this.drawGridLines()}onMouseDown(){this.viewportTransform=this.page.fabricCanvas.viewportTransform,this.zoom=this.page.fabricCanvas.getZoom()}drawGridLines(){if(this.page.poster.grid.enabled&&this.canvasCleared){const t=this.getGridLines(),e=this.page.fabricCanvas.contextContainer;for(let i=0;i<t.length;i++)e.save(),e.lineWidth=i%5==0?2:1,e.strokeStyle="rgba(192,192,192, 0.5)",e.beginPath(),e.moveTo(t[i].x1,t[i].y1),e.lineTo(t[i].x2,t[i].y2),e.stroke(),e.restore();this.canvasCleared=!1}}getGridLines(){const t=[],{width:e,height:i}=this.page.fabricCanvas,s=e/this.page.poster.grid.size,o=i/this.page.poster.grid.size;for(let i=0;i<o;i++){const s=i*this.page.poster.grid.size,o={x1:0,y1:s,x2:e,y2:s};t.push(o)}for(let e=0;e<s;e++){const s=e*this.page.poster.grid.size,o={x1:s,y1:0,x2:s,y2:i};t.push(o)}return t}onObjectMoving(t){if(this.page.poster.grid.enabled&&this.page.fabricCanvas instanceof window.fabric.Canvas){const e=t.target;if(!e)return;if(!this.page.fabricCanvas._currentTransform)return;(0,s.j)(e,this.getGridLines(),this.getSnappingThreshold(),this.viewportTransform,this.zoom)}}getSnappingThreshold(){return Math.min(Math.ceil(this.page.poster.grid.size/10),7)}}},55425:(t,e,i)=>{"use strict";i.d(e,{j:()=>s});const s=(t,e,i,s,n)=>{const r=t.getCenterPoint(),a=r.x,l=r.y,c=t.getBoundingRect(),h=c.height/s[3],d=c.width/s[0];for(const s of e){const e=s.y1/n,r=s.x1/n;o(e,l-h/2,i)&&t.setPositionByOrigin(new window.fabric.Point(a,e+h/2),"center","center"),o(e,l+h/2,i)&&t.setPositionByOrigin(new window.fabric.Point(a,e-h/2),"center","center"),o(e,l,i)&&t.setPositionByOrigin(new window.fabric.Point(a,e),"center","center"),o(r,a-d/2,i)&&t.setPositionByOrigin(new window.fabric.Point(r+d/2,l),"center","center"),o(r,a+d/2,i)&&t.setPositionByOrigin(new window.fabric.Point(r-d/2,l),"center","center"),o(r,a,i)&&t.setPositionByOrigin(new window.fabric.Point(r,l),"center","center")}},o=(t,e,i)=>{const s=Math.round(t),o=Math.round(e);for(let t=s-i,e=s+i;t<=e;t++)if(t===o)return!0;return!1}},61881:(t,e,i)=>{"use strict";if(i.d(e,{_:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(81679);class o extends(/^(2046|330|4840)$/.test(i.j)?s.v:null){constructor(t={}){super(),this.name="",this.displayName="",this.description="",this.keywords="",this.width=0,this.height=0,this.widthInch=0,this.heightInch=0,this.widthMm=0,this.heightMm=0,this.widthCm=0,this.heightCm=0,this.widthFt=0,this.heightFt=0,this.dpi=0,this.idUserPosterType=0,this.rotatable="0",this.hasPrintProduct=!1,this.scaleFactors=[],this.copyVals(t)}toObject(){return{name:this.name,displayName:this.displayName,description:this.description,keywords:this.keywords,width:this.width,height:this.height,widthInch:this.widthInch,heightInch:this.heightInch,widthMm:this.widthMm,heightMm:this.heightMm,widthCm:this.widthCm,heightCm:this.heightCm,widthFt:this.widthFt,heightFt:this.heightFt,dpi:this.dpi,idUserPosterType:this.idUserPosterType,rotatable:this.rotatable,hasPrintProduct:this.hasPrintProduct,scaleFactors:this.scaleFactors}}isCustomSize(){return"poster-custom"===this.name||"poster-custom-print"===this.name||this.name.includes("poster-custom-user")}}},58082:(t,e,i)=>{"use strict";if(i.d(e,{U:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(81679);class o extends(/^(2046|330|4840)$/.test(i.j)?s.v:null){constructor(t){super(),this.enabled=!0,this.poster=t}toObject(){return{enabled:this.enabled}}updateFromObject(t){this.copyVals(t)}}},23397:(t,e,i)=>{"use strict";if(i.d(e,{r:()=>o}),/^(2046|330|4840)$/.test(i.j))var s=i(81679);class o extends(/^(2046|330|4840)$/.test(i.j)?s.v:null){constructor(t){super(),this.enabled=!1,this.size=25,this.poster=t}toObject(){return{enabled:this.enabled,size:this.size}}updateFromObject(t){this.copyVals(t),this.poster.redux.updateReduxData()}}},25628:(t,e,i)=>{"use strict";i.d(e,{e:()=>s});const s=(t,e=0)=>new Promise((i=>{try{const s=new XMLHttpRequest;s.ontimeout=t=>i(!1),s.onerror=t=>i(!1),s.onreadystatechange=function(){4===s.readyState&&i(200===s.status)},s.open("GET",t,!0),s.timeout=e,s.send(null)}catch(t){i(!1)}}))},4689:(t,e,i)=>{"use strict";i.d(e,{g:()=>s});const s=t=>new Promise((e=>{setTimeout(e,t)}))},33456:()=>{!function(t,e,i){var s=[],o=[],n={_version:"3.0.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout((function(){e(i[t])}),0)},addTest:function(t,e,i){o.push({name:t,fn:e,options:i})},addAsyncTest:function(t){o.push({name:null,fn:t})}},r=function(){};r.prototype=n,r=new r;var a=e.documentElement,l="svg"===a.nodeName.toLowerCase(),c=n._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];function h(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):l?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}n._prefixes=c,r.addTest("adownload",!t.externalHost&&"download"in h("a"));var d=n.testStyles=function(t,i,s,o){var n,r,c,d,u="modernizr",p=h("div"),b=function(){var t=e.body;return t||((t=h(l?"svg":"body")).fake=!0),t}();if(parseInt(s,10))for(;s--;)(c=h("div")).id=o?o[s]:u+(s+1),p.appendChild(c);return(n=h("style")).type="text/css",n.id="s"+u,(b.fake?b:p).appendChild(n),b.appendChild(p),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),p.id=u,b.fake&&(b.style.background="",b.style.overflow="hidden",d=a.style.overflow,a.style.overflow="hidden",a.appendChild(b)),r=i(p,t),b.fake?(b.parentNode.removeChild(b),a.style.overflow=d,a.offsetHeight):p.parentNode.removeChild(p),!!r};r.addTest("touchevents",(function(){var i;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch)i=!0;else{var s=["@media (",c.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");d(s,(function(t){i=9===t.offsetTop}))}return i})),function(){var t,e,i,n,a,l;for(var c in o){if(t=[],(e=o[c]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(n="function"==typeof e.fn?e.fn():e.fn,a=0;a<t.length;a++)1===(l=t[a].split(".")).length?r[l[0]]=n:(!r[l[0]]||r[l[0]]instanceof Boolean||(r[l[0]]=new Boolean(r[l[0]])),r[l[0]][l[1]]=n),s.push((n?"":"no-")+l.join("-"))}}(),function(t){var e=a.className,i=r._config.classPrefix||"";if(l&&(e=e.baseVal),r._config.enableJSClass){var s=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(s,"$1"+i+"js$2")}r._config.enableClasses&&(e+=" "+i+t.join(" "+i),l?a.className.baseVal=e:a.className=e)}(s),delete n.addTest,delete n.addAsyncTest;for(var u=0;u<r._q.length;u++)r._q[u]();t.Modernizr=r}(window,document)},46102:()=>{}}]);
//# sourceMappingURL=5937.d0d881aad9205ddd1a5f.bundle.js.map
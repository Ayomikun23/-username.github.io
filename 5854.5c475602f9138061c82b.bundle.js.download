"use strict";(self.webpackChunkpmw=self.webpackChunkpmw||[]).push([[5854],{72309:(e,t,i)=>{i.d(t,{$:()=>c,C1:()=>u,Yt:()=>o,_s:()=>n,gH:()=>a,go:()=>r,hA:()=>E});var o,s,n,a,d,r,c,E,l=i(30297);i(15669),function(e){e.PUBLIC_TO_EVERYONE="PUBLIC_TO_EVERYONE",e.MUTUAL_FOLLOW_FRIENDS="MUTUAL_FOLLOW_FRIENDS",e.SELF_ONLY="SELF_ONLY"}(o||(o={})),function(e){e.FOLLOWER_OF_CREATOR="FOLLOWER_OF_CREATOR",e.MUTUAL_FOLLOW_FRIENDS="MUTUAL_FOLLOW_FRIENDS",e.SELF_ONLY="SELF_ONLY"}(s||(s={})),function(e){e.PUBLIC="PUBLIC",e.CONNECTIONS="CONNECTIONS",e.LOGGED_IN="LOGGED_IN"}(n||(n={})),function(e){e.PUBLIC="PUBLIC",e.UNLISTED="UNLISTED",e.PRIVATE="PRIVATE"}(a||(a={})),function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC"}(d||(d={})),function(e){e.VIDEO="VIDEO",e.IMAGE="IMAGE",e.REELS="REELS"}(r||(r={})),function(e){e.VIDEO="VIDEO",e.IMAGE="IMAGE",e.REELS="REELS"}(c||(c={})),function(e){e.DRAFT="draft",e.SCHEDULED="scheduled",e.SCHEDULE_READY="schedule_ready",e.PUBLISHING="publishing",e.READY="ready",e.PUBLISHED="published",e.ERROR="error",e.SCHEDULE_ERROR="schedule_error",e.DELETED="deleted",e.WAITING_FOR_INSTAGRAM="waiting_for_instagram",e.SCHEDULING="scheduling"}(E||(E={}));const u=e=>{switch(e){case E.SCHEDULED:case E.SCHEDULE_READY:case E.PUBLISHING:case E.READY:case E.WAITING_FOR_INSTAGRAM:case E.SCHEDULING:return l.wE.PRIMARY;case E.PUBLISHED:return l.wE.SUCCESS;case E.ERROR:case E.SCHEDULE_ERROR:return l.wE.DANGER;case E.DELETED:case E.DRAFT:default:return l.wE.NEUTRAL}}},4029:(e,t,i)=>{i.d(t,{TC:()=>a,Zk:()=>n,kl:()=>d});var o=i(97168),s=function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function a(e){try{r(o.next(e))}catch(e){n(e)}}function d(e){try{r(o.throw(e))}catch(e){n(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,d)}r((o=o.apply(e,t||[])).next())}))};const n=(0,o.hg)("getSocialMediaPostsForUser",(({offset:e,limit:t,getDeleted:i,sortPostsBy:o})=>s(void 0,void 0,void 0,(function*(){return window.PMW.readLocal("socialmedia/getSocialMediaPostsForUser",{offset:e,limit:t,getDeleted:i,sortPostsBy:o})})))),a=(0,o.hg)("getPostableSocialMediaAccountsForUser",(()=>s(void 0,void 0,void 0,(function*(){return window.PMW.readLocal("socialmedia/getPostableSocialMediaAccountsForUser")})))),d=((0,o.hg)("savePreferredProfileSelectionUser",(e=>s(void 0,void 0,void 0,(function*(){return window.PMW.writeLocal("socialmedia/savePreferredProfileSelectionUser",{socialMediaAccountIds:e.socialMediaAccountIds,idPost:e.idPost})})))),(0,o.hg)("doPublishPostForAccount",(e=>s(void 0,void 0,void 0,(function*(){return window.PMW.pollingAjaxCallAsync((()=>window.PMW.writeLocal("socialmedia/doPublishPostForAccount",{idPost:e.idPost,idSocialMediaAccount:e.idSocialMediaAccount,isRetry:void 0!==e.isRetry&&e.isRetry})),(()=>window.PMW.writeLocal("socialmedia/isPostPublished",{idPost:e.idPost,idSocialMediaAccount:e.idSocialMediaAccount})))})))),(0,o.hg)("updateSocialMediaPostPublishingParams",(e=>s(void 0,void 0,void 0,(function*(){return window.PMW.writeLocal("socialmedia/updateSocialMediaPostPublishingParams",{idPost:e.idPost,idDesign:e.idDesign,publishOn:e.publishOn,timeZoneOffset:e.timeZoneOffset,publishingParams:e.publishingParams})})))),(0,o.hg)("getSocialMediaAccountsForUser",(()=>s(void 0,void 0,void 0,(function*(){return window.PMW.readLocal("socialmedia/getSocialMediaAccountsForUser")})))))},51595:(e,t,i)=>{i.d(t,{EI:()=>d,GJ:()=>l,LP:()=>r,R1:()=>w,fJ:()=>u,jg:()=>c,yx:()=>E});var o=i(72309),s=(i(67294),i(4029),i(56187),i(62374)),n=(i(91697),i(10534),i(35685),i(19292),i(47098),i(29903),i(70109),i(25154),i(76872)),a=i(36131);const d=()=>(0,a.C)((e=>e.socialMediaWizard.post)),r=()=>(0,a.C)((e=>e.socialMediaWizard.isPublishingVideo)),c=e=>(0,a.C)((t=>t.socialMediaWizard.publishingParams[e])),E=()=>(0,a.C)((e=>e.socialMediaWizard.designIdToPublish)),l=()=>(0,a.C)((e=>e.socialMediaWizard.wizardStep)),u=e=>(0,a.C)((t=>{if(!e)return s.R8.RESIZE_NOT_NEEDED;const i=t.socialMediaWizard.publishingParams[e.id],{accountNeedsResizingMap:n}=t.socialMediaWizard;if(!n||!(e.id in n))return s.R8.RESIZE_NOT_NEEDED;if("mediaType"in i&&i.mediaType===o.$.REELS){const{reelNeedsResizing:t}=n[e.id];if(t)return t}return n[e.id].needsResizing})),w=e=>(0,a.C)((t=>{if(!e)return n.aO.NOT_RESIZED;const{accountResizeStatusMap:i}=t.socialMediaWizard,s=t.socialMediaWizard.publishingParams[e.id];if(!(e.id in i))return n.aO.NOT_RESIZED;if("mediaType"in s&&s.mediaType===o.$.REELS){const{reelResizeStatus:t}=i[e.id];return t||n.aO.NOT_RESIZED}return i[e.id].accountResizeStatus}))},62374:(e,t,i)=>{var o;i.d(t,{$d:()=>o,BF:()=>n,K:()=>r,R8:()=>c,SocialPostEvent:()=>d,_N:()=>s,y4:()=>a}),function(e){e.FACEBOOK="facebook",e.FACEBOOK_PAGE="fb_page",e.FACEBOOK_PROFILE="fb_profile",e.FACEBOOK_GROUP="fb_group",e.INSTAGRAM="ig-business",e.YOUTUBE="youtube-channel",e.TWITTER="twitter",e.LINKEDIN="linkedin-profile",e.TIKTOK="tiktok-profile"}(o||(o={}));const s=[o.FACEBOOK,o.INSTAGRAM,o.TWITTER,o.TIKTOK,o.LINKEDIN,o.YOUTUBE];var n,a,d,r,c;!function(e){e.LAST_MODIFIED="last_modified",e.DATE_PUBLISHED="publish_on"}(n||(n={})),function(e){e.DATE_CREATED="DATE_CREATED",e.BY_PLATFORM="BY_PLATFORM"}(a||(a={})),function(e){e.PUBLISHED="post:published",e.CREATED="post:created",e.DELETED="post:delete",e.RESET_GRID="post:delete_all",e.SCHEDULED="post:scheduled",e.UNSCHEDULED="post:unscheduled",e.ERROR="post:error"}(d||(d={})),function(e){e.CREATED="account:created"}(r||(r={})),function(e){e.RESIZE_NEEDED="RESIZE_NEEDED",e.BACKEND_OPTIMIZATION_NEEDED="BACKEND_OPTIMIZATION_NEEDED",e.RESIZE_NOT_NEEDED="RESIZE_NOT_NEEDED",e.NOT_SUPPORTED="NOT_SUPPORTED"}(c||(c={}))},93509:(e,t,i)=>{i.d(t,{i2:()=>E,jW:()=>u,l2:()=>c,rE:()=>l});var o,s,n=i(28202),a=i(15669),d=i(75655),r=i(17310);!function(e){e.IMAGE="jpg",e.VIDEO="mp4"}(o||(o={})),function(e){e.THUMB="THUMB",e.SCREEN="SCREEN"}(s||(s={}));const c=(e,t=!0)=>{const i=(new Date).getTime();let o=0,s=0;const n=new d.B,a=new URL(e);if(!a)return n.reject(),n;const c=setInterval((()=>{o>=300&&(clearInterval(c),n.resolve());const e=new XMLHttpRequest;e.open("HEAD",`${(0,r.Rp)(a.href)}`,!0),e.onerror=()=>{console.log("error!")},e.onreadystatechange=function(){if(this.readyState===this.DONE&&void 0!==e.getResponseHeader("last-modified")){const o=e.getResponseHeader("last-modified");if(o&&Date.parse(o)>i){if(t&&s<3)return console.log("Fetched asset, Counter:",s),void(s+=1);console.log("clearInterval"),clearInterval(c),n.resolve()}}},e.onerror=()=>{clearInterval(c),n.reject()},o+=1,e.send()}),2e3);return n},E=()=>window.PMW.util.asset_url("images/landing-page/placeholder-image.png"),l=()=>window.PMW.util.asset_url("images/landing-page/placeholder-video.mp4"),u=(e,t=!1,i=s.SCREEN)=>((e,t,i=s.THUMB)=>{const o=(0,a.K9)(new Date);let d="";return i&&(d="_screen"),(0,n._2)(`posterpreviews/${e}${d}.${t}?ts=${o}`,(0,n.bE)())})(e,t?o.VIDEO:o.IMAGE,i)},10534:(e,t,i)=>{i.d(t,{$C:()=>f,$j:()=>u,D$:()=>U,FJ:()=>L,GJ:()=>P,GQ:()=>D,Hd:()=>S,O4:()=>p,Sr:()=>A,bn:()=>w,cI:()=>g,cQ:()=>_,dm:()=>h,eV:()=>I,ei:()=>F,ew:()=>R,qs:()=>O,si:()=>N,x7:()=>l,xz:()=>T});var o=i(62374),s=i(28202),n=(i(45024),i(72309)),a=i(92244),d=i(56187),r=i(37785),c=(i(94275),i(19292),i(25154)),E=(i(17339),function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function a(e){try{r(o.next(e))}catch(e){n(e)}}function d(e){try{r(o.throw(e))}catch(e){n(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,d)}r((o=o.apply(e,t||[])).next())}))});const l="https://www.facebook.com/postermywall",u="https://www.instagram.com/postermywall/",w="https://www.twitter.com/postermywall",O="https://www.youtube.com/postermywall",P=e=>{const t=window.PMW.util.asset_url("images/resources/social-icons/original/");let i="";switch(e){case o.$d.FACEBOOK:case o.$d.FACEBOOK_PROFILE:case o.$d.FACEBOOK_PAGE:case o.$d.FACEBOOK_GROUP:i="social-icon-facebook.png";break;case o.$d.TWITTER:i="social-icon-twitter.png";break;case o.$d.LINKEDIN:i="social-icon-linkedin.png";break;case o.$d.TIKTOK:i="social-icon-tiktok.png";break;case o.$d.YOUTUBE:i="social-icon-youtube.png";break;case o.$d.INSTAGRAM:i="social-icon-instagram.png";break;default:return""}return t+i},I=()=>{window.PMW.showPremiumOnlyFeatureDialog(window.PMW.PREMIUM_ONLY_FEATURE_ADD_SOCIAL_MEDIA_ACCOUNTS)},_=e=>{window.open(window.PMW.util.site_url(`socialmedia/refreshAccount?idAccount=${e}`),"","width=600,height=600,top=0,=right=50%,=scrollbars=yes")},R=e=>{switch(e){case o.$d.FACEBOOK:case o.$d.FACEBOOK_PROFILE:case o.$d.FACEBOOK_PAGE:case o.$d.FACEBOOK_GROUP:return"facebook.com";case o.$d.TWITTER:return"twitter.com";case o.$d.LINKEDIN:return"linkedin.com";case o.$d.TIKTOK:return"tiktok.com";case o.$d.YOUTUBE:return"youtube.com";case o.$d.INSTAGRAM:return"instagram.com";default:return""}},p=e=>{switch(e){case o.$d.FACEBOOK:case o.$d.FACEBOOK_PROFILE:case o.$d.FACEBOOK_PAGE:case o.$d.FACEBOOK_GROUP:return"https://www.facebook.com";case o.$d.TWITTER:return"https://www.twitter.com";case o.$d.LINKEDIN:return"https://www.linkedin.com";case o.$d.TIKTOK:return"https://www.tiktok.com";case o.$d.YOUTUBE:return"https://www.youtube.com";case o.$d.INSTAGRAM:return"https://www.instagram.com";default:return""}},A=e=>{switch(e){case o.$d.FACEBOOK:case o.$d.FACEBOOK_PROFILE:case o.$d.FACEBOOK_PAGE:case o.$d.FACEBOOK_GROUP:return"Facebook";case o.$d.TWITTER:return"Twitter";case o.$d.LINKEDIN:return"LinkedIn";case o.$d.TIKTOK:return"TikTok";case o.$d.YOUTUBE:return"YouTube";case o.$d.INSTAGRAM:return"Instagram";default:return""}},T=e=>Date.parse(e.toUTCString())/1e3,g=e=>{const t=e.id;window.PMW.write(window.PMW.util.site_url("socialmedia/unschedulePost"),{idPost:e.id},(e=>{"success"===e.status?C(t,o.SocialPostEvent.UNSCHEDULED):window.PMW.setLoading(window.i18next.t("pmwjs_something_went_wrong"),!0)}))},D=(e,t)=>E(void 0,void 0,void 0,(function*(){(0,r.QP)("delete-post",{text:window.i18next.t("pmwjs_deleting")});try{yield window.PMW.writeLocal(e,{idPost:t}),window.PMW.redux.store.dispatch((0,d.md)(t))}catch(e){return void window.PMW.openErrorModal({message:window.i18next.t("pmwjs_social_post_delete_error")})}finally{(0,r.Zk)("delete-post")}})),L=(e,t)=>{const i=t.getTimezoneOffset(),s=T(t);window.PMW.write(window.PMW.util.site_url("socialmedia/rescheduleSocialPost"),{idPost:e,publishOn:s,timezoneOffset:i},(t=>{"success"===t.status?(window.PMW.redux.store.dispatch((0,a.Ub)(n.hA.SCHEDULE_READY)),window.PMW.redux.store.dispatch((0,a.vV)(!0)),C(e,o.SocialPostEvent.SCHEDULED)):window.PMW.setLoading(window.i18next.t("pmwjs_something_went_wrong"),!0)}))},h=(e,t)=>{const i=e.map(((e,i)=>m(e.id,t).then((()=>{window.PMW.redux.store.dispatch((0,a.ul)(i))})).catch((()=>{window.PMW.redux.store.dispatch((0,a.Zs)(i))}))));return Promise.all(i)},m=(e,t)=>E(void 0,void 0,void 0,(function*(){yield window.PMW.writeLocal("socialmedia/doPublishPostForAccount",{idPost:t,idSocialMediaAccount:e})})),f=e=>{window.PMW.setLoading(window.i18next.t("pmwjs_duplicating")),window.PMW.write(window.PMW.util.site_url("socialmedia/duplicatePostAsDraft"),{postId:e.id},(e=>{"success"===e.status?(window.PMW.setLoading(window.i18next.t("pmwjs_duplicated"),!0),(e=>{window.PMW.redux.store.dispatch((0,d.Td)(e))})(e.data.post)):window.PMW.setLoading(window.i18next.t("pmwjs_something_went_wrong"),!0),setTimeout((()=>{window.PMW.setLoading(null)}),3e3)}))},M=(e,t)=>{window.dispatchEvent(new CustomEvent(e,{detail:t}))},S=(e,t)=>{const i=Object.assign(Object.assign({},t),{state:e?n.hA.ERROR:n.hA.PUBLISHED});M(o.SocialPostEvent.ERROR,{postId:t.id,post:i})},C=(e,t)=>{window.PMW.write(window.PMW.util.site_url("socialmedia/getPostById"),{idPost:e},(i=>{"success"===i.status?void 0!==t&&(t===o.SocialPostEvent.SCHEDULED&&(e=>{for(let t=0;t<e.length;t++){const i=e[t].type,o=A(i);(0,c.qh)(c.Y4.POST_SCHEDULED,{[c.P$.SOCIAL_PLATFORM]:o})}})(i.data.post.accounts),M(t,{postId:e,post:i.data.post})):window.PMW.setLoading(window.i18next.t("pmwjs_something_went_wrong"),!0)}))},N=e=>{window.location.href=window.PMW.util.site_url(`socialmedia/post/${e}`)},U=e=>{switch(e){case o.$d.FACEBOOK:case o.$d.FACEBOOK_PROFILE:case o.$d.FACEBOOK_PAGE:case o.$d.FACEBOOK_GROUP:return(0,s._2)("assets/facebook-logo-thumb-circle.png",(0,s.bE)());case o.$d.TWITTER:return(0,s._2)("assets/twitter-logo-thumb-circle.png",(0,s.bE)());case o.$d.LINKEDIN:return(0,s._2)("assets/linkedin-logo-thumb-circle.png",(0,s.bE)());case o.$d.TIKTOK:return(0,s._2)("assets/tiktok-logo-thumb-circle.png",(0,s.bE)());case o.$d.YOUTUBE:return(0,s._2)("assets/youtube-logo-thumb-circle.png",(0,s.bE)());case o.$d.INSTAGRAM:return(0,s._2)("assets/instagram-logo-thumb-circle.png",(0,s.bE)());default:return""}},F=(e,t)=>E(void 0,void 0,void 0,(function*(){const i=yield window.PMW.writeLocal("socialmedia/getResizedDesign",e);if(!i)throw new Error("Unable to resize");const{s3FilePath:o}=i;if(o)return o;if(!t||!i.videoS3FileName)throw new Error("Unable to resize");return(yield window.PMW.pollingAjaxCallAsync((()=>E(void 0,void 0,void 0,(function*(){}))),(()=>window.PMW.readLocal("socialmedia/checkVideoResizeStatus",{s3FileName:i.videoS3FileName,posterHashedId:e.posterId,idPost:e.idPost,socialPlatform:e.socialMediaPlatform})),3e5))||(console.log("Error while trying to get the resized image"),"")}))}}]);
//# sourceMappingURL=5854.5c475602f9138061c82b.bundle.js.map